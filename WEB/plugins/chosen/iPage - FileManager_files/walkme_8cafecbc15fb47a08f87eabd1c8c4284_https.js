/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){function e(){window._walkmeConfig=window._walkmeConfig||{},window._walkmeInternals=window._walkmeInternals||{},R=_walkmeInternals,R.snippetLog=[],n("ish");var e="false";if(R.isSelfHosted="true"===e,n("ssm"),f(),N=new v,N.cdnServerName.indexOf("###AUTO_DETECT###")>-1&&(n("lad"),U=C(N.cdnServerName.replace("###AUTO_DETECT###","")),N=p(N)),n("lsu"),P=_(),N=k(N),n("cli"),_walkmeConfig.smartLoad){if(top!=window&&!r()&&t())return}else if(1!=window.walkme_load_in_iframe&&top!=window)return;if(n("cuc"),y()){n("exl");var a=window[g()],s=R.blocked;if(n("lsl"),i(),n("ipm"),!m()&&(n("clt"),window.document.dontLoadTriangle))return n("bsl"),window.walkme_snippet_blocked=!0,R.blocked=!0,void(R.continueLoad=o);if(n("slb"),a&&!s)try{n("slt"),console.log("WalkMe Snippet was loaded twice")}catch(u){}n("lss"),o(),n("eok")}else try{n("bns"),walkme_browser_not_supported()}catch(u){}}function t(){try{var e=window;do if(e=e.parent.window,e._walkmeConfig)return!0;while(e!=top)}catch(t){}return!1}function r(){try{if(parent.location.href)return!1}catch(e){}return!0}function n(e){R.snippetLog.push(e)}function i(){var e=g();window[e]=V}function o(){window.walkme_custom_settings_data?(n("lso"),a(walkme_custom_settings_data)):(n("lsp"),O(P,null,R.isSelfHosted,"fixedCallback",a))}function a(e){return!m()&&window.document.dontLoadTriangle?(R.blocked=!0,void(R.continueLoad=function(){s(e)})):(n("cls"),void s(e))}function s(e){M=p(e);var t=window.walkme_settings_callback;t&&t(M);var r=D("walkme_is_enabled_override");if(void 0!==r){if("0"===r)return}else if(!e.IsEnabled)return;u(e.jQueryFile)}function u(e){if(window.walkme_custom_jquery)window.mtjQuery=walkme_custom_jquery,c();else{var t=b("walkmeCustomjQueryUrl");if(0!=t&&(e=t),R.localJQuery){var r=e.lastIndexOf("/"),n=e.substring(r+1);e="https://localhost/mt/resources/"+n}O(e,c)}}function c(){void 0!=window.mtjQuery&&(G||(G=!0,window.walkme_custom_jquery||mtjQuery.noConflict(),mtjQuery(document).ready(function(){try{d(M)}catch(e){}})))}function l(){var e;R.localLib&&(e="https://localhost/mt/lib/maketutorial_lib.js");var t=b("walkmeCustomeLibUrl");return 0!=t?t:e}function d(e){var t=b("wm-prelibjs");t&&(e.PreLibJsFile=t),e.PreLibJsFile&&""!=e.PreLibJsFile?(window.walkme_pre_lib_loaded=function(){w(e)},O(e.PreLibJsFile)):w(e)}function w(e){var t=l()||e.LibFile;O(t)}function g(){return m()?"wmPreviewSnippet":"wmSnippet"}function f(){var e="###IS_PREVIEW_MODE###";"true"===e&&(J=$.preview)}function m(){return J==$.preview}function v(){this.recorderServer="###RECORDER_SERVER_NAME###",this.cdnServerName="https://d3b3ehuo35wzeh.cloudfront.net",this.storage="cookie",this.userGuids=["8cafecbc15fb47a08f87eabd1c8c4284"],window.walkme_custom_cdn_server&&(this.cdnServerName=walkme_custom_cdn_server),window.walkme_custom_app_server&&(this.recorderServer=walkme_custom_app_server),window.walkme_custom_data_url?this.triangleUrl=walkme_custom_data_url:this.triangleUrl=this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###",window.walkme_custom_datafile_url?this.datafilesArray=walkme_custom_datafile_url:this.datafilesArray="###SPECIAL_DATA_FILE###",window.walkme_custom_widget_url?this.widgetUrl=walkme_custom_widget_url:this.widgetUrl="###SPECIAL_WIDGET_FILE###"}function _(){var e="walkme_custom_user_settings_",t="https://s3.amazonaws.com/s3.maketutorial.com/users/8cafecbc15fb47a08f87eabd1c8c4284/settings.txt",r=D(e+"url",!0),i=D(e+"guid",!0),o=D(e+"env",!0),a=h();return r&&(t=r),i&&(t=t.replace(/(users\/)([^\/]*)(\/)/,"$1"+i+"$3")),(o||""===o)&&(o&&(o+="/"),t=t.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+o+"$3")),t=p(t),R.settingsUrl=t,n(a?"cb":"ncb"),a&&(t+="?b="+(new Date).getTime()),t}function h(){var e=b("walkMe_wm-settings-cache-bust");if(e){var t=/{"val":"(true|false)","exp":(\d+)}/,r=t.exec(e);if(r&&"true"==r[1]&&(new Date).getTime()<parseInt(r[2]))return!0}return!1}function p(e){return void 0==U?e:j(e,function(e){return e.replace("###AUTO_DETECT###",U)})}function S(e){var t,r,n,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),n=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==e)return n;return!1}function b(e){try{if(W){var t=W.getItem(e);if(null!=t)return t}}catch(r){}return!1}function k(e){return e}function y(){var e=D("walkme_dont_check_browser");if("1"===e||m())return!0;var t=A(),r=E();return t&&r}function E(){var e=/android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(navigator.userAgent||navigator.vendor||window.opera),t=Math.max(screen.width,screen.height),r=Math.min(screen.width,screen.height),n=800>t||600>r;return!e&&!n}function A(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,r){if(-1!=r.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(e.init(),"Chrome"==e.browser||"Firefox"==e.browser||"Safari"==e.browser&&"Windows"!=e.OS)return!0;if("Explorer"==e.browser&&e.version>=7)return!0;try{n("icb"),console.log("WalkMe: Incompatible browser.")}catch(t){}return!1}function O(e,t,r,n,i){var o=document.createElement("script");o.async=!0,r&&(e+=(-1==e.indexOf("?")?"?":"&")+"_wmts="+x()),o.src=e,o.id="mt_script",t&&(o.onload=t,o.onreadystatechange=t),L(n,i),T().appendChild(o)}function T(){return F||(F=document.getElementsByTagName("head")[0]),F}function L(e,t){if(e&&t){var r=window[e];window[e]=function(n){window[e]=r,t(n)}}}function x(){return(new Date).getTime()}function C(e){for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r++){var n=t[r],i=n.src;if(i&&i.indexOf("walkme_")>0){if(e){var r=i.indexOf(e),o=I(i.substr(0,r));return o}var r=i.indexOf("walkme_"),o=I(i.substr(0,r-1));return o}}return""}function I(e){return e.replace(/^\s+|\s+$/g,"")}function j(e,t){if("string"==typeof e)return t(e);if("[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<e.length;r++)e[r]=j(e[r],t);return e}if("object"==typeof e){for(var r in e)Object.hasOwnProperty.call(e,r)&&(e[r]=j(e[r],t));return e}return e}function D(e,t){var r=t?b(e):S(e);if(r!==!1)return r;var n=window[e];return void 0!=n?n:void 0}var F,M,N,P,U,R,W,V=this,G=!1,Q="28",$={publish:0,preview:1},J=$.publish;try{W=window.localStorage}catch(q){}this.getSnippetVersion=function(){return Q},this.getSettingsFile=function(){return M},this.getServerSettings=function(){return N},this.fixAutoDetectPaths=p,setTimeout(e,0)}new WalkmeSnippet;
/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe LTD
 */
function ClassMakeTutorial(){function e(e,t,n,r,a,s,u,l,c,d,f){function p(){A=s.addScript,g(),(!l||l.isSelfHosted)&&(H=!1)}function g(){window.wmPlaySnippet?(R=window.wmPlaySnippet,V=!0,W=!0):window.wmPreviewSnippet?(R=window.wmPreviewSnippet,Q=!0,W=!0):window.wmSnippet&&(R=window.wmSnippet,W=!0)}function h(t){var n=e.Logger.timer("init data files and widget");M=0;var r=!(Q||V);if(void 0!=window.wm_walkmeLibLoaded)_walkMe=_makeTutorial=e,wm_walkmeLibLoaded(e);else{if(!W)return;window.document.dontLoadTriangle&&r?(window._walkmeInternals.blocked=!0,window._walkmeInternals.continueLoad=function(){m(t)}):m(t)}n.stop()}function m(t){var n=u.getSettingsFile();n&&(e.setPetaServerName(n.PetaServer),e.setCdnServer(n.CdnServerName),n.IsInRecorder&&e.setInRecorder(!0),e.setUserGuid(n.UserGuids&&n.UserGuids[0]),N=n.PlayerServer,V?n.data&&(e.setSurveysForRecorder("[]"),e.setSiteConfig(n.data.siteConfig),e.setTutorialsForEditor(n.data.tutorials,n.UserGuids[0]),setTimeout(function(){e.dataFinishedLoading(!0)},1)):v(n,function(e){w(n,e)}))}function v(t,r){var i=f.Data;if(null==i||void 0==i.Permutations)r();else{var o=i.DefaultPermutation,a=i.Permutations;n.setPermutations(a,o);var s=y(i.ActivationRules);n.initGetPermutation(s,function(t){var o=n.getPermutationById(t);return 0===o.LoadWalkMe?(wo("WalkMe ABTesting - WalkMe Loading canceled. Stopping execution"),void e.removeWalkMe("AbTesting - LoadWalkMe is false")):(e.appendWalkMeConfigData(i),void r(t))})}}function y(e){for(var t=0;t<e.length;t++){var n=e[t],r=a.evaluate(n.Settings.conditionTree);if(r===!0){var i=n.PermutationIds[0];return i}}return null}function w(e,t){for(var n=e.DataFiles,r=0;r<n.length;r++)if(n[r].metaData)return void b(e,n[r]);S(e.DataFiles,e.WidgetFile,t)}function b(e,t){function n(t,n,r){var i=[];t=R.fixAutoDetectPaths(t);for(var o=0;o<e.DataFiles.length;o++)1==e.DataFiles[o].metaData?i=i.concat(t.DataFiles):i.push(e.DataFiles[o]);S(i,e.WidgetFile)}d.loadTextFile(t.url,"fixedCallback",n,void 0,!1)}function S(e,t,n){L=o(i(e)),T(t),k(e,n)}function T(e){P=e}function k(e,t){O=c.fixLanguageUrlInDataFiles(o(i(e)),F),void 0!==t&&t>-1&&(O=I(O,t)),c.setLanguages(O),D()}function I(e,t){for(var n=0;n<e.length;n++)e[n].url=C(e[n],t);return e}function C(e,t){var n=e.url,r=".js";return n.substring(0,n.length-r.length)+"_"+t+r}function x(e){A(e)}function _(e){A(e)}function D(){try{var t=O[M].url;U=void 0!=O[M].isHidden?O[M].isHidden:!1,x(t)}catch(n){e.Logger.error("faild to load data file: "+n)}}function E(e){var t={};t=u.getSettingsFile();var n;s.isLocalStorageEnabled()&&(n=window.localStorage.getItem(j)),n&&(t.PostLibJsFile=n),t.PostLibJsFile&&""!=t.PostLibJsFile?(window.walkme_post_lib_loaded=function(){e()},A(t.PostLibJsFile)):e()}this.LocalSVNRevision="$Rev: 5251 $";var A,P,N,R,j="wm-postlibjs",M=null,L=[],O=[],G=null,U=!1,F=!1,B=!1,W=!1,Q=!1,V=!1,H=!0;this.isNextDataPackageIsHidden=function(){return U},this.getPlayerServer=function(){return N},this.changeLanguage=function(t,r){e.stopTutorial(void 0,!0);var i=c.changeLanguage(t,L);if(i){e.releaseLaunchers(void 0,void 0,!0),e.releaseShoutOuts(),G=r,M=0,F=!0,B=!0;var o=n.getPermutation();k(L,o)}else r(i)},this.isNewLanguage=function(){return B},this.startInitializer=function(e){E(function(){h(e)})},this.dataFileLoadedWrapper=function(){if(U=!1,M++,B=!1,M==O.length){if(!e.dataFinishedLoading())return;F?(F=!1,G&&G(!0)):_(P)}else D()},p.apply(null,arguments)}function t(){function e(e){u=e,u.__wmoop__=s,s.Virtual=new r(s),s.Prop=new n(s)}function t(){for(var e in h){if(!c.IsVirtual(e))throw"Cannot override non-virtual method ["+e+"]. of class : "+c;c.DoOverride(e,h[e])}}function i(){var e={},t={},t=c.GetOriginalFunctions();for(var n in t){var r=t[n];e[n]=r}return e}function o(){var e=c.GetPublics();for(var t in e){var n=e[t];s.Public(t,n)}}function a(e,t,n){function r(){return g[e](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19])}return n?(g[e]=t,r):t}var s=this;s.LocalSVNRevision="$Rev: 3461 $";var u,l=null,c=null,d={},f={},p={},g={},h={},m={};s.Extends=function(e,n,r,a,u,d,f){l=new e(n,r,a,u,d,f),c=l.__wmoop__,o(),t();var p=i();s._base=p},s.Override=function(e,t){return h[e]=t,t},s.DoOverride=function(e,t){g[e]=t},s.IsVirtual=function(e){return void 0!==g[e]},s.GetOriginalFunctions=function(){return p},s.Public=function(e,t,n){var r=a(e,t,n);return p[e]=t,u[e]=r,d[e]=r,r},s.Protected=function(e,t,n){var r=a(e,t,n);return p[e]=t,f[e]=r,r},s.GetProperties=function(){return m},s.GetPublics=function(){return d},s.GetProtecteds=function(){return f},e.apply(null,arguments)}function n(){function e(e){n=e}function t(e,t){function r(t){return void 0===t?n.GetProperties()[e]:void(n.GetProperties()[e]=t)}return n.GetProperties()[e]=t,r}var n,r=this;r.Public=function(e,r){var i=t(e,r);return n.Public(e,i),i},r.Protected=function(e,r){var i=t(e,r);return n.Protected(e,i),i},r.Private=function(e,n){var r=t(e,n);return r},e.apply(null,arguments)}function r(){function e(e){n=e}function t(e){function t(){throw"["+e+"] is pure virtual and must be overriden"}return t}var n;this.Public=function(e,r){return r=r?r:t(e),n.Public(e,r,!0)},this.Protected=function(e,r){return r=r?r:t(e),n.Protected(e,r,!0)},e.apply(null,arguments)}function i(e){if(null!==e&&a(e,function(e){try{e.toJSON&&(e.toJSON=null)}catch(t){}}),"object"==typeof JSON&&JSON.stringify&&s(JSON.stringify))return JSON.stringify(e);if(null===e)return"null";var t=typeof e;if("undefined"===t)return void 0;if("number"===t||"boolean"===t)return""+e;if("string"===t)return y(e);if("object"===t){if("function"==typeof e.toJSON)return i(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1,r=e.getUTCDate(),o=e.getUTCFullYear(),u=e.getUTCHours(),l=e.getUTCMinutes(),c=e.getUTCSeconds(),d=e.getUTCMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>u&&(u="0"+u),10>l&&(l="0"+l),10>c&&(c="0"+c),100>d&&(d="0"+d),10>d&&(d="0"+d),'"'+o+"-"+n+"-"+r+"T"+u+":"+l+":"+c+"."+d+'Z"'}if(e.constructor===Array){for(var f=[],p=0;p<e.length;p++)f.push(i(e[p])||"null");return"["+f.join(",")+"]"}var g,h,m=[];for(var v in e){if(t=typeof v,"number"===t)g='"'+v+'"';else{if("string"!==t)continue;g=y(v)}t=typeof e[v],"function"!==t&&"undefined"!==t&&(h=i(e[v]),m.push(g+":"+h))}return"{"+m.join(",")+"}"}}function o(e){if("object"==typeof JSON&&JSON.parse&&s(JSON.parse))return JSON.parse(e);var t=e.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(t))return _makeTutorialEv.Ev("("+e+")");throw new SyntaxError("Error parsing JSON, source is not valid.")}function a(e,t){if(void 0!=e&&"object"==typeof e)for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=e[n];null!==r&&void 0!==r&&a(r,t)}null!==e&&void 0!==e&&t(e)}function s(e){return e.toString().indexOf("[native code]")>-1}function u(e){return o(i(e))}function l(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e}function c(e){if(!e)return{};var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=f(n)?parseFloat(n):n,t[r]=n}return t}function d(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}function f(e){return!isNaN(e)}function p(){var e=new Date,t=60*e.getTimezoneOffset()*1e3;return e.getTime()-t}function g(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function h(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function v(e,t){for(var n=e.length-1;n>=0;n--){for(var r=!1,i=t.length-1;i>=0&&!r;i--)t[i]==e[n]&&(r=!0);r||t.push(e[n])}return t}function y(e){return e.match(Ba)?'"'+e.replace(Ba,function(e){var t=Wa[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}function w(e,t){function n(){g=new f(e)}function r(){for(var e=w.length-1;e>=0;e--)u(w[e]);w.length=0}function a(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "}function s(e,t,n){var r=!0;return e?r=-1!=mtjQuery.inArray(n,e):t&&(r=-1==mtjQuery.inArray(n,t)),r}function u(e){if(window.console)console.log(e);else try{var t=d(),n=new Date,r=l(e);t.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+c(n.getHours())+":"+c(n.getMinutes())+":"+c(n.getSeconds())+" </span>"+r.substring(1,r.length-1)+"</li>")}catch(i){}}function l(e){return e instanceof wmjQuery?"-jQuery object: selector - "+e.selector+", value - "+e.val()+", domElement - "+i(e[0]):i(e)}function c(e){return 10>e?"0"+e:e}function d(){var e=mtjQuery("#walkme-console-box");if(0===e.length){var t=$o();e=mtjQuery('<div id="walkme-console-box"></div>');var n=mtjQuery('<div style="display: none;">Walkme Console: [ </div>'),r=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console</button>'),i=mtjQuery('<ul id="walkme-console-messages"></ul>'),o=mtjQuery('<a href="#">clear</a>');n.append(o),n.append(" ]"),n.append(i),e.append(n),e.append(r),t.append(e),r.click(function(){n.slideToggle("fast",function(){var e=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";r.text(e)})}),o.click(function(){i.empty()}),n.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"}),r.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"}),e.css({position:"fixed","z-index":Js,"font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"}),i.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"})}return e}function f(){function e(e){u=e,s=o(u.getCookie(h))}function t(){s||(s={})}function n(e,t){return s?s[e]:t}function r(e){return Kc(e)?"string"==typeof e?(e=e.replace(/\s/g,""),e.split(",")):e.length>0?e:void 0:[]}function a(){u.setCookie(h,i(s),m)}var s,u,l=this,c=1;l.enable=function(e){return t(),s.l=e||c,a(),l},l.disable=function(){return s&&(s.l=0,a()),l},l.reset=function(){return s={l:c},a(),l},l.level=function d(d){return void 0===d?n("l",null):(t(),s.l=d,a(),l)},l.track=function(e){if(void 0===e)return n("f",[]);t();var i=r(e);return delete s.u,s.f=s.f?v(i,s.f):i,a(),l},l.untrack=function(e){if(void 0===e)return n("u",[]);t();var i=r(e);return delete s.f,s.u=s.u?v(i,s.u):i,a(),l},l.timer=function(e){return t(),e?s.m=1:s.m&&delete s.m,a(),l},e.apply(null,arguments)}var p=this;p.LocalSVNRevision="$Rev: 5060 $";var g,h="walkmeCustomerLogs",m=86400;p.ready=function(){var e="DI";sa.logger=p.wrapCustomerLog(e)},p.wrapCustomerLog=function(e){return function(t,n,r){p.customerLog(t,n,r||e)}},p.customerLog=function(n,r,l){if(!t.isQuirksMode()||!(n instanceof mtjQuery||n&&n.nodeType)){r=ar(r,1);var c=o(e.getCookie(h));if(c){var d=parseInt(c.l),f=c.f,p=c.u;if(d>=r&&s(f,p,l))try{u(c.m?a()+i(n):n)}catch(g){}}}};var y=0,w=[];p.timer=function(t){y++;var n=(new Date).getTime();return{stop:function(){var i=o(e.getCookie(h));if(i&&i.m){var s=(new Date).getTime(),l=s-n,c=Array(y).join("->	"),d=a()+c+t+": "+l+"ms";1==y?(u(d),r()):w.push(d),y--}}}},p.enableCustomerLogs=function(e){return g.enable(e)},p.error=function(e,t){try{var n,r=arguments.callee.caller,i=r?r.name:"N/A";if(e&&e.message){var o=t?t+"\n":"";n=o+"File : "+e.fileName+"\n - Function : "+i+"\n - Line : "+e.lineNumber+"\n - Msg : "+e.message}else n="Function : "+i+"\n - "+t;e&&e.stack&&(n+="\n - Stack: "+e.stack),ms&&!window.wmNoAlert?alert("Dev mode alert: "+n):_o(n,1),wo("Error: "+n)}catch(a){}},p.getAPI=function(){return g},n.apply(null,arguments)}function b(e,t,n){function r(){u={start:{run:function(t){H=ua.get("CommonUtils"),e.profilerAPI=ua.get("ProfilerAPI");var n=ua.get("SettingsFile").getSettingsFile();e.setAuditSource(n.Environment),e.setUserGuid(n.UserGuids&&n.UserGuids[0]),ua.get("RecorderServerManager").set(n.PlayerServer),ua.get("FramesetsUtils").waitForFramesHeadsAndBodies(t)},next:"pageReady"},pageReady:{run:function(t){e.setCdnServer(ua.get("SettingsFile").getCdnServerName()||""),c.libCtorTimer=e.Logger.timer("lib constructor"),t()},next:"loadStorage"},loadStorage:{run:function(t){var n=ua.get("ClientStorageManager");if(n){if(n.init(t,e)===!1)return o("storageManagerInitFailed"),!1;try{window.walkme_lib_in_dev&&qo()}catch(r){}c.libCtorTimer.stop()}},next:"loadWalkmeConfig"},loadWalkmeConfig:{run:function(e){t.init(function(){if(null!=t.Data){var n=t.Data.EndUserSettings,r=ua.get("EndUsersManager");r.setEndUserSettings(n)}e()})},next:"loadServerStorage"},loadServerStorage:{run:function(t){var r=ua.get("StorageManagerFactory").bySettingsFile(!0);ua.register("StorageManager").asInstance(r),r===ua.get("ClientStorageManager")&&r.removeData(n.STORAGE_KEYS.lastGetDataTime,e.getUserGuid()),r.init(t,t)},next:"afterStorageLoaded"},afterStorageLoaded:{run:function(t){ua.get("loadClasses");var n=ua.get("StorageManager"),r="wm-lang",i="wm-ABPer";n.convertOldCookieStorage(r),n.convertOldCookieStorage(i),-1==document.cookie.indexOf("walkmeDontInitLib")&&setTimeout(function(){e.Init()},0)}}},l="start"}function i(){}function o(t){e.removeWalkMe(t),e.initFailed=!0}function a(e,t){e&&(e.run?e.run(function(){s(e,t)}):s(e,t))}function s(e,t){if(e){var n=u[e.next];l=e.next,n?a(n,t):t&&t()}}this.LocalSVNRevision="$Rev: 4932 $";var u,l,c=this;ua.register("loadClasses").asFunction(i).dependencies("CookiesManager,Logger,FramesetsUtils,SettingsFile,AutoStartHelper,JQueryElementFinder,ConditionFunctions,ConditionTreeEvaluator,BBCodeParser,ResourceManager,StorageManager,EndUsersManager,AbPermutationManager,LibInitializer,WmAjax,SiteConfigManager,EndUserLoggerManager,UiDataProvider,AnalyticsManager,ClickAuditManager,RecorderServerManager,ServerDataSenderManager,AuditStepsManager,GoalsManager,WalkMeGoalsManager,DebuggerManager,WmInternals,PlayManager,FeaturesManager,StickinessManager,TimerManager,CommonEvents,LanguageManager,SalesForceManager"),c.start=function(e){a(u[l],e)},c.get=function(e){return ua.get(e)},r.apply(null,arguments)}function S(e){function t(){_=wmjQuery.expr.filters.mt_hidden,n(),h()}function n(){D=[function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+1}},function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+e.outerHeight()-1}},function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()/2}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()/2}},function(e){return{x:e.offset().left+1,y:e.offset().top+1}},function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()-1}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+1}},function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()-1}}]}function r(e){return e.parentWindow||e.defaultView}function i(e){var t=0,n=0,r=mtjQuery(e).offset();if(t=r.top,n=r.left,e.ownerDocument){var i=o(e.ownerDocument.body),a=o(e.ownerDocument.documentElement);t-=i.top==a.top?i.top:i.top+a.top,n-=i.left==a.left?i.left:i.left+a.left}var s={left:n,top:t};return s}function o(e){return e?{top:e.scrollTop||0,left:e.scrollLeft||0}:{top:0,left:0}}function a(e){var t=0,n=0;do"FRAME"==ta(e)?(t+=mtjQuery(e).offset().top,n+=mtjQuery(e).offset().left):(t+=e.offsetTop||0,n+=e.offsetLeft||0),e=e.offsetParent;while(e);var r={left:n,top:t};return r}function s(e,t){var n={};return e.left>t.right||t.left>e.right?null:e.bottom<t.top||t.bottom<e.top?null:(n.left=Math.max(e.left,t.left),n.right=Math.min(e.right,t.right),n.top=Math.max(e.top,t.top),n.bottom=Math.min(e.bottom,t.bottom),n.height=n.bottom-n.top,n.width=n.right-n.left,n)}function u(e,t){var n=t.left,r=t.top;e.left+=n,e.right+=n,e.top+=r,e.bottom+=r}function c(e,t){var n=Uc(t);e.left+=n.Left,e.right+=n.Left,e.top+=n.Top,e.bottom+=n.Top}function d(e){var t=Hc(e);return t.height=t.height(),t.width=t.width(),t.top=t.top(),t.left=t.left(),t}function f(e,t,n){t.top=n.top,t.left=n.left,t.height=e.outerHeight(),t.width=e.outerWidth(),t.bottom=t.top+t.height,t.right=t.left+t.width}function p(t,n,r,i){x.removeScrollAndResizeEvents(i);var o=g(i);mtjQuery(t).bind(o,function(){n.stop(!1,!0),e.centerElementInPage(n,!0,r)})}function g(e){return e=e?e:"walkme",l("scroll.{0}, resize.{0}",e)}function h(){m("wm_hdn_st",function(e){var t=wmjQuery(e);return t.is(":mt_hidden")||!E&&!b(t)}),m("wm_vsb_st",function(e){return!wmjQuery.expr.filters.wm_hdn_st(e)}),m("wm_interact_any_point",function(e){return T(e,A.ANY_POINT)}),m("wm_interact_all_points",function(e){return T(e,A.ALL_POINTS)})}function m(e,t){wmjQuery.expr.filters[e]=t}function v(e){if(y(e))return!0;var t=!1;return e.parents().each(function(){return y(wmjQuery(this))?(t=!0,!1):void 0}),t}function y(e){if(0==e.css("opacity"))return!0;var t=e[0].filters;return t&&t.alpha&&0===t.alpha.opacity}function w(e){var t=wmjQuery.expr.filters.mt_hidden;wmjQuery.expr.filters.mt_hidden=function(n){return t(n)||e(wmjQuery(n))}}function b(e){for(var t=e.parents().add(e),n=t.length-1;n>0;n--)if(S(wmjQuery(t[n]),wmjQuery(t[n-1])))return!1;return!0}function S(e,t){if("absolute"==e.css("position"))return!1;if("hidden"!=t.css("overflow"))return!1;var n=Tn(t,"border-top"),r=Tn(t,"padding-top"),i=t.offset().top,o=n+r+i,a=t.height(),s=o+a,u=t.offset().left,l=u+t.width(),c=Tn(e,"border-top"),d=Tn(e,"padding-top"),f=e.offset().top,p=c+d+f,g=e.height(),h=p+g,m=e.offset().left,v=m+e.width(),y=o>h,w=p>s,b=u>v,S=m>l;return y||w||b||S}function T(e,t){var n=e.ownerDocument,r=wmjQuery(e),i=r.parents("html"),o=r.parents("body"),a=o.scrollTop()||i.scrollTop(),s=o.scrollLeft()||i.scrollLeft(),u={element:r,html:i,topScroll:a,leftScroll:s,workingDocument:n};return t==A.ALL_POINTS?k(u):I(u)}function k(e){for(var t=D.length-1;t>=0;t--)if(!C(D[t],e))return!1;return!0}function I(e){for(var t=D.length-1;t>=0;t--)if(C(D[t],e))return!0;return!1}function C(e,t){var n=t.element,r=e(n),i=r.x-t.leftScroll,o=r.y-t.topScroll,a=t.workingDocument.elementFromPoint(i,o);return a==n[0]||wmjQuery.contains(n[0],a)}var x=this;x.LocalSVNRevision="$Rev: 4843 $";var _,D,E,A={ALL_POINTS:0,ANY_POINT:1},P={0:"mt_visible",1:"wm_vsb_st",2:"wm_interact_any_point",3:"wm_interact_all_points"};x.getVisibleFilter=function(e){return":"+P[(e.Settings||e).filter||0]},this.getPosRelativeToWindow=function(e,t,n){var o,s,u,l,c=0,d=0;for(t=t||top,n&&!window.opera&&e&&e.tagName&&"input"==e.tagName.toLowerCase()&&(c+=e.scrollLeft,d+=e.scrollTop);e&&(s=e.ownerDocument,u=r(s),n&&u==t&&(c+=s.documentElement.scrollLeft||s.body.scrollLeft,d+=s.documentElement.scrollTop||s.body.scrollTop),l=!u||u==t,o=n?i(e):a(e),c+=o.left,d+=o.top,!l);)e=u.frameElement;var f={left:c,top:d};return f},this.getRectRelativeToWindow=function(e,t){var n,i,o=!1,a=e.getBoundingClientRect(),l={left:0,top:0};for(t=t||top;!o;){n=e.ownerDocument,i=r(n);var d=n.documentElement.getBoundingClientRect();if(a=s(a,d),!a)return a;o=!i||i==t,o||(l=i.frameElement.getBoundingClientRect(),u(a,l),e=i.frameElement)}return c(a,n),a},this.getDrawingArea=function(e,t){var n=new Object;if(mo(e))n=d(t?mtjQuery("body"):e);else{var r=mtjQuery(document);n.top=0,n.left=0,n.height=r.height(),n.width=r.width()}return n},this.isElementScrolledOut=function(e,t,n){var r=Ho(t),i=e.offset().top,o=e.offset().left,a=e.outerHeight(),s=e.outerWidth(),u=parseInt(n);return u==Ks.Bottom&&(i+=a),u==Ks.Right&&(o+=s),r.scrollTop()>i||t.height()+r.scrollTop()<i?!0:r.scrollLeft()>o||t.width()+r.scrollLeft()<o?!0:!1},x.getCenterPositionByBounds=function(e){var t=e.left+e.width/2,n=e.top+e.height/2;return{left:t,top:n}},x.getEmbedInElementPosition=function(e,t){var n={},r=parseInt(Vo(t,"leftOffset",0)),i=parseInt(Vo(t,"topOffset",0));return f(e,n,{top:i,left:r}),n},this.getElementBounds=function(e,t,n,r){var i={},o=e[0];if(t){var a=o.getBoundingClientRect(),s=Fc(e),u=Oc(o,s,n);i=co(a,u)}else{var l=x.getPosRelativeToWindow(o,n,!0);f(e,i,l)}return i=Gc(i,r)},this.isElementVisible=function(e){var t=!0;try{e[0].tagName}catch(n){t=!1}return t&&(mtjQuery(e).is(":mt_visible")||(t=!1)),t},x.registerResizeAndScrollEvents=function(t){var n=t.element,r=t.offset,i=t.eventNameSuffix,o=e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window;p(o,n,r,i)},x.getWindowSize=function(){var t=wmjQuery(e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window),n={height:t.height(),width:t.width()};return n},x.removeScrollAndResizeEvents=function(t){var n=window;if(e.shouldHandlePageAsFramesets()){var r=e.getBiggestFrame();null!=r&&(n=r.contentWindow)}var i=g(t);mtjQuery(n).unbind(i)},x.centerElementInParent=function(e,t){var n=t.outerHeight()/2-e.outerHeight()/2,r=t.outerWidth()/2-e.outerWidth()/2;e.css("top",n+"px"),e.css("left",r+"px")},x.extendMtHidden=function(){E=!1,wmjQuery.expr.filters.mt_hidden=_;wmjQuery.expr.filters.mt_hidden;hc("strongMtVisible")&&(E=!0,w(function(e){return!b(e)})),hc("nonVisibleIframe")&&w(function(e){var t=e.data("iframe");return!(!t||!t.is(":mt_hidden"))}),hc("visibleOpacity")&&w(v)},t.apply(null,arguments)}function T(){function e(){}function t(e){return e.replace(/,/g,"%2C")}function n(e){return e.replace(/%2C/g,",")}this.LocalSVNRevision="$Rev: 4734 $";var r=this;this.setCookie=function(e,n,r,i){try{"string"!=typeof n&&(n=n.toString()),n.indexOf(";")>-1&&n.replace(";",""),n=t(n);var o="";i&&i.length>0&&(o="; domain="+i);var a="";if(0!=r){var s=new Date;s.setTime(s.getTime()+1e3*r),a="; expires="+s.toUTCString()}var u=n+a+"; path=/"+o;document.cookie=e+"="+u}catch(l){_makeTutorial.Logger.error(l)}},this.getCookie=function(e){var t,r,i,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(r=o[t].substr(0,o[t].indexOf("=")),i=o[t].substr(o[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==e){var a=n(i);return a}return!1},this.getCurrentDomain=function(){var e=r.getCookie(gs);if(e)return e;var t=window.location.hostname,n="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(new RegExp(n).test(t))return r.setCookie(gs,t,iu,t),t;if(-1==t.indexOf("."))return null;for(var i=t.split("."),o="",a=i.length-1;a>=0;a--)if(""!=o&&(o="."+o),o=i[a]+o,r.setCookie(gs,o,iu,o),r.getCookie(gs)==o)return o;r.setCookie("wm-test","wm-test",iu);var s=r.getCookie("wm-test");if("wm-test"!=s)try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.")}catch(u){}else _makeTutorial.Logger.error(new Error("Cannot get domain from: "+t));return void 0},e.apply(null,arguments)}function k(){function e(){}this.LocalSVNRevision="$Rev: 5017 $";var t=this,n="#!@DeL@!#";this.saveData=function(e,n,r){void 0==t.currentDomain&&(t.currentDomain=t.cookiesManager.getCurrentDomain()),t.cookiesManager.setCookie(e,n,r,t.currentDomain)},this.getData=function(e){var r=t.cookiesManager.getCookie(e);return r===n||r===!1?void 0:r},this.removeData=function(e){var r=t.getData(e);void 0!==r&&t.saveData(e,n,-1)},this.removeAllData=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)if(0===wmjQuery.trim(e[t]).toLowerCase().indexOf("wm-")){var n=wmjQuery.trim(e[t].split("=")[0]);document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}},this.getInternalKeys=function(e,t){for(var n=document.cookie.split(";"),r={},i=0;i<n.length;i++)if(0===wmjQuery.trim(n[i]).toLowerCase().indexOf(t)){var o=wmjQuery.trim(n[i].split("=")[0]);o!==gs&&(r[o]=this.getData(o))}return r},e.apply(null,arguments)}function I(e,t){function n(){}function r(e){return a()+e}function a(){return(new Date).getTime()}var s=this,u=5,l=300;s.LocalSVNRevision="$Rev: 4686 $",s.init=function(n){return window.walkmeExt?void n():0==u?void t.customerLog("Extension storage is not available, walkme can not load",3):(u--,void e.libSetTimeout(function(){s.init(n)},l))},s.saveData=function(e,t,n,o){var a={val:t,exp:r(1e3*n)};walkmeExt.SaveData(e,i(a),o)},s.getData=function(e,t){var n=walkmeExt.GetData(e,t);if(n){var r=o(n);return r.val}},s.removeData=function(e,t){walkmeExt.removeData(e,t)},s.removeAllData=function(e){walkmeExt.RemoveAllData(e)},s.getAll=function(e){return walkmeExt.GetAll(e)},n.apply(null,arguments)}function C(){function e(){n=ua.get("CookiesStorageManager")}function t(e){var t={},n=i.length;return wmjQuery.safeEach(e,function(e,o){e.indexOf(i)>-1&&(e=e.substr(n),t[e]=r.getData(e))}),t}this.LocalSVNRevision="$Rev: 4460 $";var n,r=this,i="wm-SELS-";this.saveData=function(e,t,r,o){n.saveData(i+e,t,r,o)},this.getData=function(e,t){return n.getData(i+e,t)},this.removeData=function(e,t){n.removeData(i+e,t)},this.getInternalKeys=function(e,r){var i=n.getInternalKeys(e,r),o=t(i);return o},e.apply(null,arguments)}function x(){function e(e){try{s=e.isLocalStorageEnabled(),t()}catch(n){}}function t(){if(l.isEnabled()){a=window.localStorage;var e=o(a.getItem("wm-storage"));if(e){var t=e.__jstorage_meta||{},n=t.TTL||{};for(var i in e)if(e.hasOwnProperty(i)){var s=e[i],u=n[i],c=r();u>c&&l.saveData(i,s,(u-c)/1e3)}a.removeItem("wm-storage")}}}function n(e){return r()+e}function r(){return(new Date).getTime()}this.LocalSVNRevision="$Rev: 5251 $";var a,s,u=new C,l=this,c="walkMe_";this.init=function(e){return l.isEnabled()?void e():!1},this.saveData=function(e,t,r){if(r=ar(r,0),l.removeData(e),0==r)u.saveData(e,t,r);else{var o={val:t,exp:n(1e3*r)};a.setItem(c+e,i(o))}},this.getData=function(e){var t=u.getData(e);if(void 0===t){var n=a.getItem(c+e);if(n){var i=o(n);if(!(i.exp<r()))return i.val;l.removeData(e)}}return t},this.removeData=function(e){u.removeData(e),a.removeItem(c+e)},this.removeAllData=function(){Object.keys(localStorage).forEach(function(e){0===e.indexOf(c)&&localStorage.removeItem(e)})},this.getInternalKeys=function(e,t){function n(e,n,r){e=e.substr(r),e.toLowerCase().indexOf(t)>-1&&(n[e]=l.getData(e))}for(var r=u.getInternalKeys(e,t),i=r,o=c.length,s=0;s<a.length;s++){var d=a.key(s);n(d,i,o)}return i},this.isEnabled=function(){return s},this.refreshGetData=function(e,t){t&&t()},e.apply(null,arguments)}function _(e,t,n,r,i,o){function a(){g=e.getAllUserGuids,h=n.isFeatureEnabled,m=e.setAuditStepCookieSeconds}function s(){var e=t.getStorageType();return e&&1==e[k]}function u(e){if(!e)return e;if("string"==typeof e)return e;var t=e[T];return t[i.browser.string]||t[i.browser.name]||t["*"]}function l(e,t,n,r,i){var o,a=g(),s=a[0];return o=t||n?c(a,t,s,i):e?p(s):r?f(s):d(s)}function c(e,t,n,i){if(!v){m(86400);var a=new ae(e,t,i,o);v=new ue(zs.HiddenIframe,a,n,r,o)}return v}function d(e){if(!w){var t=ua.get("CookiesStorageManager");w=new ue(zs.Cookie,t,e,r,o)}return w}function f(e){if(!b){var t=ua.get("ExtensionStorageManager");b=new ue(zs.Extension,t,e,r,o)}return b}function p(e){if(!y){var t=new x(o);y=new ue(zs.JStorage,t,e,r,o)}return y}this.LocalSVNRevision="$Rev: 5300 $";var g,h,m,v,y,w,b,S=this,T="st",k="ss";S.bySettingsFile=function(e){var n=S.byType(t.getStorageType());return e&&s()&&ua.get("EndUsersManager").isRealEndUserType()&&(n=ua.get("ServerStorageManager")),n},S.byType=function(e){var t,n=u(e),r=!1,i=!1,o=!1,a=!1;switch(n){case zs.JStorage:r=!0;break;case zs.CrossDomainCookies:t=Ea.Cookies,i=!0;break;case zs.CrossDomainLocalStorage:t=Ea.LocalStorage;case zs.CrossDomain:i=!0;break;case zs.HiddenIframe:o=!0;break;case zs.Extension:a=!0;break;case zs.Cookie:}return l(r,i,o,a,t)},S.byFeature=function(){var e=h("jstorage"),t=h("crossdomain"),n=h("hiddeniframestorage"),r=h("cd_localStorage")?Ea.LocalStorage:null;return l(e,t,n,r)},a.apply(null,arguments)}function D(){function e(e){n=t()||window.wmPreviewSnippet||window.wmSnippet}function t(){if(window.wmPlaySnippetData){var e=JSON.parse(window.wmPlaySnippetData);return window.wmPlaySnippet={getSettingsFile:function(){return e}},window.wmPlaySnippet}return null}this.LocalSVNRevision="$Rev: 4687 $";var n,r=this;r.getSettingsFile=function(){return n?n.getSettingsFile()||{}:{}},r.getCdnServerName=function(){return r.getSettingsFile().CdnServerName||window.mt_cdn_server_name},r.getStorageType=function(){return r.getSettingsFile().Storage},r.getAllUserGuids=function(){return r.getSettingsFile().UserGuids},r.getPublishDate=function(){return r.getSettingsFile().PublishDate},r.getUrl=function(){return window._walkmeInternals&&window._walkmeInternals.settingsUrl},e.apply(null,arguments)}function E(){function e(e,t,n){s=e,a=t,u=n,l=ua.get("MalformedStorageDataPetaSender")}function t(e,t){for(var n=[],r=Math.ceil(e.length/t),i=0;r>i;i++){var o=t>e.length?e.length:t,a=e.slice(0,o);e=e.substring(o),n.push(a)}return n}function n(e){u(e,"Storage data is malformed, discarding it."),p.removeData();try{l.audit(!!e)}catch(t){}}function r(){return s.getFromStorage(f)}this.LocalSVNRevision="$Rev: 5047 $";var a,s,u,l,c=4096,d="wm-dt",f="wm-ne",p=this;p.saveData=function(e){p.removeData();for(var n=i(e),r=t(n,c),o=0;o<r.length;o++){var u=r[o];s.saveToStorage(d+o,u,a)}s.saveToStorage(f,r.length,a)},p.getData=function(){var e,t=r();if(void 0!=t){e="";for(var i=0;t>i;i++){var a=s.getFromStorage(d+i);e+=a}}var u,l;if(e)try{u=o(e),u=u?u:void 0}catch(c){l=c}return(l||t>0&&!u)&&n(l),u},p.removeData=function(){var e=r();if(s.saveToStorage(f,0,a),void 0!=e)for(var t=0;e>t;t++)s.saveToStorage(d+t,null,a)},e.apply(null,arguments)}function A(e,t,n,r,i,o,a){function s(){}this.LocalSVNRevision="$Rev: 4727 $";var u=this;u.audit=function(s){if(ko()||!Au)return!0;var u=Au+"/Analytics/StorageMalformed",l={permutationId:r.getPermutation(),endUserGuid:t.getEndUserGuid(),datetime:i.getDateAtUTC(),source:o.get(),browser:a.browser.string,os:a.os.name,domain:window.location.host,userGuid:e.getUserGuid(),fromException:s};n.execute({url:u,data:l})},s.apply(null,arguments)}function P(e,t,n,r,i,o,a){function s(){}this.LocalSVNRevision="$Rev: 4799 $";var u=this;u.audit=function(s){if(ko()||!Au)return!0;var u=Au+"/Analytics/GoalCompleted",l={permutationId:r.getPermutation(),endUserGuid:t.getEndUserGuid(),datetime:i.getDateAtUTC(),source:o.get(),browser:a.browser.string,os:a.os.name,domain:window.location.host,userGuid:e.getUserGuid(),playGuid:s.identifier,goalType:s.GoalType,url:xo(),goalId:s.Id};n.execute({url:u,data:l})},s.apply(null,arguments)}function N(){function e(e,t){var n=void 0!==c[l+e];n||t(e)}function t(e){d(e)}function n(e){f(e)}function r(e,n,r,i,o){i=i||window;var a=this;a.timeoutsDict=r;var s=function(){a.clear(),e.apply(i,o||arguments)};this.id=setTimeout(s,n),a.timeoutsDict[this.id]=a,c[l+this.id]=this.id,this.pause=function(){this.cleared||(delete a.timeoutsDict[this.id],t.call(window,this.id))},this.resume=function(){this.cleared||(this.id=setTimeout(s,10),a.timeoutsDict[this.id]=a)}}function i(e,t,n,r,i){this.timeoutsDict=n,r=r||window;var o=function(){e.apply(r,i||arguments)};this.id=setInterval(o,t),n[this.id]=this,c[l+this.id]=this.id}function o(e,t){for(var n in e)if(e.hasOwnProperty(n))try{t(e[n])}catch(r){}}this.LocalSVNRevision="$Rev: 5297 $";var a=this,s={libTimeouts:{},playTimeouts:{}},u=[],l="wm-",c={},d=window.clearTimeout,f=window.clearInterval;a.playSetTimeout=function(e,t){return new r(e,t,s.playTimeouts)},a.libSetTimeout=function(e,t){return new r(e,t,s.libTimeouts)},a.playSetInterval=function(e,t){return new i(e,t,s.playTimeouts)},a.resumeTimeoutsArray=function(e){var t=s[e];if(t){for(var n=0;n<u.length;n++)u[n].resume();u.length=0}},a.releaseAllTimeouts=function(){a.releaseTimeoutsArray("libTimeouts"),a.pauseTimeoutsArray("playTimeouts")},a.pauseAllTimeouts=function(){for(var e in s)a.pauseTimeoutsArray(e)},a.resumeAllTimeouts=function(){for(var e in s)a.resumeTimeoutsArray(e)},a.releaseTimeoutsArray=function(e){var t=s[e];t&&o(t,function(e){e.clear()})},a.pauseTimeoutsArray=function(e){var t=s[e];t&&o(t,function(e){u.push(e),e.pause()})},a.stopTimeoutsArray=function(e){
var t=ua.get("CrossDomainManager");t&&t.enabled()?a.pauseTimeoutsArray(e):a.releaseTimeoutsArray(e)},a.clearGlobalTimeouts=function(){for(var e in c)e&&e.indexOf&&0===e.indexOf(l)&&t(c[e])},a.overrideTimeouts=function(){var r=ua.get("FeaturesManager");r.isFeatureEnabled("overridetimeouts")&&(window.clearTimeout=function(n){e(n,t)},window.clearInterval=function(t){e(t,n)})},r.prototype.id=null,r.prototype.cleared=!1,r.prototype.clear=function(){this.cleared||(t.call(window,this.id),this.cleared=!0,delete this.timeoutsDict[this.id],delete c[l+this.id])},i.prototype.id=null,i.prototype.cleared=!1,i.prototype.clear=function(){t(this.id),this.cleared=!0,delete c[l+this.id],delete this.timeoutsDict[this.id]}}function R(){function e(e){g=e}function t(e,n,r,i,o,a){if("object"==typeof e)if(wmjQuery.isArray(e))for(var s=0;s<e.length;s++)t(e[s],n,r,i,o,e);else{var u=h(e);n.length>0&&(n+=".");for(var l=0;l<u.length;l++){var c=u[l];t(e[c],n+c,c,i,o,e)}o(e,n,r,a)}else i(e,n,r,a)}function n(e,n,r,i){t(e,n,r,i,function(){})}function r(e,n,r,i){t(e,n,r,function(){},i)}function i(e){function t(e,t,n){n[e]||(n[e]={});var i=n[e],o=t[e];return i[o]||(i[o]=r,r++),t[e]=i[o],i}for(var n={},r=1,i=0;i<e.length;i++)for(var o=e[i],a=h(o),s=0;s<a.length;s++){var u=a[s];t(u,o,n)}return n}function o(e){function t(e,t){for(var n=h(e),i=0;i<n.length;i++){var o=n[i];t[o]||(t[o]=r,r++),e[t[o]]=e[o],delete e[o]}}for(var n={},r=1,i=e.length-1;i>=0;i--)t(e[i],n);return n}function a(e){var t={},r=1;return n(e,"","",function(e,n,i,o){t[n]||(t[n]={});var a=t[n];return a[e]||(a[e]=r,r++),o[i]=a[e],a}),t}function s(e){var t={},n=1;return r(e,"","",function(e,r,i,o){for(var a=h(e),s=0;s<a.length;s++){var u=a[s];t[u]||(t[u]=n,n++),e[t[u]]=e[u],delete e[u]}}),t}function l(e,t){for(var n=h(e),r={},i=0;i<n.length;i++){for(var o=n[i],a=o.split("."),s=0;s<a.length;s++)a[s]=t[a[s]];r[a.join(".")]=e[o]}return r}function d(e,t){t=c(t);for(var n=h(e),r=0;r<n.length;r++){for(var i=n[r],o=i.split("."),a=[],s=0;s<o.length;s++)a[s]=t[o[s]];var u=a.join(".");e[u]=e[i],delete e[i]}return e}function f(e,t){return t=c(t),r(e,"","",function(e,n,r,i){for(var o=h(e),a=0;a<o.length;a++){var s=o[a],u=t[s];e[u]=e[s],delete e[s]}}),e}function p(e,t){var r={};return n(e,"","",function(e,n,i,o){if(t.hasOwnProperty(n)){r[n]||(r[n]=c(t[n]));var a=r[n];o[i]&&(o[i]=a[o[i]])}}),e}this.LocalSVNRevision="$Rev: 4635 $";var g,m=this;m.minifyData=function(e,t){if(!e||0==e.length)return void g.removeData();var n,r,c=u(e),d=void 0;t?(n=a(c),r=s(c),n=l(n,r),d="2"):(n=i(c),r=o(c));var f={d:c,vm:n,km:r,v:d};g.saveData(f)},m.deminifyData=function(){var e=g.getData();if(e){var t=e.d,n=e.km,r=e.vm,i=e.v;return"2"==i&&d(r,n),f(t,n),p(t,r),t}},e.apply(null,arguments)}function j(){function e(e){r=e.serverDataSenderManager,s=e.actionUrl,a=e.beforeSendingManipulationFunc,u=e.technicalSuccessHandler,c=e.sendingThreshold,d=e.dataType,f=e.dateSenderLogFeature,g=e.requestParamsFunc,m=e.logError,p=e.logger.wrapCustomerLog(f),v=e.dataIdFieldName||"iN",b=e.successCallback,S=e.failCallback,I=e.shouldTruncateData,k=e.storageEnabled!==!1?!0:!1,k&&(w=e.defaultDataStorageLifeSeconds,T=e.recursiveMinification,y=new ce(e.stateManager,e.twoLettersDataType),i=new E(y,w,m),o=new R(i),x=C.data())}function t(){var e=0;return k&&(e=y.getFromStorage(_,0),y.saveToStorage(_,e+1,w)),e}function n(){x=o.deminifyData()}this.LocalSVNRevision="$Rev: 4924 $";var r,i,o,a,s,u,c,d,f,p,g,h,m,v,y,w,b,S,T,k,I,C=this,x=[],_="wm-nx",D=10;C.isStorageEnabled=function(){return k},C.sendData=function(e){function n(){if(h)return void p("Not accepting anymore data",3);if(x=C.data(),r.isServerSick())if(I===!1&&x.length<D)i();else{var e=l("TypedDataSender - Server is sick, ignoring new data of type {0} for now",d);p(e,3)}else i(),r.sendData()}function i(){k||(x.length=0),a&&a(x,e),e[v]=t(),x.push(e),k&&o.minifyData(x,T)}if("object"!=typeof e){var s=l("TypedDataSender - got object with value {0} of type {1} instead of object ({2}).",e,typeof e,d);return void p(s,1)}k?y.refreshGetData(null,n):n()},C.persistData=function(){k&&(o.minifyData(x,T),x&&0!=x.length||y.removeFromStorage(_))},C.data=function(){return k&&n(),x=x?x:[]},C.actionUrl=function(){return s},C.sendingThreshold=function(){return c},C.dataType=function(){return d},C.truncateData=function(){k&&(x=C.data(),x.splice(1,x.length-1),C.persistData())},C.clearAndStopSavingData=function(){h=!0,x.length=0,k&&i.removeData()},C.technicalSuccessHandler=function(){return u},C.successCallback=function(){return b},C.failCallback=function(){return S},C.requestParamsFunc=function(){return g},C.getDataIdFieldName=function(){return v},C.shouldTruncateData=function(){return I},e.apply(null,arguments)}function M(e,t,n,r,o,a,s,c){function d(){F=r.defaultDataStorageLifeSeconds,B=r.dateSenderLogFeature,Q=r.maxSickAttemps||Y,H=r.sendDataAjaxTimeout||Z,V=r.checkDataToSendInterval||J,z=r.attemptsWaitTime||ee,W=t.wrapCustomerLog(B)}function f(){var e=p();return e?e:(W("serverDataSenderManager - no data to send. marking it healthy",3),void I())}function p(){for(var e=h(),t=e.length-1;t>=0;t--){var n=e[t],r=n.data();if(r.length>0)return{dataSender:n,data:r}}}function h(){return g(re)}function m(){var e=p(),t=e&&e.data;t||I()}function v(){o.removeData(q),o.removeData(K),o.removeData(X)}function y(){return O?(W("There's already a pending request to server",3),!0):!1}function w(){var e=f();if(e&&!y()){var t=e.dataSender,n=e.data;W(l("Got {0} {1}s to send, starting now",n.length,t.dataType()),3),C(n,t)}}function b(){if(G)return void W("Already waiting for server's health",5);null!=U&&(U.clear(),U=null),G=!0;var e=o.getData(K);if(e=e?++e:1,e>Q){var t=l("Server wasn't healthy for more than {0} attempts, restarting sick mode",e);W(t,0),o.removeData(X),o.removeData(K),G=!1,b()}else{var n=S(e),r=l("Sick attempts: {0}, time before next retry: {1} second(s)",e,n/1e3);W(r,3),$=c.libSetTimeout(function(){o.refreshGetData(null,function(){o.removeData(X),o.saveData(K,e,F),G=!1,w()})},n)}}function S(e){var t=o.getData(X);if(!t){var n=T(e);t=(new Date).getTime()+n,o.saveData(X,t,F)}var r=t-(new Date).getTime();return r}function T(e){return z[e]}function k(){o.getData(q);I(),O=!1,w()}function I(){o.removeData(q),o.removeData(K),o.removeData(X),G=!1}function C(e,t){if(0==n.get().length)return void W(l("RecorderServerName is {0}, can't send data of type {1}",n.get(),t.dataType()),2);if(0==e.length)return void W("dataArray's length is 0, no data to send",3);null!=U&&(U.clear(),U=null),O=!0;var r=t.sendingThreshold(),i=u(e);i.length>r&&(i=i.splice(0,r));var o=t.requestParamsFunc()(i),c=a.execute({url:n.get()+t.actionUrl(),dataType:"jsonp",data:o,timeout:H});s.isFeatureEnabled("bypassAuditServer")?_(i,c,t):D(i,c,t);var d=l("Sent {0} data of type {1} to server at {2}",i.length,t.dataType(),(new Date).toString());W(d,3)}function x(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r],o=i[t];o&&o>n&&(n=o)}return n}function _(e,t,n){t.error(function(t,r,o){if(200==t.status&&"parsererror"==r)A(e,n);else{var a=l("Server technical (AJAX) error (2) jqXHR:{0}, textStatus:{1}, errorThrown:{2}",i(t),r,o);W(a,3),M(o,n)}}),t.success(function(e){var t="Got success while in bypass player server mode";W(t,3),_makeTutorial.Logger.error(null,t)})}function D(e,t,n){t.success(function(t){W("Sending data ajax success",3),E(t,e,n)}),t.error(function(t,r,i){200==t.status&&"parsererror"==r?R(e,n,i):M(i,n)})}function E(e,t,n){if(n.technicalSuccessHandler&&n.technicalSuccessHandler())n.technicalSuccessHandler()(e,function(){var r=e.Data||e;R(t,n,r)},function(){M(e.Data||e,n)},function(){var r=e.Data||e;A(t,n,r)},t);else switch(e.WMResultCode){case te.Success:A(t,n,e.Data);break;case te.LogicalError:W(n.dataType()+" : Logical error sending data. "+e.Data,3),R(t,n,e.Data);break;case te.TechnicalError:W(n.dataType()+" : Technical error sending data",3),M(e.Data||e,n);break;default:W(n.dataType()+" : No error code received - treated as technical error",3),M(e.Data||e,n)}}function A(e,t,n){if(W("The technical success was also logical success",3),P(e,t),k(),t.successCallback){var r=t.successCallback();r&&r(n)}}function P(e,t){N(e,t)}function N(e,t){for(var n=t.getDataIdFieldName(),r=x(e,n),i=t.data(),o=i.length-1;o>=0;o--){var a=i[o];a[n]<=r&&i.splice(o,1)}t.persistData()}function R(e,t,n){if(W(l("Logical error happened, discarding {0} {1}",e.length,t.dataType()),3),N(e,t),k(),O=!1,w(),t&&t.failCallback){var r=t.failCallback();r&&r(n)}}function M(e,t){if(o.saveData(q,1,F),W("Truncating data due to sick server",3),L(),O=!1,t&&t.failCallback){var n=t.failCallback();n&&n(e)}b()}function L(){for(var e=h(),t=e.length-1;t>=0;t--){var n=e[t];n.shouldTruncateData()&&n.truncateData()}}this.LocalSVNRevision="$Rev: 5255 $";var O,G,U,F,B,W,Q,V,H,$,z,q="wm-sk",K="wm-sat",X="wm-sst",Y=2,J=3*tc,Z=60*tc,ee={1:nc,2:4*nc},te={Success:0,LogicalError:1,TechnicalError:2},ne=this,re={};ne.register=function(n,r){var i=new j({beforeSendingManipulationFunc:r.beforeSendingManipulationFunc,actionUrl:r.actionUrl,technicalSuccessHandler:r.technicalSuccessHandler,successCallback:r.successCallback,failCallback:r.failCallback,dataType:r.dataType,twoLettersDataType:n,serverDataSenderManager:ne,sendingThreshold:r.sendingThreshold,stateManager:o,storageEnabled:r.storageEnabled!==!1?!0:!1,dateSenderLogFeature:B,requestParamsFunc:r.requestParamsFunc,dataIdFieldName:r.dataIdFieldName,defaultDataStorageLifeSeconds:void 0!=r.dataStorageLifetimeSeconds?r.dataStorageLifetimeSeconds:F,logError:e.Logger.error,logger:t,recursiveMinification:r.recursiveMinification,shouldTruncateData:r.shouldTruncateData===!1?!1:!0});return re[n]=i,i},ne.start=function(e){ne.sendData()},ne.stop=function(e){v(),ne.removeAllData(),null!=U&&(U.clear(),U=null),null!=$&&($.clear(),U=null)},ne.sendData=function(){var e=f();if(e&&!y()){var t=e.dataSender,n=e.data;if(ne.isServerSick())return W("Waiting for server's health in sendData",3),void b();if(n.length>=t.sendingThreshold())W(l("sendData - Got {0} {1}s to send, starting now",n.length,t.dataType()),3),null!=U&&(U.clear(),U=null),C(n,t);else if(null==U||U.cleared){var r=l("Got {0} {1}s to send, waiting {2}",n.length,t.dataType(),V);W(r,3),U=c.libSetTimeout(function(){U=null,o.refreshGetData(null,function(){var e=f();if(e&&!y()){var t=e.dataSender,n=e.data;C(n,t)}})},V)}else W("sendData - timeout already exists",5)}},ne.isServerSick=function(){return m(),o.getData(q)||!1},ne.removeAllData=function(){for(var e=h(),t=e.length-1;t>=0;t--)e[t].clearAndStopSavingData()},d.apply(null,arguments)}function L(e,t,n,r){function i(){y=void 0==e.checkInterval?g:e.checkInterval,d=t.wrapCustomerLog(fa)}function o(e,t,n,r,i,o){S[e]={relatedObjectId:i,identifier:t,goalType:r,goalCompletedFunc:n,evaluator:o}}function a(e,t,i){var a=w[e.Id];if(a){if(e.IsLinkedGoal){var s=l("Skipping goal watch - Goal is already watched : {0}, type: {1}",e.Name,e.GoalType);return d(s,3),null}v.removeGoalWatch(e.Id)}var c={evaluationPollingIntervalMs:y,jqueryPollingIntervalMs:h,featureName:fa,elementName:"Goal: "+e.Name},g=ua.create("ConditionChecker",c);w[e.Id]=e,b++,o(e.Id,t,i,e.GoalType,e.RelatedObjectId,g);var m=t?l(", PlayGuid of : {0}",t):"",s=l("Start watching Goal : {0}, type: {1} {2}",e.Name,e.GoalType,m);return d(s,3),g.onValueChanged(function(t){t&&u(e)}),g.onPreEvaluation(function(t,n){n||(k?k=!1:0===T&&(f=0,d("============================ CHECKING GOALS ==============================================================",2)),e.goalStart=(new Date).getTime()),x.sendAutomationEvent("CheckingGoal",{GoalId:e.Id,GoalName:e.Name});var r=n?" (async)":"",i=l("Goal: {0} - Checking Goal , id : {1}, type: {2}, RelatedObjectId: {3}{4}",e.Name,e.Id,e.GoalType,e.RelatedObjectId,r);d(i,3)}),g.onEvaluated(function(i,o){var a=(new Date).getTime(),u=a-e.goalStart,c=o?" (async)":"";s=l("Goal: {0} - checking finished, id : {1}, took {2} ms{3}",e.Name,e.Id,u,c),d(s,4),x.sendInternalEvent("GoalConditionEvaluated",e,{playGUID:t}),o||(T++,f+=u,T>=b&&(d("Done checking "+T+" Goals. took: "+f+" ms",2),d("============================ DONE CHECKING GOALS =========================================================",2),T=0),f>p&&(d("Goals tracking time until now is "+f+" ms. It broke the time limit of "+p+" ms. Stopped tracking current goals."),r.getData(I)||(s=l("Goals tracking broke limit and was stopped - user id: {0}, end user id: {1}, time: {2}, browser: {3}, url: {4}",nl,_makeTutorial.getEndUserId(),f,n.browser.string,window.location.href),_makeTutorial.Logger.error({},s),r.saveData(I,!0,C)),v.removeAllGoalsWatch()))}),e}function s(e){return S[e].evaluator}function u(e){d('Goal "'+e.Name+'" Reached! ',1);try{c(e)}catch(n){t.error(n,"completing goal callback threw an exception.")}v.removeGoalWatch(e.Id),x.sendInternalEvent("GoalCompleted",e),x.sendApiEvent("GoalCompleted",{GoalId:e.Id,GoalName:e.Name}),x.sendAutomationEvent("GoalCompleted",{GoalId:e.Id,GoalName:e.Name})}function c(e){var t=e.Id,n=S[t];if(n.goalCompletedFunc){var r=v.createGoalCompletedParams(e,n.identifier,n.goalType,n.relatedObjectId);n.goalCompletedFunc(r)}}this.LocalSVNRevision="$Rev: 4973 $";var d,f,p=500,g=5e3,h=500,m="Conditions",v=this,y=null,w={},b=0,S={},T=0,k=!1,I="wm-gb",C=86400,x=ua.get("CommonEvents");this.addGoalsWatch=function(e,t,n){for(var r=e.length-1;r>=0;r--)for(var i=e[r],o=e.length-1;o>r;o--){var u=e[o];i.Id==u.Id&&e.splice(o,1)}for(var l=[],r=0;r<e.length;r++){var c=a(e[r],t,n);c&&l.push(c)}for(var r=0;r<l.length;r++){var d=l[r],f=s(d.Id);f.evaluateAsync(d.Settings[m]),f.isPollingEvaluationNeeded()||--b}},this.cleanResources=function(){for(var e in w){var t=s(e);t.cleanResources()}},this.removeGoalWatch=function(e){if(d(e,5,"goalProblem"),d(w[e],5,"goalProblem"),w[e]){var t=s(e);t.isPollingEvaluationNeeded()&&(--T,--b,0==T&&b>0&&(k=!0)),t&&t.cleanResources(),delete w[e],delete S[e]}},this.removeAllGoalsWatch=function(){v.cleanResources(),w={},S={},b=0,T=0},this.completeGoalById=function(e){var t=w[e];return t?void u(t):void d("Could not complete goal with id "+e+" - it was already completed or does not exist.",3)},v.createGoalCompletedParams=function(e,t,n,r){var i={Id:e.Id,GoalType:n,RelatedObjectId:r,Name:e.Name,identifier:t};return i},v.getGoalsCountFromDictionary=function(){var e=v.getCheckedGoals(),t=0;for(var n in e)void 0!=w[n]&&void 0!=w[n].Id&&void 0!=w[n].Settings&&t++;return t},i.apply(null,arguments),v.getCheckedGoals=function(){return w},v.getGoalsCompletionParams=function(){return S}}function O(e,t,n,r,i,o,a,s){function u(){P=r.getPermutation,N=n.getEndUserGuid,I=a.wrapCustomerLog(fa),C=o.register("go",{actionUrl:"/Statistics/AddCompletedGoal",technicalSuccessHandler:c,defaultDataStorageLifeSeconds:x,prefixForStorage:"go",sendingThreshold:1,dataType:"deployable goal",requestParamsFunc:function(e){var t=e[0],n=t.GoalType==Ds.AbExperiment;return{goalId:t.Id,playGuid:t.identifier,permutationId:P(),endUserGuid:N(),source:i(),localTime:p(),url:xo(),isAbTesting:n}}})}function c(e,t,n,r){"true"==e?r(parseInt(e)):"error"==e?(I("Completed goal - Internal Error",3),n()):(I("Completed goal - Unknown Error",3),t())}function d(e){var t=e.Goals;return t||(t=[]),t.slice()}function f(e,t,n){var r=m(e,n);g(t,h(e),r)}function g(t,n,r){var i=T(t);e.addToDictionary(i,n,r,x)}function h(e){return e.Id?e.Id:e.TutorialId}function m(e,t){var n={};return n[D]=h(e),n[E]=t,n[A]=[],n}function v(e,n){var r=e[D],i=M.getDeployableGoalsByIdAndType(r,n);if(i.length>0){var o=e[E],a=e[A];k(i,a),t.addGoalsWatch(i,o,L)}}function y(e,t){return ko()?!0:(I("Sending completed Goal info to server ("+e.Name+", "+e.identifier+")",3),void C.sendData({Id:e.Id,GoalType:e.GoalType,identifier:e.identifier}))}function w(e){var t=M.getWatchedDeployablesOfType(e.GoalType),n=t[e.RelatedObjectId];if(n&&e.identifier==n[E]){n[A].push(e.Id);var r=n[A].length,i=M.getDeployableGoalsByIdAndType(e.RelatedObjectId,e.GoalType).length;i==r?b(e.GoalType,e.RelatedObjectId):g(e.GoalType,e.RelatedObjectId,n)}for(var o=0;o<j.length;o++)j[o](e)}function b(t,n){var r=T(t);e.removeFromDictionary(r,n,x)}function S(t){var n=T(t);e.removeData(n)}function T(e){var t=l("{0}-{1}",_,e);if(R){var n=N();n&&(t+="-"+n)}return t}function k(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<e.length;i++){var o=e[i].Id;if(o==r){e.splice(i,1);break}}}this.LocalSVNRevision="$Rev: 4933 $";var I,C,x=3600,_="wm-wtchd",D="tID",E="plgd",A="fnsh",P=null,N=null,R=!1,j=[],M=this;this.onGoalCompleted=function(e){j.push(e)},this.enableMultiUserStorage=function(){R=!0},this.startWatchingDeployable=function(e,n){var r=d(e);if(r.length>0){var i=r[0].GoalType;f(e,i,n),t.addGoalsWatch(r,n,L);var o=cn(i),a=l("Started watching {0} : {1}",o,e.Name);I(a,2)}},this.stopWatchingDeployables=function(e){S(e)},this.init=function(){var e=0;mtjQuery.each(Ds,function(t,n){var r=M.getWatchedDeployablesOfType(n);for(var i in r)if(void 0!=r[i]&&void 0!=r[i][D]){var o=r[i];v(o,n),e++}}),I("Restoring watched Goals... "+e+" Walk-Thrus are watched.",2)},this.getCompletedGoals=function(e,t){if(void 0!=e&&t){var n=M.getWatchedDeployablesOfType(e);if(n){var r=n[t];if(r){var i=r[E],o=r[A];return{playGuid:i,finishedGoals:o}}}}},this.getDeployableGoalsByIdAndType=function(e,t){var r=n.getDeployablesManager(t),i=r.getById(e);return i?d(i):[]};var L=function(e){if(i()!=Bs.SOURCES.preview)try{s.audit(e)}catch(t){}i()!=Bs.SOURCES.preview&&y(e),w(e)};M.getWatchedDeployablesOfType=function(t){var n=T(t),r=e.getData(n,{});return r},u.apply(null,arguments)}function G(){function e(e){m=e.lib,c=e.drawableType,d=e.drawableId,p=e.defaultSettings,g=e.cssKeysValues,y(e.element),S(e.settings),l=m.Logger.wrapCustomerLog(ba)}function n(e){return x()+"-"+c+"-"+e+"-"+d}function r(){var e=C(),t="walkme-custom-"+e+" walkme-to-remove ";if(g)for(var n=0;n<g.length;n++)t+=" walkme-custom-"+e+"-"+g[n].name+"-"+g[n].id;return t}function i(e,t){var n=_(e,t),r=Vo(e,T());return!t&&r&&(o(n,r),n.color=r.color||n.color),n}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=f(t[n])?parseFloat(t[n]):t[n])}function a(){for(var e=0;4>e;e++)b().push(u(e))}function s(e){if(e)try{e.remove()}catch(t){l("[highlighter] error removing div",3)}}function u(e){var t=k(n(e));return t.addClass(h),t}this.LocalSVNRevision="$Rev: 3920 $";{var l,c,d,p,g,h,m,v=new t(this),y=v.Prop.Protected("element",null),w=v.Prop.Protected("settings",null),b=v.Prop.Protected("highlighterDivs",[]),S=v.Prop.Protected("balloonSettings",{}),T=v.Prop.Protected("balloonSettingsKey"),k=(v.Virtual.Public("shouldShow"),v.Virtual.Protected("createDiv")),I=v.Virtual.Protected("applyStyle"),C=v.Virtual.Protected("getInstanceName"),x=v.Virtual.Protected("getClassName"),_=v.Virtual.Protected("getSettings",function(e){return{left:0,top:0,width:0,height:0}});v.Protected("init",function(e){w(i(e,p)),h=r()})}v.Virtual.Public("highlight",function(){try{D(),a(),I(b())}catch(e){m.Logger.error(e)}});var D=v.Virtual.Public("unhighlightElement",function(){for(var e=0;e<b().length;e++)s(b()[e]);b().length=0});e.apply(null,arguments)}function U(){function e(e){m.Extends(G,e),u=e.element,g=e.lib,l=m._base.settings,c=e.monitor,p=n(u),h=g.Logger.wrapCustomerLog(ba),m._base.balloonSettingsKey(v),m._base.init(e.settings)}function n(e){var t=e.parents("body");return 0==t.length&&(t=e.parents("frameset").first()),hc("jsp")&&(t=zo(e,t)),t}function r(e,t,n,r,i,o,a){var s=e[t];if(s)return Wc(s,l().zindex),s.css("top",n+"px").css("left",r+"px").css("width",i+"px").css("height",o+"px").css("background-color",l().color),a&&s.css("font-size",l().thickness+"px"),s}function i(e){for(var t=0;t<b.length;t++){var n=b[t];n.monitor(e.pageX,e.pageY)}}function o(e){try{var t=Fc(e);t&&mtjQuery(t).unbind("mousemove",i)}catch(n){}}function a(e){for(var t=-1,n=0;n<b.length;n++)if(b[n].getHash()==e.getHash()){t=n;break}t>=0&&b.splice(t,1),0==b.length&&o(e.getElement())}function s(){function e(e){n=e.element,r=qc(),i=!0}function t(e,t,n){return e>=t&&n>=e}var n,r,i,o=this;this.monitor=function(e,r){try{n[0].tagName}catch(i){return void h("HighlighterRect.monitor: element destroyed.")}var o=2,a=f.y-o,s=f.x-o,u=f.h+2*o,l=f.w+2*o,c=t(e,s,s+l)&&t(r,a,a+u);this.setVisibilty(!c)},this.show=function(){o.setVisibilty(!0)},this.hide=function(){o.setVisibilty(!1)},this.setVisibilty=function(e){if(i!=e){for(var t=e?"block":"none",n=0;n<d.length;n++)d[n].css("display",t);i=e}},this.getHash=function(){return r},this.getElement=function(){return n},e.apply(null,arguments)}this.LocalSVNRevision="$Rev: 4233 $";var u,l,c,u,d,f,p,g,h,m=new t(this),v="stepHlObj",y="2147483630",w="#55aaff",b=[],S=[];m.Override("shouldShow",function(){var e=Vo(Su.get().Settings,"hlType","none");return"rect"==Vo(m._base.balloonSettings(),"hlType",e)}),m.Override("getSettings",function(e,t){var n=m._base.getSettings();return t?(n.color=w,n.thickness=1):(n.color=Su.get().BalloonSettings.HighlighterColor||w,n.thickness=Su.get().BalloonSettings.HighlighterThickness||1),n.zindex=Vo(e,"z-index",y),n}),m.Override("highlight",function(e){m._base.highlight(e);var t=new s({element:u});if(S.push(t),c){var n=Fc(u);mtjQuery(n).unbind("mousemove",i),mtjQuery(n).bind("mousemove",i),b.push(t)}}),m.Override("applyStyle",function(e){var t=u[0],n=t.getBoundingClientRect(),i=Fc(u),o=Oc(t,i,window),a=l().thickness,s=n.left+o.left+l().left-l().width/2-a,c=n.top+o.top+l().top-l().height/2-a,g=s,h=c;hc("jsp")&&p.hasClass("jspPane")&&(s-=p.offset().left,c-=p.offset().top);var m=n.right-n.left+l().width+a,v=n.bottom-n.top+l().height+a,y=r(e,0,c,s,m+a,a,!0),w=r(e,1,c,s+m,a,v+a,!1),b=r(e,2,c+v,s,m+a,a,!0),S=r(e,3,c,s,a,v+a,!1);d=[y,w,b,S],f={x:g,y:h,w:m+a,h:v+a}}),m.Override("unhighlightElement",function(){try{if(S)for(var e=0;e<S.length;e++)a(S[e]);S.length=0,m._base.unhighlightElement()}catch(t){}}),m.Override("createDiv",function(e){var t=mtjQuery(p[0].ownerDocument.createElement("div"));return t[0].id=e,p.append(t),t}),m.Override("getInstanceName",function(){return"highlighter"}),m.Override("getClassName",function(){return"highlightDiv"}),e.apply(null,arguments)}function F(){function e(e){u.Extends(G,e),a=u._base.settings,o=e.element,i=e.lib,s=i.Logger.wrapCustomerLog(ba),u._base.balloonSettingsKey(l),u._base.init(e.settings)}function n(){var e=mtjQuery(document),t=document.documentElement.clientWidth,n=e.height();return{height:n,width:t}}function r(e,t,n,r,i){e&&(Wc(e,a().zindex),e.css("top",t+"px").css("left",n+"px").css("width",r+"px").css("height",i+"px").css("background-color",a().color).css("opacity",a().opacity))}this.LocalSVNRevision="$Rev: 4206 $";var i,o,a,s,u=new t(this),l="stepIoObj",c="2147483629",d="#000000";u.Override("shouldShow",function(){var e=Vo(Su.get().Settings,"ioEnabled","0");return"1"==Vo(u._base.balloonSettings(),"ioEnabled",e)&&!i.getHostData().isQuirksMode(o[0])}),u.Override("getSettings",function(e){var t=u._base.getSettings();return t.color=d,t.opacity=.5,t.zindex=Vo(e,"z-index",c),t}),u.Override("applyStyle",function(e){var t,i=n(),s=o[0],u={top:0,left:0},l=Fc(o);if(o.data("iframe")){var c=S.getRectRelativeToWindow(s,window);if(!c)return;t=c}else t=s.getBoundingClientRect(),u=Oc(s,l,window);var d=eo(),f=t.left+u.left+a().left-a().width/2,p=t.top+u.top+a().top-a().height/2,g=t.right-t.left+a().width,h=t.bottom-t.top+a().height;r(e[0],0-d.top,0,i.width-.5,p+d.top),r(e[1],p,f+g,Math.floor(i.width-g-(t.left+a().left-a().width/2)),h),r(e[2],p+h,0,i.width-.5,i.height-(p+h)),r(e[3],p,0,t.left+a().left-a().width/2-.5,h)}),u.Override("createDiv",function(e){var t=wmjQuery("<div id="+e+" />");return mtjQuery(document).find("body").append(t),t}),u.Override("getInstanceName",function(){return"insideouter"}),u.Override("getClassName",function(){return"insideoutDiv"}),e.apply(null,arguments)}function B(){function e(e,t){m();var n=e?e:me;Q=i(n.InitCSS),V=i(n.Properties),H=i(n.Options),D(n.MetaData),Z=t}function t(){return!0}function n(e,t){e.removeAttr("id").find("div").removeAttr("id"),e.fadeOut(se,function(){fo(e,t)})}function r(e,t){fo(e,t)}function i(e){return mtjQuery.extend({},e)}function o(e){return{filter:e.css("filter")}}function a(){X&&ne?y(T):re.push(k)}function s(){K&&(E(),y(A))}function u(){if(d()){var e=P(te,l());W.postAnimation(function(){N(e)})}}function l(){return q?G:ee?O:void 0}function c(){te.css({display:"block",visibility:"hidden",filter:""})}function d(){return q||ee}function f(e){for(var t=0;t<re.length;t++)"function"==typeof re[t]&&re[t].apply(null,arguments);re.length=0}function p(){var e=H.duration*ae;setTimeout(w,e)}function g(){mtjQuery(te).css({display:he,visibility:""}).css(ie)}function h(){te&&te.css(ie)}function m(){oe=mtjQuery({})}function v(){oe.clearQueue(ue)}function y(e){oe.queue(ue,e)}function w(){oe.dequeue(ue)}function b(){var e={},t={};C()?(e.size="height",e.osize="width"):(e.size="width",e.osize="height"),!q&&V.size&&(Y==Ks.Top&&"height"==e.size||Y==Ks.Left&&"width"==e.size)&&(ee=!0),t.marginTop=Y==Ks.Bottom?-1:1,t.marginLeft=Y==Ks.Right?-1:1,e.margin="margin"+ge[Y],V=S(V,e,t),Q=S(Q,e,t)}function S(e,t,n){if(e){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o=Kc(t[i])?t[i]:i;if(r[o]=e[i],Kc(n[o])){var a=r[o].toString().replace("px","");r[o]=n[o]*a+"px"}}return r}}function T(){I(ne),setTimeout(function(){w()},ce)}function k(){mtjQuery(ne).each(function(){this.show()}),w()}function I(e){var t,n,r=C(),i=r?"marginTop":"marginLeft",o=x(),a=o?1:-1,s=e.length-1;Y==Ks.Top&&(t="border-top-width",n="borderTopWidth"),Y==Ks.Bottom&&(t="border-bottom-width",n="borderBottomWidth"),Y==Ks.Right&&(t="border-right-width",n="borderRightWidth"),Y==Ks.Left&&(t="border-left-width",n="borderLeftWidth"),mtjQuery(e).each(function(e,r){this.css("visibility","hidden").css("display","block");var u=(parseInt(this.css(t),10)+2)*a,l=this.css(t),c=this[0].style.zIndex,d={};d[n]=l,d.opacity=1,o&&(d[i]=1);var f={};f.duration=ce,f.complete=function(e,t){return function(){e.css(i,""),e.css("zIndex",t)}}(this,c),e==s&&this.css("zIndex",c-1),this.css("visibility",""),o&&this.css(i,u),this.css(t,"0px"),this.animate(d,f)})}function C(){return Y==Ks.Bottom||Y==Ks.Top?!0:!1}function x(){return Y==Ks.Bottom||Y==Ks.Right?!0:!1}function _(e){!Y&&Q.margin&&(Q.margin=0),mtjQuery(e).css({display:"none",visibility:""}).css(ie).css(Q)}function D(e){e&&(q=ar(e.center,!1),K=ar(e.hwa,!1),X=ar(e.are,!1),ae=ar(e.delay,1))}function E(){te.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none")}function A(){te.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"))})}function P(e,t){var n={position:"absolute",top:e.css("top"),left:e.css("left"),height:e.height(),width:e.width(),zIndex:e[0].style.zIndex},r=mtjQuery("<div />").css(n);return e.css({top:0,left:0}).wrap(r),t(r,e),n}function N(e){ee&&(te.css("bottom",""),te.css("right","")),te.unwrap().css(e)}function R(){te.bind("click.wm_animation",function(){if(!J&&(J=!0,M(te,de,le),ne))for(var e=0;e<ne.length;e++)M(ne[e],de,le)}),j(te)}function j(e){e.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(e){e.stopPropagation()})}function M(e,t,n){if(0>=t)return e.css(n,""),void(J=!1);var r=[];r[n]=L(t),e.animate(r,pe,function(){M(e,t-1,n)})}function L(e){var t=e%2*2-1,n=e*fe;return n*t}function O(e,t){var n=parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10),r=parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10);t.css("top",""),t.css("left",""),t.css("bottom","-"+n+"px"),t.css("right","-"+r+"px")}function G(e,t){U(e,t),H.step=function(){U(e,t)}}function U(e,t){var n=e.height()/2-t.height()/2,r=e.width()/2-t.width()/2;t.css("top",n),t.css("left",r)}function F(){return!$&&t()&&z?!0:!1}function B(){return Z?!0:!1}this.LocalSVNRevision="$Rev: 3794 $";var W=this,Q=null,V=null,H=null,$=!1,z=!0,q=!1,K=!1,X=!1,Y=null,J=!1,Z=!1,ee=!1,te=null,ne=null,re=[],ie=null,oe=null,ae=1,se=150,ue="animations",le="marginLeft",ce=250,de=10,fe=.3,pe=50,ge={0:"Top",1:"Left",2:"Top",3:"Left"},he="inline",me={InitCSS:{display:he},Properties:{},Options:{}};this.disableAnimation=function(){z=!1},this.setPosition=function(e){Y=e,b()},this.postAnimation=function(e){e&&re.push(e)},this.prepare=function(e,t){te=e,ne=t,ie=o(te),v(),c(),F()?(a(),s(),u(),W.postAnimation(h),H.complete=f):W.postAnimation(k),B()&&W.postAnimation(R)},this.animate=function(e){return te?(this.postAnimation(e),void(F()?($=!0,_(te),te.animate(V,H),p()):(g(),f()))):void(e&&e())},this.destroy=function(e){var t=te;if(ne)for(var i=0;i<ne.length;i++)t=t.add(ne[i]);F()?n(t,e):r(t,e)},e.apply(null,arguments)}function W(e,t,n){function r(){var t=e.getDataFileExtraData();o=t&&t.dataVersion||0}this.LocalSVNRevision="$Rev: 5174 $";var i,o,a=this,s="wm-ldv";a.hasNewDeployables=function(){if(i)return i;var e=t.getData(s)||o;return i=o>e},a.saveDataVersion=function(){e.getStorageManagerInstance().saveData(s,o,La)},r.apply(null,arguments)}function Q(e){var t;if(e.agData)t=e.agData.ClassType;else{var n=e.config.Settings.AG;n&&(t=n.type)}t=t||0;var r={0:"ImageAttentionGrabber",1:"OldSwooshAttentionGrabber",2:"SwooshAttentionGrabber",3:"MenuOverviewAttentionGrabber",4:"TickerAttentionGrabber",5:"CustomTextAttentionGrabber",6:"CustomImageAttentionGrabber","3.sub":"MenuOverviewSubAttentionGrabber"},i=r[t];return ua.create(i,e)}function V(e){function t(e){var t={Type:e},n=Ii();return n&&(t.WalkthruId=n.TutorialId,t.StepIndex=El),t}function n(){return window._walkmeInternals?window._walkmeInternals:{}}this.LocalSVNRevision="$Rev: 5081 $";var r=this;r.sendApiEvent=function(n,i){r.sendEditorEvent(n,i);try{var o=t(n);i&&(o.ExtraData=i),window.walkme_event&&walkme_event(o)}catch(a){e.error(a)}},r.sendInternalEvent=function(t,r,i){try{if(!window.wmjQuery)return;var o=n();wmjQuery(o).trigger(t,[r,i]),wmjQuery(o).trigger("AllEvents",[t,r,i])}catch(a){e.error(a)}},r.sendAutomationEvent=function(n,r){try{var i=t(n);if(r){if(!window.wmjQuery)return;wmjQuery.extend(i,r)}window.walkme_automation_event&&walkme_automation_event(i)}catch(o){e.error(o)}},r.oldSendApiEvent=function(n,r){try{var i=t(n);r&&(i.ExtraData=r),window.mt_event&&mt_event(i)}catch(o){e.error(o)}},r.sendEditorEvent=function(n,r){try{var i=t(n);r&&(i.ExtraData=r),window.walkme_editor_event&&walkme_editor_event(i)}catch(o){e.error(o)}}}function H(e,t){function n(){}function r(e){var t=e&&18==e.code,n=e&&e.message&&e.message.indexOf("denied")>=0;return t||n}function a(e,t){if(e==t)return{frameIndex:0};for(var n=0,r=0;r<e.frames.length;r++){n++;var i=e.frames[r],o=a(i,t);if(void 0!==o.frameIndex)return o.frameIndex+=n,o;n+=o.totalFrames}return{totalFrames:n}}this.LocalSVNRevision="$Rev: 5288 $";var s,u=this;u.isNumber=function(e){return!isNaN(e)},u.formatString=function(){return l.apply(null,arguments)},u.sendMenuEvent=function(e,t,n){try{var r={Type:e};t&&(r.WalkthruId=t),n&&window.mtjQuery.extend(r,n),walkme_player_event(r)}catch(i){}},u.isIe7or8=function(){return t.isIE(8,"lte")},u.getSettingsValue=function(e,t,n){return Vo(e,t,n)},u.libSetTimeout=e.libSetTimeout,u.toJSON=function(e){return i(e)},u.secureEvalJSON=function(e){return o(e)},u.elementLastKeeper=ua.get("ElementLastKeeper"),u.attentionGrabberFactory={create:function(e){return ua.get("AttentionGrabberManager").create(e)}},u.attentionGrabberClass=function(e){return ua.get("AttentionGrabberManager").getImageAG(e)},u.isValidMailTo=function(e){return e&&0==e.indexOf("mailto:")},u.isValidUrl=function(e){return e&&0!=e.indexOf("http")&&0!=e.indexOf("/")?!1:!0},u.setDefault=function(e,t,n){void 0===e[t]&&(e[t]=n)},u.filter=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},u.isUiObjectActivatable=function(e){return"category"!=e.type()&&"tab"!=e.type()},u.isTrue=function(e,t,n){var r=Vo(e,t,n);return u.isValueTrue(r)},u.isValueTrue=function(e){return e&&(1==e||"True"==e||"1"==e)},u.isLike=function(e,t){t=t.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp("[.]","g"),"\\."),t=t.replace(new RegExp("[*]","g"),".*"),e=e.toString().toLowerCase(),t=t.toLowerCase();
try{return e.match(t)[0]==e}catch(n){return!1}},u.addTabIndex=function(e,t){hc("accessibility")&&(t=ar(t,0),e.attr("tabIndex",t),e.keyup(function(t){13!=t.keyCode||t.shiftKey||e.click(),t.stopPropagation()}))},u.isGradientUsingFilter=function(e){var t=wmjQuery("<div style='"+e+"' />"),n=-1==t.css("background-image").indexOf("gradient");return n},u.handleCrossDomainError=function(e){if(!r(e))throw e},u.encloseCall=function(e){var t=function(){var t=arguments;return function(){return e.apply(null,t)}},n=di(arguments,0),r=t.apply(null,n);return r},u.registerEventHandler=function(e,t){return window.attachEvent?window.attachEvent("on"+e,t):window.addEventListener&&window.addEventListener(e,t,!1),function(){u.unregisterEventHandler(e,t)}},u.unregisterEventHandler=function(e,t){window.detachEvent?window.detachEvent("on"+e,t):window.removeEventListener&&window.removeEventListener(e,t,!1)},u.postMessageToAllFramesChain=function(e,t){var n=0;if(e)try{e.postMessage(t,"*"),n++,e!=e.parent&&(n+=u.postMessageToAllFramesChain(e.parent,t))}catch(r){wo("Error in postMessage to frames chain "+r,4)}return n},u.postMessageToFrameAndDescendants=function(e,t){function n(e,t){r(e,t);for(var i=e.frames,o=0;o<i.length;o++){var a=i[o];n(a,t)}}function r(e,t){try{e!=window&&e.postMessage(t,"*")}catch(n){}}n(e,t)},u.getFrameIndex=function(e){var t=a(top,e||window).frameIndex;return t},u.doForFramesChain=function(e,t){if(e){try{t(e)}catch(n){}e!=e.parent&&u.doForFramesChain(e.parent,t)}},u.addScript=function(e,t,n){if(e){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.async=!0,i.src=e,i.id="mt_script",t&&(i.onload=t,i.onreadystatechange=t),n&&(i.onerror=n),r.appendChild(i)}},u.checkElementText=function(e){return e.is("input")||e.is("textarea")?e.val():e.is("select")?e.find("option:selected").text():e.text()},u.getDateAtUTC=function(){var e=new Date;return e.getTime()},u.nl2br=function(e){return e?e.replace(/\n/g,"<br/>"):""},u.getTimer=function(e){function t(){var t=new Date;return function(n){var r=new Date,i=r-t;e("Measurer - "+n+" ("+i+" ms)"),t=r}}return new t},u.defaultValue=function(e,t){return"undefined"!=typeof e&&null!=e?e:t},u.isLocalStorageEnabled=function(){if(void 0!==s)return s;try{if(!window.localStorage)return s=!1,!1}catch(e){return s=!1,!1}try{window.localStorage.getItem("wm-test")}catch(t){return s=!1,!1}return s=!0,!0},u.createElementInDocument=function(e,t){var n=t.createElement("div");return wmjQuery(n).html(e).children()},n.apply(null,arguments)}function $(){function e(e){o=e}this.LocalSVNRevision="$Rev: 4206 $";var t,n="walkme-ie-",r="walkme-ie-bm-",i=this,o=null,a=!1;i.canDisplayOverlay=function s(){var s=!(o.getHostData().isQuirksMode()||o.shouldHandlePageAsFramesets());return s},this.removeOverlay=function(e){t&&t.exist()&&(e?t.fadeOut(DUR,function(){wmjQuery(this).remove()}):t.remove(),t=null)},i.displayOverlay=function(e,n,r){void 0==r&&(r="walkme-popup-background");var o=$o();return o.append(l('<div id="{0}" class="mt-to-destroy"></div>',r)),t=mtjQuery("#"+r,o),t.css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000","z-index":e-1}),i.addBrowserSpecificClasses(t),n?t.fadeIn("slow"):t.css("display",""),t},i.getStyle=function(e,t){try{return t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle}catch(n){return null}},i.getAnimationDimentionSize=function(e,t){var n;return n="top"==t||"bottom"==t?"height":"width",e.css(n)},i.addBrowserSpecificClasses=function(e){if(o.getHostData().isIE()){var t=document.documentMode||Number(wmjQuery.browser.version),i=window.mtjQuery.browser.version.slice(0,window.mtjQuery.browser.version.indexOf(".")),a=n+t,s=r+i;e.addClass(a),e.addClass(s)}},i.addWalkmeClasses=function(e){e.addClass("walkme-to-destroy");var t="walkme-override walkme-css-reset";e.addClass(t);var n=e.find("*");n.addClass(t)},i.setLangAttribute=function(e){var t=o.getCurrentLanguage();t&&e.attr("lang",t)},i.bindFocusAndBlur=function(e,t){e.focus(function(){e.val()==t&&e.val("")}),e.blur(function(){""==e.val()&&e.val(t)})},i.fixFlash=function(){function e(){n().append("<param name='wmode' value='transparent'>").wrap("<div></div>").unwrap(),mtjQuery("embed[wmode!='opaque'][wmode!='transparent']").attr("wmode","transparent").wrap("<div></div>").unwrap()}function t(){var e=n();mtjQuery("param[name='wmode']",e).remove(),e.append("<param name='wmode' value='transparent'>");var t=mtjQuery("embed[wmode!='opaque'][wmode!='transparent']");t.attr("wmode","transparent"),r(t),r(e)}function n(){return mtjQuery("object:has('param[name='wmode'][value!='transparent'][value!='opaque']')")}function r(e){for(var t=0;t<e.length;t++){var n=e[t].parentNode,r=e[t].outerHTML;e[t].insertAdjacentHTML("beforeBegin",r),n.removeChild(e[t])}}if(!a&&hc("flashTransparent")){var i=o.getBrowser();-1!=i.indexOf("Firefox")?e():-1!=i.indexOf("IE")&&t(),a=!0}},i.hexToRgba=function(e,t){var n=e.replace("#",""),r=parseInt(n,16),i=r>>16&255,o=r>>8&255,a=255&r;return"("+i+","+o+","+a+","+t+")"},e.apply(null,arguments)}function z(){function e(e){return de=ua.get("TimerManager"),fe=ua.get("Consts"),K=fe.STEP_TYPE.Normal,ie=e.positionHelper,ge=e.element,oe=e.forceEmbedBalloonInIframe,le=e.dontShowIoBalloon,Re=e.isFirstStep,q=e.isViewStep,re=e.siteConfig,ne=Vo(re.Settings,"displayTO")||Ve,e.fixedSize&&(Ee=e.fixedSize.width,Ae=e.fixedSize.height),De=e.stepSettings,e.text&&(be=e.text.title,Te=e.text.subText,Se=H.nl2br(e.text.content)),X=e.end,e.buttons&&(me=e.buttons.next,ve=e.buttons.done,ye=e.buttons.back,we=e.buttons.submit),Ce=e.htmlContent,ke=e.innerHtml,Ie=e.outterHtml,z=e.position,e.data&&(Pe=e.data.stepId,Ne=e.data.tutorialId,K=e.data.type),t(e.isCaptureBalloon,q),_e=e.configuration,ia.FixConfiguration(_e),ue=e.logger,ce=ue.wrapCustomerLog(ga),jo(ge),Y=e.drawer,ge?(he=!ge.data("iframe")||oe?!0:ia.shouldHandlePageAsFramesets(),e.isCaptureBalloon&&i(),void r(_e)):void(he=!0)}function t(e,t){var n={lib:_makeTutorial,element:ge,settings:De,drawableType:"balloon",drawableId:Pe,monitor:!t&&!e,defaultSettings:e,cssKeysValues:[{id:Pe,name:"step"},{id:Ne,name:"walkthru"}]};ae=new U(n),se=new F(n)}function n(){var e=Ce?Ce.html():ia.parseBBCode(Se),t={title:ia.parseBBCode(be),content:e,customHtml:{inner:ke,outter:Ie},stepIndexText:Te},n={balloonData:t,userGuid:nl,nextButton:me,doneButton:ve,backButton:ye,configuration:_e,content:Se,title:be,subtext:Te,settings:De,end:X,stepType:K,submitButton:we,contentDiv:Ce};return n}function r(e){var t=e.AnimateFirst&&!Re||xe||q,n=e.Vibrate&&!xe;Be=new B(e.Animation,n),t&&Be.disableAnimation()}function i(){xe=!0,he=!1,xe&&Be&&Be.disableAnimation()}function o(e,t,r,i){var o=he?$o(e):$o(null,!0);ee=Y.generateBalloonDiv(o,xe,Ne,Pe,K,n()),Hi(ee),he&&ee.data("iframe",e.data("iframe"));var a=Y.fixSize(ee,e,he,r,i);if(K&&K==fe.STEP_TYPE.Popup)pe.showPopupBalloon(ee);else{var s=Kc(_e.BalloonRadius)?_e.BalloonRadius:15;pe.showNormalBalloon(ee,a,t,o,s)}return ee}function a(e,t,n,r){if(e.positionType==Ks.Right||e.positionType==Ks.Left){var i=mtjQuery(Fc(ge)).height();if(t.height+e.top>i){var o=Y.arrowHeight()+1,a=n.top+n.height/2,s=a-t.height/2,u=a-t.height+o+r/2;u=Math.max(0,u);var l=a-o-r/2,c=i-t.height-1,d=Math.min(c,l);e.top=s,e.top=Math.min(d,e.top),e.top=Math.max(e.top,u),e.top=Math.max(0,e.top)}}return e}function s(){J&&(J.clear(),J=null)}function u(){for(var e=0;e<je.length;e++)try{je[e]()}catch(t){}je.length=0}function l(e){if(e)try{e.unbind(),mtjQuery("*",e).unbind()}catch(t){}}function c(e,t){return K!=fe.STEP_TYPE.Popup&&t!=Qe.None&&"fixed"!=e.css("position")?!0:!1}function d(e,t,n,r){var i=hc("noScrlAnm")?Qe.Normal:Qe.Animated,a=Vo(De,We,i);e=e&&c(ge,a);var s=!1;e&&(s=f(ge));var u=o(ge,z,n,r);Il("BalloonCreated",{Element:u}),!s&&e?h(ge,null,function(){var e=function(){b(ge,g(De))};xe||!N(e)?Be.animate(t):t&&t()},De,z,a):Be.animate(t),Y.manipulationsForInlineCss(u)}function f(e){var t=vn();if(!t)return!1;var n=e.parents("div"),r=ed(n,function(e){var e=t(e);return Kc(e.data)&&Kc(e.data("jsp"))?e:void 0});return r?(t(r).data("jsp").scrollToElement(e,!0,!1),!0):!1}function p(e,t,n,r,i){return 0==n||2==n?e+t+r>i:e>i}function g(e){var t=Vo(e,"endScroll",-1);return t>=0?{distance:parseInt(t,10),unit:Vo(e,"scrollUnit","%"),force:Vo(e,"forceScroll",0)}:void 0}function h(e,t,n,r,i,o){try{var a,s=o==Qe.Animated&&!e.data("iframe")&&1!=Vo(r,"scrollOld","0"),u=!1,l=g(r);if(s){a=k(e,i,l);try{I(a,e,l,i,n)&&(u=!0)}catch(c){}}u&&o!=Qe.Normal||(a=e,w(a,e,i,l,n))}catch(c){ue.error(c)}}function m(e,t){return"px"==t.unit?t.distance:Hc(e).height()*t.distance/100}function v(e,t){if(t&&t.force){var n=m(e,t);return{top:n,bottom:0}}return du}function y(e,t,n){return mo(e,t)&&L(e,n)}function w(e,t,n,r,i){var o=v(e,r);y(e,o,n)||T(e,r,!0,null!=t.data("iframe")),i&&i()}function b(e,t){var n=v(e,t);if(!mo(ee,n)){var r=e.offset().top>ee.offset().top;T(ee,t,r)}}function T(e,t,n,r){if(t&&!r)window.scrollTo(0,e.offset().top-m(e,t));else{var i,o,a,s,u,l,c=hc("dontScrollTopWindow");c&&(u="hidden"===wmjQuery("html").css("overflow"),l="hidden"===wmjQuery("body").css("overflow"),(u||l)&&(i=wmjQuery("html"),o=wmjQuery("body"),a=i.scrollTop(),s=o.scrollTop())),e[0].scrollIntoView(n),c&&(u||l)&&(i.scrollTop(a),o.scrollTop(s))}}function k(e,t,n){var r,i=te[0],o=e,a=Hc(e),s=v(e,n),u=e.offset().top<ee.offset().top||e.offset().top+e.height()<ee.offset().top+ee.height(),l=a.top()-0+a.height()-0;!n||1!=t&&3!=t?u?(r=l-s.bottom<=e.offset().top+e.height()+ee.height()+i.height()?"down":"up",o="down"==r?ee:e):(r=a.top()+s.top>=e.offset().top-ee.height()-i.height()?"up":"down",o="down"==r?e:ee):o=e.outerHeight()>ee.height()?e:ee;var c=p(e.height(),ee.height(),t,i.height(),a.height()-0);return c&&(o=ee),o}function I(e,t,n,r,i){function o(o){var a={duration:"slow",rootElement:o,elementToFindScrollableFor:t,complete:function(){i&&i()},heightLimit:!hc("noHgtLmt")};if(n){var s=ee.height();a.endScroll={scrollOptions:n,balloonHeight:x(t,r,s),totalDrawnHeight:C(t,r,s)}}return e.scrollintoview(a)}return Us.isQuirksMode(ge[0])?!1:o("html")?!0:y(t,v(t,n),r)?!1:o("body")}function C(e,t,n){var r=e.outerHeight(),i=Hc(e).height()-0;return p(r,n,t,Y.arrowHeight(),i)?n:0==t||2==t?r+n+Y.arrowHeight()+1-parseInt(Vo(De,"topOffset",0)):Math.max(r,n)}function x(e,t,n){var r=e.height(),i=parseInt(Vo(De,"topOffset",0));return 0==t?n+Y.arrowHeight()+1-i:2==t?r+n+Y.arrowHeight()+1-i:n>r?n-i:(r-n)/2+n-i}function _(){switch(Al){case ys.WAITING_FOR_ELEMENT_EVENT:case ys.WAITING_FOR_NEXT_BUTTON_CLICK:case ys.WAITING_FOR_PAGE_CHANGE:return!0;default:return!1}}function D(){E()?(ce("Sticky - keep looking for element.",5),ia.releaseBalloons(),Al=ys.WAITING_FOR_STICKY_ELEMENT,ia.executeCurrentStep()):A()?(Ll=!1,ce("Skippable - continue to next step."),ia.executeTutorialNextStep()):Al!=ys.WAITING_FOR_PAGE_CHANGE&&(ce("Stopping walk-thru."),ia.releaseBalloons(),Al=ys.PAUSED,Il("WalkthruStopped"),xl("TutorialStopped"))}function E(){return Vo(Ii().Steps[El].Settings,"sticky",0)}function A(){return Ii().Steps[El].IsSkippable}function P(){return K==fe.STEP_TYPE.Popup}function N(e){var t={top:0,left:0},n=!1,r=!1;if(he){var i=ge.offset();t.top=Math.floor(i.top),t.left=Math.floor(i.left)}else{var o=ie.getPosRelativeToWindow(ge[0],window,!0);t.top=o.top,t.left=o.left,R()&&(n=!0)}ho(ge,t),L(ge,z)||(n=!0);var a=ge.height(),s=ge.width();Le=null;var u=j(t.top,t.left,a,s);return M(t.top,t.left,a,s),u?(ce("Element position changed, destroying it",5,ga),r=!0,Le=ie.getElementBounds(ge,he,window,De),pe.destroy(!0,function(){ce("Finished destorying balloon",5,ga),n||Z||(ce("Redrawing balloon",5,ga),pe.Show(!1,function(){Le=null,e&&e()}))})):e&&e(),r}function R(){var e=ge.data("iframe");return e&&ie.isElementScrolledOut(ge,e,z)}function j(e,t,n,r){return null!=Oe&&null!=Ge&&null!=Ue&&null!=Fe&&(Oe!=e||Ge!=t||Ue!=n||Fe!=r)}function M(e,t,n,r){Oe=e,Ge=t,Ue=n,Fe=r}function L(e,t){if(hc("disableIEVRTP"))return!0;var n=W(e);if(n)return!0;var r=O(e,t),i=e.parents("div"),o=!Zc(i,function(e){var e=mtjQuery(e),t=e.css("overflow"),n=G(t),i=Q(r,e);return n&&i});return o}function O(e,t){var n=e.offset(),r=e.height(),i=e.width(),o={top:n.top,left:n.left};switch(t){case 0:o.left+=i/2;break;case 1:o.top+=r/2,o.left+=i;break;case 2:o.top+=r,o.left+=i/2;break;case 3:o.top+=r/2;break;default:ue.error(new Error("Unknown balloon position"))}return o}function G(e){return"auto"==e||"scroll"==e||"hidden"==e}function W(e){var t=e.css("position");return"absolute"==t||"fixed"==t}function Q(e,t){var n=t.offset();return V(e.top,n.top,t.outerHeight())||V(e.left,n.left,t.outerWidth())}function V(e,t,n){var r=t+n;return t>e||e>r}this.LocalSVNRevision="$Rev: 5205 $";var z,q,K,X,Y,J,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,fe,pe=this,ge=null,he=!0,me=!1,ve=!1,ye=!1,we=!1,be="",Se="",Te="",ke="",Ie="",Ce="",xe=!1,_e="",De="",Ee=0,Ae=0,Pe=0,Ne=0,Re=!1,je=[],Me=[],Le=null,Oe=null,Ge=null,Ue=null,Fe=null,Be=null,We="scroll",Qe={Animated:0,Normal:1,None:2},Ve=800;this.onDestroy=function(e){je.push(e)},this.setReleaseEvents=function(e){Me=e},this.releaseEvents=function(e){for(var t,n=0;n<Me.length;n++)try{Me[n](e)&&(t=!0)}catch(r){}return t},this.SetTimeoutOn=function(){P()||J||(J=de.playSetTimeout(function(){pe.elementDisplayTimeoutFunction()},200))},this.getArrowHeight=function(){return Y.arrowHeight()},this.AddSubmitButton=function(){we=!0},this.showNormalBalloon=function(e,t,n,r,i){var o=Y.arrowHeight()+1;n=Kc(n)?n:ru;var s=ie.getDrawingArea(ge,!he),u=Le||ie.getElementBounds(ge,he,window,De),l=Y.decideWhereToPop(u,t,n,o,s);Be.setPosition(l.positionType);var c=Vo(De,"z-index","2147483630");Y.addPositionClass(e,l),te=Y.drawArrows(ge,Pe,l,t,u,r),l=a(l,t,u,i);var d=_e.BalloonBorderWidth,f=Y.hasBorder()?1:0;e.css("top",l.top-f*d+"px"),e.css("left",l.left-f*d+"px");var p=Us.isQuirksMode(ge[0]);l.positionType==Ks.Top&&e.css("top",l.top-2*f*d+1+"px"),l.positionType==Ks.Bottom&&e.css("top",l.top-1+"px"),l.positionType==Ks.Left&&(e.css("left",l.left-2*f*d+1+"px"),p&&e.css("left",l.left-2*f*d+"px")),l.positionType==Ks.Right&&e.css("left",l.left-1+"px"),e.css("width",t.width+"px"),p&&e.css("width",t.width+2*f*d+"px"),e.css("height",t.height+"px"),Bc(e,c);for(var g=0;g<te.length;g++)Bc(te[g],c);p&&Y.fixQuirksMode(e),Y.fixArrows({balloonDiv:e,arrowsDivs:te,result:l,isInCaptureMode:xe,isQuirksMode:p});var h=1==Vo(De,"isInvisible",0);if(h){e.hide();for(var g=0;g<te.length;g++)te[g].hide()}else Be.prepare(e,te)},this.showPopupBalloon=function(e){var t=Vo(De,"z-index",Js);e.css({"z-index":t,"min-width":Y.minPopupWidth()+"px"});var n=parseInt(Vo(De,"leftOffset",0)),r=parseInt(Vo(De,"topOffset",0)),i={top:r,left:n};ia.centerElementInPage(e,!1,i);var o=$.canDisplayOverlay(),a=1==Vo(De,"fadeBackground",1)||1==Vo(De,"fadeBackground",!0)||"True"==Vo(De,"fadeBackground","True");o&&a&&$.displayOverlay(t,!0);var s=Us.isQuirksMode(ge[0]);s&&Y.fixQuirksMode(e),Be.prepare(e),Be.postAnimation(function(){S.registerResizeAndScrollEvents({element:e,offset:i})})},this.getBalloonDiv=function(){return ee},this.getElement=function(){return ge},this.getBalloonHTML=function(){return Y.generateHtml(n())},this.Show=function(e,t){var n=he?Oo(ge):wmjQuery("head"),r=function(){try{P()||!xe&&!ae.shouldShow(ge,De)||ae.highlight();var n=he?ge:mtjQuery("body"),r=Hc(n),i=Ee>0?Ee:0,o=Ae>0?Ae:0;if(r.width()<=200?(0==z||2==z||void 0==z)&&(i=r.width()-ge.position().left-20,120>i&&(i=120)):!hc("noHgtLmt")&&r.height()<=200&&(0==z||2==z||void 0==z)&&(z=1),!Le){if(he){var a=ge.offset();Oe=Math.floor(a.top),Ge=Math.floor(a.left)}else{var s=ie.getPosRelativeToWindow(ge[0],window,!0);Oe=s.top,Ge=s.left}Ue=ge.height(),Fe=ge.width()}!le&&se.shouldShow(ge,De)&&se.highlight(),d(e,t,i,o)}catch(u){ue.error(u)}};xe?r():Y.loadResources(n,r)},this.destroy=function(e,t){e||(Z=!0,s(),u()),l(ee),Be.disableAnimation(),Be.destroy(function(){try{ae.unhighlightElement(ge,"balloon"),se.unhighlightElement(ge,"balloon")}catch(e){ue.error(e,"error removing highlighting elements for balloon")}t&&t()})},this.elementDisplayTimeoutFunction=function(){var e=ie.isElementVisible(ge);e?(N(),J=de.playSetTimeout(pe.elementDisplayTimeoutFunction,ne)):(ce("Element not visible anymore.",5,ga),pe.destroy(!1,function(){_()&&D()}))},e.apply(null,arguments)}function q(){function e(e){d(e.lib),f(e.balloonData.title),p(e.balloonData.content),g(e.balloonData.customHtml),h(e.balloonData.stepIndexText),m(e.balloonSettings),v(e.balloonSettings.direction),y(e.userGuid),w(e.stepType),s=e.settings,u=e.end}function n(e,t){var n={};if(n.nextButton=n.doneButton=n.backButton=n.submitButton=!1,n.buttonsArr=[],e)for(var o=Vo(s,"popupStepButtons",[]),a=0;a<o.length;a++){var u=o[a];if(0==u.action){var l=r(!1,t.next,t.done,!1);n.nextButton=l.nextButton,n.doneButton=l.doneButton,l.buttonsArr.length>0&&n.buttonsArr.push(l.buttonsArr[0])}else if(2==u.action){var c=r(t.back,!1,!1,!1);n.backButton=c.backButton,c.buttonsArr.length>0&&n.buttonsArr.push(c.buttonsArr[0])}else n.buttonsArr.push(i(u))}else n=r(t.back,t.next,t.done,t.submit);return n}function r(e,t,n,r){var i={},o=Su.get();return i.backButton=i.nextButton=i.doneButton=i.submitButton=!1,i.buttonsArr=[],e&&(i.backButton={order:2,weak:!0,classes:k("back","weak"),buttonText:o.BackButtonText},i.buttonsArr.push(i.backButton)),t&&(i.nextButton={order:3,normal:!0,classes:k("next","normal"),buttonText:o.NextButtonText},a()&&(i.nextButton.buttonText=o.DoneButtonText),i.buttonsArr.push(i.nextButton)),n&&(i.doneButton={order:3,normal:!0,classes:k("done","normal"),buttonText:o.DoneButtonText},i.buttonsArr.push(i.doneButton)),r&&(i.submitButton={order:4,normal:!0,classes:k("submit","normal"),buttonText:o.SubmitButtonText},i.buttonsArr.push(i.submitButton)),i}function i(e){var t=e.action||-1,n=e.name||"",r=Su.get();switch(parseInt(t)){case 1:return{order:4,normal:!0,classes:o("start","normal"),buttonText:r.WelcomeStepButtonStartText};case 3:return{order:1,weak:!0,classes:o("cancel","weak"),buttonText:r.WelcomeStepButtonCancelText};case 4:return{order:4,normal:!0,classes:k("submit","normal"),buttonText:r.SubmitButtonText};case 5:return{order:4,normal:!0,classes:o("redirect","normal"),buttonText:e.name};case 6:return{order:2,weak:!0,classes:o("stay","weak"),buttonText:e.name};case 7:return{order:4,normal:!0,classes:o("ok","normal"),buttonText:e.name}}return{order:2,normal:!0,classes:"walkme-custom-balloon-button walkme-custom-balloon-normal-button",buttonText:n}}function o(e,t){return"walkme-custom-balloon-button walkme-custom-balloon-"+t+"-button walkme-custom-balloon-"+e+"-button walkme-action-"+e}function a(){var e=Vo(s,"isNextToDone","0");return"1"==e}this.LocalSVNRevision="$Rev: 4471 $";{var s,u,l=new t(this),c="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit; letter-spacing: normal; text-transform: none; outline: invert none medium; width: auto; box-shadow:none; text-shadow:none; border-top: none; border-right: none; border-bottom: none; border-left: none; position: static; top: auto; left: auto; transition: none;",d=l.Prop.Protected("lib"),f=l.Prop.Protected("title"),p=l.Prop.Protected("content"),g=l.Prop.Protected("customHtml"),h=l.Prop.Protected("stepIndexText"),m=l.Prop.Protected("balloonSettings"),v=l.Prop.Protected("direction"),y=l.Prop.Protected("userGuid"),w=(l.Prop.Protected("contentDiv"),l.Prop.Protected("fixedWidth"),l.Prop.Protected("fixedHeight"),l.Prop.Protected("stepType")),b=l.Prop.Protected("buttons"),S=(l.Virtual.Public("generateHtml",function(){var e=S(),t=T(),n=Fa.to_html(e,t);return n}),l.Virtual.Protected("createHtmlTemplate")),T=l.Virtual.Protected("createTemplateData",function(){var e=1==Vo(s,"displayX",!0)||"True"==Vo(s,"displayX","True")||1==Vo(s,"displayX",1),t={data:{title:f(),content:p(),customHtml:g(),stepIndexText:h(),balloonCloseTooltip:Su.get().BalloonCloseTooltip},font:m().Font,cssReset:c,displayX:e,colors:{mainBg:m().Color,minorBg:m().BalloonColor2,border:m().BorderColor,header:m().HeaderColor,content:m().ContentColor,footerText:m().FooterTextColor,buttonBg:m().ButtonBgColor,buttonBg2:m().ButtonBgColor2,buttonBorder:m().ButtonBorderColor,buttonText:m().ButtonTextColor},radiuses:{balloon:m().BalloonRadius+"px",button:m().BalloonButtonRadius+"px"},direction:{basic:v(),side:"rtl"==v()?"right":"left",oppositeSide:"rtl"==v()?"left":"right"},poweredBy:{showText:"txt"==m().showPoweredByFormat,link:m().showPoweredBy?"http://www.walkme.com/?u="+y():""},buttons:b().buttonsArr,border:{size:m().BalloonBorderWidth+"px"}};return t}),k=(l.Virtual.Public("manipulationsForInlineCss",function(){}),l.Protected("getCustomDivHtml",function(e){return"<div class='walkme-custom-balloon-custom-div-"+e+"' style='display:none;' ></div>"}),l.Virtual.Protected("generateNormalButtonClasses",function(e,t){return o(e,t)}));l.Public("initButtons",function(e){var t={back:e.backButton,next:e.nextButton,done:e.doneButton,submit:e.submitButton};b(n(w()==Bs.STEP_TYPE.Popup,t))})}e.apply(null,arguments)}function K(){function e(e){a.Extends(q,e),i=a._base,o=e.balloonSettings}function n(e,t,n){return t="direction:"+t+";",r(e,t,n)}function r(e,t,n){if(e.indexOf(au)>-1&&e.indexOf(su)>-1&&e.indexOf(uu)>-1&&e.indexOf(lu)>-1){n="float:"+n+";";var r="<span style='"+n+"'>&nbsp;</span>";e="<div class='walkme-custom-balloon-current-step-text' style='"+t+n+"'>"+e,e=e.replace(au,"</div>"+r+"<div class='walkme-custom-balloon-current-step-number' style='"+n+"'>"),e=e.replace(su,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-text' style='"+t+n+"'>"),e=e.replace(uu,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-number' style='"+n+"'>"),e=e.replace(lu,"</div>"),e+="<div style='clear:both;'></div>"}return e}this.LocalSVNRevision="$Rev: 4157 $";{var i,o,a=new t(this);a.Override("generateHtml",function(){return i.customHtml()&&i.customHtml().inner||i.generateHtml()}),a.Override("generateNormalButtonClasses",function(e,t){return i.generateNormalButtonClasses(e,t)+" mt-custom-balloon-"+e+"-button CUSTOM-STEP-ID"}),a.Override("createTemplateData",function(){var e=i.createTemplateData();e.outerDiv=i.getCustomDivHtml("outer-div"),e.title=i.getCustomDivHtml("title"),e.content=i.getCustomDivHtml("content"),e.poweredBy.showImage="img"==i.balloonSettings().showPoweredByFormat,e.buttonShadowWidth=i.balloonSettings().ButtonShadowWidth,e.serverName=Pu;var t="rtl"==i.direction()?"right":"left";e.data.stepIndexText=n(i.stepIndexText(),i.direction(),t),e.ie7LayoutFix="overflow: auto;zoom: 1;",e.buttonsExist=i.buttons().buttonsArr.length>0,e.showBottomDiv=!("no"==i.balloonSettings().showPoweredByFormat&&0==i.stepIndexText().length),Wi(o,"ButtonBgColor"),Wi(o,"ButtonBgColor2");var r=o.ButtonBgColor,a=o.ButtonBgColor2;return r==a?e.BackgroundCSS=" background-color: "+r+"; ":(e.BackgroundCSS="background:-moz-linear-gradient(top, "+r+" , "+a+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+r+"), color-stop(100%,"+a+")); background:-webkit-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:-o-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:-ms-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:linear-gradient(to bottom, "+r+" 0%,"+a+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+r+'", endColorstr="'+a+'",GradientType=0 ); ',ra()||(e.radiuses.button="0"),H.isGradientUsingFilter(e.BackgroundCSS)&&(e.BackgroundCSS+="background: url("+Pu+"/player/resources/images/spacer.gif) repeat;")),e}),a.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";padding-top:5px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 3px; padding-bottom: 1px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 7px;margin:3px 3px 0 3px;direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='min-height: "),r.s(r.f("buttonsExist",e,t,1),e,t,0,388,390,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("30")}),e.pop()),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("0"),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,460,818,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 8px; cursor: pointer;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";font-weight:normal;font-family:;' title='"),n.b(n.v(n.d("data.balloonCloseTooltip",e,t,0))),n.b("'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";font-weight:bold;margin-top:2px;margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(":14px;font-size:15px;color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";font-family:"),r.b(r.t(r.f("font",e,t,0))),r.b(";'>"),r.b(r.t(r.f("title",e,t,0))),r.b(r.t(r.d("data.title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1134,1429,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(";margin-top: 4px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 6px; font-family:"),n.b(n.v(n.f("font",e,t,0))),n.b(";font-size:14px;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";"),n.b(n.v(n.f("ie7LayoutFix",e,t,0))),n.b("'>"),n.b(n.t(n.f("content",e,t,0))),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>"),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>"),r.s(r.f("buttonsExist",e,t,1),e,t,0,1699,2702,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(";direction:"),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("'>"),n.s(n.f("buttons",e,t,1),e,t,0,1902,2684,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b("' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(";-moz-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; -webkit-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.b(n.v(n.f("BackgroundCSS",e,t,0))),n.b("-moz-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); border: 1px solid "),n.b(n.v(n.d("colors.buttonBorder",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' "),n.b(n.v(n.f("wtIdAttribute",e,t,0))),n.b(">"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</button>")}),e.pop()),n.b("</div>")}),e.pop()),r.b("</div></div>"),r.s(r.f("showBottomDiv",e,t,1),e,t,0,2749,4329,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-separator' style='display: block; margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: block;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 10px; display:inline-block;font-family: "),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;margin-top:3px;margin-bottom:0px;color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>"),n.b(n.t(n.d("data.stepIndexText",e,t,0))),n.b("</div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 10px; top: 3px;text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; width:100px; color:"),n.b(n.v(n.d("color.content",e,t,0))),n.b(";text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(" '>"),n.s(n.d("poweredBy.link",e,t,1),e,t,0,3744,3993,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank' style='text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>")}),e.pop()),n.s(n.d("poweredBy.showText",e,t,1),e,t,0,4035,4048,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("By WalkMe.com")}),e.pop()),n.s(n.d("poweredBy.showImage",e,t,1),e,t,0,4095,4251,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div title='WalkMe.com' style='border: none; background-image: url("),n.b(n.v(n.f("serverName",e,t,0))),n.b("/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>")}),e.pop()),n.s(n.d("poweredBy.link",e,t,1),e,t,0,4294,4298,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b("</div></div>")}),e.pop()),r.fl()};return e})}e.apply(null,arguments)}function X(){function e(e){a.Extends(q,e),o=a._base}function n(){o.buttons().buttonsArr.sort(function(e,t){return e.order-t.order})}function r(e){var t=function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("buttons",e,t,1),e,t,0,12,906,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b(" walkme-click-and-hover' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 21px; font-family: inherit; cursor: pointer; display: inline-block; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.s(n.f("normal",e,t,1),e,t,0,277,513,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:center; background-color: "),n.b(n.v(n.d("colors.buttonBg",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 7px; "),n.s(n.f("isNotIe7",e,t,1),e,t,0,445,461,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("min-width: 42px;")}),e.pop()),n.b(" padding-left: 5px; padding-right: 5px;")}),e.pop()),n.s(n.f("weak",e,t,1),e,t,0,533,690,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("; background:none; color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 3px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 2px;")}),e.pop()),n.b("'><span class='walkme-custom-balloon-button-text' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align:center; font-size: 10px; position:relative; color:inherit;'>"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</span></button>")}),e.pop()),r.s(r.f("buttons",e,t,1),e,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),
r.b(r.t(r.f("cssReset",e,t,0))),r.b("'></div>"),r.s(r.d("poweredBy.link",e,t,1),e,t,0,1028,1546,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.d("poweredBy.showText",e,t,1),e,t,0,1051,1523,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-powered-by-div' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" cursor: pointer; margin-top:6px; margin-bottom:6px; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; font-size:9px; display: inline-block; text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" text-decoration:none; font-size: inherit; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; display: inline;' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank'>By WalkMe</a></div>")}),e.pop())}),e.pop())),r.fl()},n=Fa.to_html(t,e);return n}function i(e,t,n){if(e==u.Shadow)switch(t){case 0:return"1px 1px 3px 0px rgba(0, 0, 0, 0.2)";case 1:return"0px 0px 13px 0px rgba(0, 0, 0, 0.2)";case 2:return"0px 0px 13px 5px rgba(0, 0, 0, 0.2)"}else if(e==u.Glow){var r=o.lib().getUiUtils().hexToRgba(n,.6);switch(t){case 0:return"0px 0px 7px 0px rgba"+r;case 1:return"0px 0px 14px 0px rgba"+r;case 2:return"0px 0px 26px 5px rgba"+r}}}this.LocalSVNRevision="$Rev: 4206 $";{var o,a=new t(this),s=8,u={None:0,Shadow:1,Glow:2},l=a.Prop.Public("contentMargin",15);a.Override("manipulationsForInlineCss",function(e){if(!Us.isIE(8,"lte")){var t=o.balloonSettings(),n=new ee;n.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:e}),n.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:e})}}),a.Override("createTemplateData",function(){var e=o.createTemplateData();e.outerDiv=o.getCustomDivHtml("inner-div"),e.title=o.getCustomDivHtml("title"),e.colors.xBtn=o.balloonSettings().XButtonColor,e.colors.stepInfo=o.balloonSettings().StepInfoColor,e.colors.separator=o.balloonSettings().SeparatorColor,e.stepIndexHeight=46,e.top={minHeight:57,textAlign:e.direction.side,title:{paddingTop:12},content:{sideMargin:l(),oppositeSideMargin:l()-2}},e.data.title&&!e.data.content&&(e.top.minHeight=43),e.bottom={},e.bottom.stepIndexMarginTop=10,Kc(e.buttons)&&0!=e.buttons.length||(e.stepIndexHeight-=s,e.bottom.stepIndexMarginTop-=s/2),e.stepIndexHeight+="px",e.bottom.poweredByHeight+="px",e.xBtn={marginTop:o.balloonSettings().BalloonBorderWidth+"px",marginHorizental:parseInt(o.balloonSettings().BalloonBorderWidth)+4+"px"};var t=o.balloonSettings().BalloonBorderWidth-4;return 0>t&&(t=0),e.border.side={size:t+"px"},e.shadow=i(o.balloonSettings().ShadowType,o.balloonSettings().ShadowLevel,o.balloonSettings().ShadowColor),e.isNotIe7=!Us.isIEBrowser(7),n(),e.buttonsHtml=r(e),e}),a.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",e,t,1),e,t,0,304,388,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("-webkit-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; -moz-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b(";")}),e.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",e,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",e,t,1),e,t,0,776,803,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.inner",e,t,0)))}),e.pop()),r.s(r.d("data.customHtml.inner",e,t,1),e,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",e,t,0))),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,1191,1589,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" font-size: 12px; color: "),n.b(n.v(n.d("colors.xBtn",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 0px; top: 0px; padding-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("xBtn.marginHorizental",e,t,0))),n.b("; margin-top: "),n.b(n.v(n.d("xBtn.marginTop",e,t,0))),n.b("; cursor: pointer;font-weight:normal;' title='"),n.b(n.v(n.d("data.balloonCloseTooltip",e,t,0))),n.b("'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",e,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",e,t,0))),r.b("; font-size:14px; color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",e,t,0))),r.b(r.t(r.f("title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1936,2320,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align: "),n.b(n.v(n.d("top.textAlign",e,t,0))),n.b("; margin-top: 2px; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.sideMargin",e,t,0))),n.b("px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.oppositeSideMargin",e,t,0))),n.b("px; line-height: 18px; font-size:12px; color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";overflow: auto;zoom: 1;'>"),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div></div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",e,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'></div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.minorBg",e,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" color: "),r.b(r.v(r.d("colors.stepInfo",e,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",e,t,0))),r.b("px; margin-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 10px; float: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";'>"),r.b(r.v(r.d("data.stepIndexText",e,t,0))),r.b("</div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",e,t,0))),r.b("</div></div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" clear: both'></div></div>")),r.b("</div><div class='walkme-custom-side-border' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; width: 4px; height: 100%;  top:0px; "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(":0px; border:"),r.b(r.v(r.d("border.side.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; border-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": none; border-top: none; border-bottom: none; position: absolute;'></div></div>"),r.s(r.d("data.customHtml.outter",e,t,1),e,t,0,3719,3747,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.outter",e,t,0)))}),e.pop()),r.b("</div>"),r.fl()};return e})}e.apply(null,arguments)}function Y(){function e(e){c(e.lib),g(e.resourceManager),h(e.logger),v(400),b(!0),P(e.balloonSettings)}function n(e){var t=mtjQuery(".walkme-custom-balloon-title",e).text(),n=0,r=0,i=0,o=mtjQuery(".walkme-custom-balloon-content",e);if(o.length>0){for(var a=o.html().replace(/<br*">/g,"< >").split("< >"),s=0;s<a.length;s++){var u=a[s].replace(/(<([^>]+)>)/gi,"").length;u>i&&(i=u)}var l=mtjQuery(".walkme-custom-balloon-content span",e);r=parseInt(l.length>0?l.css("font-size").replace(/px/,""):o.css("font-size").replace(/px/,""))}var c=mtjQuery(".walkme-custom-balloon-title span",e);n=parseInt(c.length>0?c.css("font-size").replace(/px/,""):mtjQuery(".walkme-custom-balloon-title",e).css("font-size").replace(/px/,""));var d=0;d=t.length*n>i*r?t.length*n:i*r;var f=parseFloat(Vo(Su.get().Settings,"quirksModeFactor",.5));return d*=f}function r(e,t){var n=.5;return e==Ys.Start?n=1:e==Ys.End&&(n=0),(2==t||3==t)&&(n=1-n),n}function i(e,t,n,i,o,a){var s=new Bo(o,a);s.color=i;var u=e.top,l=e.left;t.positionType==Ks.Bottom,t.positionType==Ks.Right,s.point_direction=t.positionType,s.angle=r(t.positionOffset,s.point_direction);var c=s.Generate(n[0].ownerDocument);return c.css("top",u+"px"),c.css("left",l+"px"),c.css("display","none"),mtjQuery(n.append(c)),c}function o(e,t,n,r){var i,o;if(e.positionType==Ks.Top||e.positionType==Ks.Bottom){var s=e.left+t.width;i=a(e.left,s,w(),e.positionOffset,n.width,n.left),o=e.positionType==Ks.Top?e.top+t.height:e.top-y()}else if(e.positionType==Ks.Left||e.positionType==Ks.Right){var u=e.top+t.height;o=a(e.top,u,w(),e.positionOffset,n.height,n.top),e.positionType==Ks.Left?(i=e.left+t.width,c().getHostData().isQuirksMode(r[0])&&(i-=2)):i=e.left-y()}return{top:o,left:i}}function a(e,t,n,r,i,o){var a;return r==Ys.Center?a=(t+e-n)/2:r==Ys.Start?a=o+(i-n)/2:r==Ys.End?a=o+(i-n)/2:h().error(null),s(a,e,t,n)}function s(e,t,n,r){var i=n-r;return e>i?i:t>e?t:e}function u(e,t){var n=t.balloonData;n.title||e.addClass("walkme-custom-no-title"),n.content||n.customHtml&&(n.customHtml.inner||n.customHtml.outter)||e.addClass("walkme-custom-no-content"),t.nextButton||t.backButton||t.doneButton||t.submitButton||e.addClass("walkme-custom-no-buttons")}this.LocalSVNRevision="$Rev: 4471 $";var l=new t(this),c=l.Prop.Protected("lib"),d=l.Prop.Protected("balloon"),f=l.Prop.Protected("balloonClass"),p=l.Prop.Protected("balloonSettings"),g=l.Prop.Protected("resourceManager"),h=l.Prop.Protected("logger"),m=l.Prop.Protected("minWidth"),v=l.Prop.Protected("maxWidth"),y=(l.Prop.Public("minPopupWidth"),l.Prop.Public("arrowHeight")),w=l.Prop.Public("arrowBaseWidth"),b=l.Prop.Public("hasBorder"),S=l.Virtual.Protected("addBalloonDiv"),T=l.Virtual.Public("loadResources",function(e,t){t&&t()}),k=l.Virtual.Protected("getArrowsColors"),I=(l.Virtual.Public("fixSize",function(e,t,n,r,i){I(e,t,n,r),C(e,i);var o={width:e.width(),height:e.height()};return o}),l.Virtual.Protected("fixWidth",function(e,t,r,i){var o=0;o=c().getHostData().isQuirksMode(t[0])?n(e):e.width();var a=0;a=!i||0>=i?400:i;var s=190;if(s>o&&(o=s),o>a&&(o=a),e.css("width",o+"px"),!i||0>=i){var u=0;mtjQuery.each(mtjQuery("[width], [style*=width], [style*=WIDTH]",e),function(e,t){mtjQuery(t).width()>u&&(u=mtjQuery(t).width())}),u>o&&x(u,e)}})),C=l.Virtual.Protected("fixHeight",function(e,t){var n=e.height();t&&t>0&&(n=t),e.css("height",n+"px")}),x=l.Virtual.Protected("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t);n.css("width",e+"px"),t.css("width","auto")}),_=l.Public("generateHtml",function(e){var t={lib:c(),balloonSettings:p(),balloonData:e.balloonData,userGuid:e.userGuid,settings:e.settings,end:e.end,stepType:e.stepType,contentDiv:e.contentDiv},n={nextButton:e.nextButton,doneButton:e.doneButton,backButton:e.backButton,submitButton:e.submitButton};return d(new(f())(t)),d().initButtons(n),d().generateHtml()}),D=(l.Public("manipulationsForInlineCss",function(e){return d().manipulationsForInlineCss(e)}),l.Public("generateBalloonDiv",function(e,t,n,r,i,o){var a=S(_(o),e,t);return D(a,n,r,i,o),a}),l.Virtual.Protected("addIdentifiers",function(e,t,n,r,i){e.attr("id","walkme-balloon-"+n),e.addClass("walkme-custom-walkthru-"+t),e.addClass("walkme-custom-step-"+n);var o=r==Bs.STEP_TYPE.Popup?"popup":"simple";e.addClass("walkme-custom-"+o+"-step");var a=c().getCurrentLanguage()||"default";e.addClass("walkme-custom-language-"+a),$.addBrowserSpecificClasses(e),u(e,i)})),E=l.Virtual.Protected("addArrowClasses",function(e,t,n,r){e.addClass("walkme-custom-balloon-arrow"),e.addClass("walkme-custom-balloon-arrow-"+n),e.addClass("walkme-custom-balloon-arrow-"+t),e.addClass("walkme-custom-balloon-arrow-"+t+"-"+n),e.addClass("walkme-custom-step-"+r)}),A=(l.Virtual.Public("fixArrows",function(){}),l.Virtual.Public("fixQuirksMode",function(){}),l.Virtual.Protected("finalizeArrowsPosition",function(){})),P=(l.Virtual.Public("drawArrows",function(e,t,n,r,a,s){var u=o(n,r,a,e),l={top:u.top,left:u.left};n.positionType==Ks.Top&&(l.top=u.top,u.top=u.top-p().BalloonBorderWidth+1,l.left=u.left-1),n.positionType==Ks.Bottom&&(u.top=u.top+p().BalloonBorderWidth-1,l.top=u.top-p().BalloonBorderWidth,l.left=u.left-1),n.positionType==Ks.Left&&(c().getHostData().isQuirksMode(e[0])?(u.left=u.left-p().BalloonBorderWidth+1,l.left=u.left+p().BalloonBorderWidth,l.top=u.top-1):(u.left=u.left-p().BalloonBorderWidth+1,l.left=u.left+p().BalloonBorderWidth-1,l.top=u.top-1)),n.positionType==Ks.Right&&(u.left=u.left+p().BalloonBorderWidth-1,l.left=u.left-p().BalloonBorderWidth,l.top=u.top-1),A(n.positionType,u,l);var d="",f=null,g=Xs[n.positionType],h=k(g);p().BalloonBorderWidth>0&&(f=i(l,n,s,h.outterArrow,y()+1,y()+1),E(f,"outer",g,t)),d=i(u,n,s,h.innerArrow,y(),y()),E(d,"inner",g,t);var m=[d];return f&&m.push(f),m}),l.Protected("getBalloonBasicWidth",function(e,t,r){var i=0;i=c().getHostData().isQuirksMode(t[0])?n(e):e.width();var o=0;return o=r||0>=r?v():r,i<m()&&(i=m()),i>o&&(i=o),i}),l.Public("setConfiguration",function(e){c().FixConfiguration(e),p(e),T()})),N=(l.Public("decideWhereToPopForCaptureBalloon",function(e,t,n,r){try{var i=e[0],o=i.getBoundingClientRect(),a=Fc(e),s=Oc(i,a,window),u={width:n,height:r},l=mtjQuery(document);l.height=l.height(),l.width=l.width(),l.top=0,l.left=0;var c=l,d=co(o,s),f=y()+1,p=N(d,u,t,f,c,!0);return p}catch(g){ia.Logger.error(g)}}),l.Public("addPositionClass",function(e,t){var n="walkme-custom-position-"+Xs[t.positionType];e.addClass(n)}),l.Public("decideWhereToPop",function(e,t,n,r,i,o){var a,s,u=e.left+e.width/2,l=e.top+e.height/2,c=e.bottom+t.height+r<i.height+i.top,d=e.left-t.width-r>i.left,f=e.right+t.width+r<i.width+i.left,p=e.top-t.height-r>i.top,g=u-t.width/2>i.left,h=u+t.width/2<i.width+i.left,m=l-t.height/2>i.top,v=l+t.height/2<i.height+i.top;if(n==Ks.Top||n==Ks.Bottom){var w,b;if(g&&h)b=u-t.width/2,s=Ys.Center;else if(g){if(!h){var S=i.width+i.left-e.right;b=e.right-t.width+S-1,s=Ys.End}}else b=e.left,s=Ys.Start;return n==Ks.Top?(w=e.top-t.height-r,a=Ks.Top):(w=e.bottom+r,a=Ks.Bottom),o&&(p&&n==Ks.Top||n==Ks.Bottom&&!c?(w=e.top-t.height-r,a=Ks.Top):(w=e.bottom+r,a=Ks.Bottom)),{top:Math.ceil(w),left:Math.ceil(b),positionType:a,positionOffset:s}}if(n==Ks.Right||n==Ks.Left){var w,b;return v&&m?(w=l-t.height/2,s=Ys.Center):v?m||(w=e.top-y()+2,s=Ys.Start):(w=e.top-y()+2,s=Ys.End),n==Ks.Left?(b=e.left-t.width-r,a=Ks.Left):(b=e.right+r,a=Ks.Right),o&&(d&&n==Ks.Left||n==Ks.Right&&!f?(b=e.left-t.width-r,a=Ks.Left):(b=e.right+r,a=Ks.Right)),{top:Math.ceil(w),left:Math.ceil(b),positionType:a,positionOffset:s}}}));e.apply(null,arguments)}function J(){function e(e){i.Extends(Y,e);var t=e.balloonSettings.minPopupWidth?e.balloonSettings.minPopupWidth:400;r=i._base,r.balloonClass(K),r.minWidth(190),r.arrowHeight(13),r.arrowBaseWidth(26),r.minPopupWidth(t)}function n(e,t){var n=function(e,t){return(e+t)/2},r=function(e){return parseInt((""+e).replace("#",""),16)},i=function(e){return(e>>0).toString(16)},o=r(e),a=r(t),s=function(e){return e>>16&255},u=function(e){return e>>8&255},l=function(e){return 255&e},c=i(n(s(o),s(a))),d=i(n(u(o),u(a))),f=i(n(l(o),l(a))),p="#"+(c.length<2?"0"+c:c)+(d.length<2?"0"+d:d)+(f.length<2?"0"+f:f);return p}this.LocalSVNRevision="$Rev: 4127 $";{var r,i=new t(this);i.Override("addBalloonDiv",function(e,t,n){var i=mtjQuery(t[0].ownerDocument.createElement("div"));return i.addClass("walkme-custom-balloon-outer-div"),i.addClass("mt-custom-balloon-outer-div"),i.css("display","none"),i.css("direction","ltr"),lo(i,r.balloonSettings(),n),r.lib().getUiUtils().setLangAttribute(i),mtjQuery(t.append(i)),i.html(e),i}),i.Override("addIdentifiers",function(e,t,n,i,o){r.addIdentifiers(e,t,n,i,o),wmjQuery("*",e).addClass("walkme-custom-step-"+n)}),i.Override("addArrowClasses",function(e,t,n,i){r.addArrowClasses(e,t,n,i),e.addClass("mt-custom-balloon-arrow-"+t)}),i.Override("getArrowsColors",function(e){var t=r.balloonSettings(),i=""==t.BalloonColor2?"transparent":t.BalloonColor2,o=t.BorderColor;switch(e){case"bottom":i=""==t.Color?"transparent":t.Color;break;case"top":break;case"left":case"right":i="transparent"==t.Color||"transparent"==t.BalloonColor2||"#00000000"==t.Color||"#00000000"==t.BalloonColor2?"transparent":n(t.Color,t.BalloonColor2)}return{innerArrow:i,outterArrow:o}})}e.apply(null,arguments)}function Z(){function e(e){s.Extends(Y,e);var t=e.balloonSettings.minPopupWidth?e.balloonSettings.minPopupWidth:300;o=s._base,o.balloonClass(X),o.minWidth(190),o.minPopupWidth(t),o.arrowHeight(10),o.arrowBaseWidth(18),o.hasBorder(!1),a=o.lib().getCommonUtils()}function n(e,t,n,i,a){e.show();var s=wmjQuery(".walkme-custom-balloon-bottom-div",e),u=s[0]?s[0].offsetHeight:0,l=o.arrowBaseWidth(),c=parseFloat(t[0].css("top")),d=parseFloat(e.css("top")),f=e[0]?e[0].offsetHeight:0,p=c-d,g=f-u;if(e.hide(),l>g-p&&g>p){var h=d-(g-p+1);e.css("top",h+"px"),r(t,i,n.positionType,a)}else p>=g&&r(t,i,n.positionType,a)}function r(e,t,n,r){var i=n==Ks.Left&&"ltr"==t||n==Ks.Right&&"rtl"==t;if(i||r){var a=n==Ks.Left?"left":"right";e[0].css("border-"+a+"-color",o.balloonSettings().BalloonColor2)}for(var s=0;s<e.length;s++)e[s].addClass("walkme-custom-balloon-arrow-footer")}function i(e){e[0].css("border-top-color",o.balloonSettings().Color)}this.LocalSVNRevision="$Rev: 5288 $";{var o,a,s=new t(this);s.Override("addBalloonDiv",function(e,t){var n=a.createElementInDocument(e,t[0].ownerDocument);return hc("accessibility")&&(focusableElements=n.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button"),a.addTabIndex(focusableElements),focusableElements.on("focus",function(){wmjQuery(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),focusableElements.on("blur",function(){wmjQuery(this).css({outline:"none","outline-offset":"0px"})})),o.lib().getUiUtils().setLangAttribute(n),n.css("display","none"),t.append(n),n}),s.Override("loadResources",function(e,t){var n=o.balloonSettings().FontsData;n?o.resourceManager().fonts(n,e,t,t):t&&t()}),s.Override("fixWidth",function(e,t,n,r){o.fixWidth(e,t,n,r),e.css("width",e.width()+1+"px")}),s.Override("getArrowsColors",function(e){var t=o.balloonSettings(),n=t.Color,r=t.BorderColor,i=t.direction;switch(e){case"bottom":n=t.Color;break;case"top":n=t.BalloonColor2;break;case"left":"ltr"==i?n=t.Color:(n=t.ButtonBgColor,r=t.ButtonBgColor);break;case"right":"ltr"==i?(n=t.ButtonBgColor,r=t.ButtonBgColor):n=t.Color}return{innerArrow:n,outterArrow:r}}),s.Override("fixArrows",function(e){var t=e.balloonDiv,r=e.arrowsDivs,a=e.result,s=e.isInCaptureMode,u=e.isQuirksMode,l=o.balloonSettings().direction,c=a.positionType==Ks.Left||a.positionType==Ks.Right;c?n(t,r,a,l,u):s&&a.positionType==Ks.Top&&i(r)}),s.Override("fixQuirksMode",function(e){var t=wmjQuery(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",e);t.hide();var n=wmjQuery(".walkme-custom-powered-by-div",e);if(n.length>0){var r=n.css("margin-bottom"),i=n.css("margin-top");n.css("margin-bottom","0px").css("margin-top","0px"),n.css("padding-bottom",r).css("padding-top",i)}var a,s=wmjQuery(".walkme-custom-balloon-arrow-inner",e.parent()),u=wmjQuery(".walkme-custom-balloon-arrow-outer",e.parent());if(s.hasClass("walkme-custom-balloon-arrow-right"))a="right";else{if(!s.hasClass("walkme-custom-balloon-arrow-left"))return;a="left"}s.css("border-"+a+"-color",o.balloonSettings().Color),u.css("border-"+a+"-color",o.balloonSettings().BorderColor)}),s.Override("finalizeArrowsPosition",function(e,t,n){switch(e){case Ks.Top:t.top--;break;case Ks.Bottom:t.top++;break;case Ks.Left:t.left--;break;case Ks.Right:t.left++}}),s.Override("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t),r=mtjQuery(".walkme-custom-balloon-title",t);r.css("width","10px"),n.css("width",e+"px"),t.css("width","auto");var i=t.width();t.css("width",i+"px"),r.css("width","auto")})}e.apply(null,arguments)}function ee(){function e(){}function t(e,t,n){wmjQuery(e).css(t,n)}this.LocalSVNRevision="$Rev: 3262 $";var n=this;n.addClickAndHover=function(e){function n(e){d=!0;var n=wmjQuery(".walkme-click-and-hover:active")[0]==e.currentTarget;n?t(e.currentTarget,a,l):t(e.currentTarget,a,u)}function r(e){d=!1,t(e.currentTarget,a,s)}function i(e){t(e.currentTarget,a,l)}function o(e){d?t(e.currentTarget,a,u):t(e.currentTarget,a,s)}var a=e.cssProperty,s=e.regularColor,u=e.hoverColor,l=e.clickColor,c=e.elemSelector,d=!1,f=e.balloonDiv,p=f.find(c);p.mouseenter(n),p.mouseleave(r),p.mouseup(o),p.mousedown(i)},e.apply(null,arguments)}function te(){function e(e){ve=e.element,be=e.settings,Se=e.html,Te=e.lib,Ce=e.position,Ne=e.launcherId,Re=e.launcherName,pe=e.userGuid,we=e.isCapturingMode,je=e.positionHelper,Me=e.addFunctionality,Fe=e.cdnServer,le=e.clickAuditManager,ue=H.isTrue(be,"animated",!1),me=e.delayBetweenClicks,fe=new U({lib:_makeTutorial,element:ve,settings:be,drawableType:"launcher",drawableId:Ne,monitor:!we,defaultSettings:we,cssKeysValues:[{id:Ne,name:"launcher"}]}),Be=H.isTrue(be,"embedInParent",!1)&&!we,t(),ye=ve.data("iframe")?Te.shouldHandlePageAsFramesets()||Be:!0,ge=ua.get("TimerManager")}function t(){var e=Vo(be,"imageObject",Qe);if("customText"==e.type)o(e);else{var t=n()+e.data.shape+"-"+e.data.color;r(e,t),we||i(e,t)}}function n(){return Fe+"/player/resources/launchers/"}function r(e,t){xe="shape"==e.type?t+".png":l(e.data.url)?e.data.url:n()+e.data.url}function i(e,t){"shape"==e.type?a(e,t):s(e)}function o(e){Ae=e.data.customText,Pe=e.data.customClass?e.data.customClass.split(/,| /).join(" "):""}function a(e,t){H.isValueTrue(e.data.hover)&&(_e=t+"-hover.png"),H.isValueTrue(e.data.click)&&(De=t+"-click.png")}function s(e){_e=u(e,"hover"),_e=_e?encodeURI(_e):_e,De=u(e,"click"),De=De?encodeURI(De):De}function u(e,t){var r=null;return e.data[t]&&(r=l(e.data[t])?e.data[t]:n()+e.data[t]),r}function l(e){return 0==e.indexOf("http")}function c(e,t){var n=wmjQuery("<img />");n.load(function(){var e={width:this.width,height:this.height};t(e),n.unbind("load")}),n.attr("src",e)}function d(e){var t=wmjQuery(document.createElement("div")).addClass("walkme-custom-launcher-tester").addClass(Pe).important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","line-height":"normal"}).html(Ae).appendTo(wmjQuery("body",document).or("html",document)),n={width:t.width(),height:t.height()};t.remove(),e(n)}function f(){fe.shouldShow()&&!Us.isQuirksMode(ve[0])&&fe.highlight()}function p(e,t){se.top-=t.top-e.top,se.left-=t.left-e.left}function g(){if(de=w(),Be){var e=y();if(!e)return void g()}ke=mtjQuery(document.createElement("div"));var t=Vo(be,"tooltip","");t=yd(t,["&",'"',"'",">","<"]),ke.attr("title",t),ke.addClass("walkme-custom-launcher-outer-div"),ke.addClass("walkme-text-launcher"),ke.addClass(Pe);var n="walkme-launcher-id-"+Ne;ke.addClass(n),ke.css("display","none"),Te.getUiUtils().setLangAttribute(ke),de.append(ke[0].outerHTML),ke=de.find("."+n),ke.html(Se),Me&&H.addTabIndex(ke);var r=J();Y(r),h()}function h(){Ae?v():m()}function m(){ie=ke.find(".walkme-launcher-image-div"),_(xe,Ee.width,Ee.height),A(Ee.width,Ee.height),ie.css("background-repeat","no-repeat"),T()}function v(){}function y(){try{Ie=mtjQuery(de[0].ownerDocument.createElement("div")),Ie.css("position","relative"),Ie.css("float",ne()),Ie.css("display","-moz-inline-stack"),Ie.css("display","inline-block"),Ie.css("zoom","1"),Ie.css("*display","inline"),Ie.addClass("walkme-launcher-container"),Ie.addClass("walkme-launcher-container-id-"+Ne);var e=mtjQuery(de),t=e.offset();return e.append(Ie),Ie.html("a"),Ie.is(":mt_hidden")&&!We?(wo("Launcher ["+Ne+"] invisible - Fallback to embed in parent",3),Ie.remove(),Ie=void 0,We=!0,!1):(Ie.html(""),p(t,Ie.offset()),de=Ie,!0)}catch(n){return Ie&&(Ie.remove(),Ie=void 0),We=!0,wo("Error while building launcher embed in container ["+Ne+"]. trying again.  ex:"+n,5),!1}}function w(){var e;return e=Be?b(ve)?ve:ve.parent():ye?$o(ve):$o(null,!0),hc("jsp")&&!we&&(e=zo(ve,e)),e}function b(e){if(We)return!1;var t=e.css("overflow");if(t&&V()&&("auto"===t||"scroll"===t||"hidden"===t))return!1;var n=e.prop("tagName");switch(n){case"A":case"INPUT":case"BUTTON":case"IFRAME":return!1;default:return!0}return!0}function T(){_e&&c(_e,k),De&&c(De,I)}function k(e){oe=e,ie.hover(function(){x(_e,oe.width,oe.height,!0)},function(){x(xe,Ee.width,Ee.height)})}function I(e){ae=e,ie.mouseup(function(){var e=C();x(e.url,e.width,e.height)}).mousedown(function(){x(De,e.width,e.height)})}function C(){var e,t,n;return _e?(e=_e,t=oe.width,n=oe.height):(e=xe,t=Ee.width,n=Ee.height),{url:e,width:t,height:n}}function x(e,t,n,r){ue&&ie.stop(),_(e),D(t,n),A(t,n,r)}function _(e,t,n){ie.css("background-image",'url("'+e+'")'),ke.css("top",se.top+"px"),ke.css("left",se.left+"px")}function D(e,t){var n=E(e,t);ke.css("top",se.top+n.top+"px"),ke.css("left",se.left+n.left+"px")}function E(e,t){var n=parseInt(Vo(be,"direction",Ve.BottomRight)),r={top:0,left:0};switch(ue&&(n=Ve.Right),n){case Ve.Top:r.top+=Ee.height-t,r.left+=Ee.width/2-e/2;break;case Ve.Right:r.top+=Ee.height/2-t/2;break;case Ve.Bottom:r.left+=Ee.width/2-e/2;break;case Ve.Left:r.top+=Ee.height/2-t/2,r.left+=Ee.width-e;break;case Ve.TopLeft:r.top+=Ee.height-t,r.left+=Ee.width-e;break;case Ve.TopRight:r.top+=Ee.height-t;break;case Ve.BottomRight:break;case Ve.BottomLeft:r.left+=Ee.width-e;break;case Ve.Center:r.top+=Ee.height/2-t/2,r.left+=Ee.width/2-e/2}return r}function A(e,t,n){ie.css("height",t+"px"),n&&ue?ie.animate({width:e+"px"}):ie.css("width",e+"px")}function P(){ke.css("top",se.top+"px"),ke.css("left",se.left+"px");var e=Vo(be,"z-index","2147483627");Bc(ke,e),ke.css("display","inline")}function N(e,t){Te.userSawWalkMe(),Ee=e,Se||(Se=W()),f();var n=Be?je.getEmbedInElementPosition(ve,be):je.getElementBounds(ve,ye,window,be);se=Q(n),g(),L(),P(),q();var r={image:xe,hover:_e,click:De};Il("LauncherIsShown",{launcherId:re.getId()}),Cl("LauncherIsShown",re,{imagePaths:r,customText:Ae,name:Re}),t&&t(de)}function R(){var e=je.getElementBounds(ve,ye,window,be);se=Q(e);var t=J();Y(t),L(),P(),f()}function j(){if(!Be)return!0;if(!ve)return!1;for(var e=!0,t=ve.data("iframe");t&&e;)e=e&&t&&t.parents("html").length>0,t=t.data("iframe");return e}function M(){return ke.parents("html").length>0}function L(){Be?O():hc("jsp")&&de.hasClass("jspPane")&&(se.top=se.top-de.offset().top,se.left=se.left-de.offset().left)}function O(){var e=ve.offsetParent();if(e.length>0){var t="BODY"==e.prop("tagName");t?G(e):B(e)}}function G(e){"static"!=e.css("position")?B(e):Be&&!b(ve)&&F()}function F(){var e=ve.offset(),t=ve.parent().offset();se.top+=e.top-t.top,se.left+=e.left-t.left}function B(e){if(Be)return void(b(ve)||F());var t=e.offset();se.top-=t.top,se.left-=t.left}function W(){var e;return e=Ae?"<div class='walkme-launcher-image-div'>"+Ae+"</div>":"<div class='walkme-launcher-image-div'></div>"}function Q(e){var t=V()?$(e):z(e);return t}function V(){var e=Vo(be,"context",He.Outside);return e==He.Outside}function $(e){var t,n,r=$e+1,i=S.getCenterPositionByBounds(e);switch(Ce){case Ve.Top:n=i.left-Ee.width/2,t=e.top-Ee.height-r;break;case Ve.Right:t=i.top-Ee.height/2,n=e.right+r;break;case Ve.Bottom:t=e.bottom+r,n=i.left-Ee.width/2;break;case Ve.Left:t=i.top-Ee.height/2,n=e.left-Ee.width-r;break;case Ve.TopLeft:n=e.left-Ee.width-r,t=e.top-Ee.height-r;break;case Ve.TopRight:n=e.right+r,t=e.top-Ee.height-r;break;case Ve.BottomRight:n=e.right+r,t=e.bottom+r;break;case Ve.BottomLeft:n=e.left-Ee.width-r,t=e.bottom+r}return{top:t,left:n}}function z(e){var t,n,r=S.getCenterPositionByBounds(e);switch(Ce){case Ve.Top:t=e.top,n=r.left-Ee.width/2;break;case Ve.Right:t=r.top-Ee.height/2,n=e.right-Ee.width;break;case Ve.Bottom:t=e.bottom-Ee.height,n=r.left-Ee.width/2;break;case Ve.Left:t=r.top-Ee.height/2,n=e.left;break;case Ve.TopLeft:t=e.top,n=e.left;break;case Ve.TopRight:t=e.top,n=e.right-Ee.width;break;case Ve.BottomRight:t=e.bottom-Ee.height,n=e.right-Ee.width;break;case Ve.BottomLeft:t=e.bottom-Ee.height,n=e.left;break;case Ve.Center:t=r.top-Ee.height/2,n=r.left-Ee.width/2}return{top:t,left:n}}function q(){Me?(ke.css("cursor","pointer"),Be&&ke.hover(function(e){e.stopPropagation()}),ke.click(function(e){var t=(new Date).getTime(),n=t-he;return null!=he&&me>=n?void wo("Launcher ["+Ne+"] click was ignored - it was already activated "+n+" ms ago",3):(he=t,Be&&e.stopPropagation(),wmjQuery(this).blur(),_makeTutorial.getLauncherAction(Ne).doAction(),void le.SendClickAudit(Ds.Launcher,Ne))})):Be&&(ke.click(function(e){e.stopPropagation()}),ke.hover(function(e){e.stopPropagation()}))}function K(){var e=J();X(e)&&R(),Y(e)}function X(e){return Ge!=e.top||Ue!=e.left||Le!=e.height||Oe!=e.width}function Y(e){Ge=e.top,Ue=e.left,Le=e.height,Oe=e.width}function J(){var e,t,n=!1;if(ye){var r=ve.offset();e=Math.floor(r.top),t=Math.floor(r.left)}else{var i=je.getPosRelativeToWindow(ve[0],window,!0);e=i.top,t=i.left;var n=Z()}var o=ve.height(),a=ve.width();return{top:e,left:t,height:o,width:a,elementIsScrolledOut:n}}function Z(){var e=ve.data("iframe");return e&&je.isElementScrolledOut(ve,e,Ce)}function ee(){var e=je.isElementVisible(ve);e&&re.evaluator&&te()&&(e=re.evaluator.getValue()),e?(Be||K(),ce=ge.libSetTimeout(ee,800)):(re.actionInProgress=!0,re.destroy(function(){re.actionInProgress=!1}))}function te(){var e=H.isTrue(be,ze,!1);

return e}function ne(){var e="left";switch(Ce){case Ve.Right:case Ve.TopRight:case Ve.BottomRight:e="right"}return e}var re=this;re.LocalSVNRevision="$Rev: 5299 $",re.evaluator=null;var ie,oe,ae,se,ue,le,ce,de,fe,pe,ge,he,me,ve=null,ye=!1,we=!1,be=null,Se=null,Te=null,ke=null,Ie=null,Ce=null,xe=null,_e=null,De=null,Ee=null,Ae=null,Pe="",Ne=null,Re=null,je=null,Me=!1,Le=null,Oe=null,Ge=null,Ue=null,Fe=null,Be=!1,We=!1,Qe={type:"shape",data:{shape:"round-question-mark",color:"blue"}},Ve={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8},He={Outside:0,Inside:1},$e=0,ze="condHide";this.getId=function(){return Ne},this.show=function(e){Ae?d(function(t){N(t,e)}):c(xe,function(t){N(t,e)})},this.updateOffset=function(e,t){se.top+=e,se.left+=t},this.destroy=function(e){try{ce&&ce.clear(),fo(Ie||ke,function(){fe.unhighlightElement(),e&&e()})}catch(t){e&&e()}},this.isDrawn=function(){try{return M()&&j()}catch(e){return!1}},this.setTimeoutOn=function(e){e=e?e:800,ce=ge.libSetTimeout(ee,e)},re.recalculateOrDestory=function(){re.evaluator&&!re.evaluator.getValue()&&(re.actionInProgress=!0,re.destroy(function(){re.actionInProgress=!1}))},e.apply(null,arguments)}function ne(e,t,n,r,i,o,a,s,u,c){function d(){S=n.getPermutation,T=e.getEndUserGuid,y=r.wrapCustomerLog(da)}function f(e,t){v(e,t)}function p(e,t,n){if(ko()||!Au)return!0;var r=Au+"/Analytics/BalloonShown",o={tutorialId:e.TutorialId,stepId:e.Id,stepIndex:e.StepIndex+1,stepStatus:n,permutationId:S(),endUserGuid:T(),datetime:c.getDateAtUTC(),playGuid:b._currentPlayGUID,playInitiator:b._currentPlayInitiator?b._currentPlayInitiator.type:0,playInitiatorObj:b._currentPlayInitiator?b._currentPlayInitiator.objectId:-1,source:u.get(),customFieldsSerialized:c.toJSON(ac),browser:i.browser.string,os:i.os.name,domain:window.location.host};hl.execute({url:r,data:o})}function g(e,t){if(e!=a.stepAction.SkippedByActionStep){var n=e==a.stepAction.SkippedStartedFromBiggerStep?"NewSkippedStep":"CheckNewStep";Cl(n,t)}}function h(t,n,r,i,o,a){(void 0==b._currentPlayGUID||0==b._currentPlayGUID.length)&&(b._currentPlayGUID=e.generateNewPlayGuid(t));var s={};return s.tutorialID=t,s.stepId=n,s.stepIndex=r,s.totalSteps=o,s.playGuid=b._currentPlayGUID,s.TicksSince1970=c.getDateAtUTC(),s.StepStatus=i,m(s),ar(a,!1)&&(s.isFirstStepError=!0),s}function m(e){return b._currentPlayInitiator&&b._currentPlayInitiator.type!=bs.NONE?(e.playInitiator=b._currentPlayInitiator.type,void(void 0!=b._currentPlayInitiator.objectId&&b._currentPlayInitiator.objectId>-1&&(e.initObjId=b._currentPlayInitiator.objectId))):void(e.playInitiator=bs.NONE)}function v(e,t){var n=[];if(e.length<=0)return n;for(var r=0;r<e.length;r++)e[r].stepIndex==t.stepIndex&&e[r].playGuid==t.playGuid&&(n.push(e.splice(r,1)[0]),r--);return n}this.LocalSVNRevision="$Rev: 4799 $",this._currentPlayGUID="",this._currentPlayInitiator=null;var y,w,b=this,S=null,T=null;b.init=function(){w=t.register("sa",{beforeSendingManipulationFunc:f,actionUrl:"/Statistics/AddStepsLogs",prefixForStorage:"sa",sendingThreshold:5,dataType:"step audit",dataIdFieldName:"Id",requestParamsFunc:function(e){return{stepActionsSerialized:c.toJSON(e),source:u.get(),customFieldsSerialized:c.toJSON(ac),browser:i.browser.string,os:i.os.name,domain:window.location.host,permutationId:S(),endUserGuid:T()}}})},this.safeStartAudit=function(e,t){if(ko())return y("Audit steps manager - Auditing is disabled, doing nothing",3),!0;try{var n=h(t.Id,-1,-1,a.stepAction.SupposedToShow,t.Steps.length,!1);n.SafeStartAction=e,w.sendData(n)}catch(i){r.error(i)}},this.auditStep=function(e,t,n,i){try{t!=a.stepAction.Shown||s.isActionStep(e)||p(e,n,t)}catch(o){}if(g(t,e),ko())return y("Audit steps manager - Auditing is disabled, doing nothing",3),!0;if(e.TutorialId<0)return void y(l("Audit steps manager - Step with id {0} has negative tutorial id ({1})",e.Id,e.TutorialId),3);try{var u=h(e.TutorialId,e.Id,e.StepIndex+1,t,n,i);w.sendData(u)}catch(o){r.error(o)}},b.removeAllStepAuditsLogs=function(){w.clearAndStopSavingData()},d.apply(null,arguments)}function re(e,t,n,r,i){function o(){}function a(e){if(e){var r,o=e.Method,a=e.Parameters;switch(o){case"var":a.VarName&&(r=gn(_s.Var,a.VarName),u(r)&&(t.customerLog("endUserGuid - invalid variable name",1,v),r=void 0));break;case"salesforce":r=s();break;case"cookie":a.VarName&&(r=gn(_s.Cookie,a.VarName));break;case"jquery":a.VarName&&(r=n.getjQueryElementText(a.VarName));break;case"walkme":case"none":r=c(),r||(r=i(),t.customerLog("endUserGuid wasn't found in storage. was generated and stored in storage "+r,3,v))}return r?l(r):(r=c(),r||(r=i(),t.customerLog("getEndUserGuid: Forced generating new user guid-"+r,3,v),l(r,!0))),r}}function s(){return window.walkme_sf_vars?window.walkme_sf_vars.userId:void 0}function u(e){return e&&e.nodeType}function l(t,n){e.saveData(h,t,La),n?(p=!0,e.saveData(m,1,La)):(p=!1,e.removeData(m))}function c(){return p=e.getData(m),e.getData(h)}this.LocalSVNRevision="$Rev: 4933 $";var d,f,p,g=this,h="wm-ueug",m="wm-fgug",v="endUser";this.setEndUserSettings=function(e){d=e},this.getEndUserSettings=function(){return d},this.isRealEndUserType=function(){var e=!1;return d&&g.getEndUserGuid()&&(e=!0),e},g.getEndUserGuid=function(e){if(f&&(!e||!p))return f;var n=a(d);return!n||(f=n,t.customerLog("getEndUserGuid: retrieved endUserGuid-"+n,3,v),e&&p)?(t.customerLog("Could not retrieve endUserGuid",3,v),!1):f},o.apply(null,arguments)}function ie(e,t,n,r,o,a,s,l){function c(){S=o.getPermutation}function d(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationName:void 0}function f(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationId:void 0}function p(){return window.walkme_sf_vars?window.walkme_sf_vars.roleId:void 0}function g(){if(window.walkme_sf_vars){var e=u(window.walkme_sf_vars);return delete e.organizationName,delete e.organizationId,delete e.userId,e}}function h(){return window.walkme_sf_vars&&window.walkme_sf_vars.walkme_error?!0:!1}function m(){return _+n.getEndUserGuid()}function v(){var e=window.walkme_sf_vars,n="walkme_sf_error:"+i(e);t.customerLog(n,1,x)}function y(){return void 0===T&&(T=r.get().EndUserSettings&&r.get().EndUserSettings.logWalkMeVisible),T}function w(t,n){e.saveData(m(),n,60*t)}function b(){return e.getData(m())}this.LocalSVNRevision="$Rev: 5245 $";var S,T,k,I=this,C=1e4,x="endUser",_="wm-euaf";I.reportEndUser=function(e,o){if(!k){var u=r.get().EndUserSettings?r.get().EndUserSettings.auditFreq:null,c=y();if(c&&!u&&(u=1440),u&&(!c||o)){var m=b();if(m)return void(k=!0);if(0===m)return t.customerLog("Loading WalkMe Failed due to ISV Limitations",1),void(e&&e());if(h())return void v();var T={permutationId:S(),endUserGuid:n.getEndUserGuid(),domain:window.location.host,source:Co(),browser:l.browser.string,os:l.os.name,userGuid:a.getUserGuid(),organizationName:d(),organizationId:f(),roleId:p(),extraData:g()},I="Logging WalkMe EndUser ("+n.getEndUserGuid()+"). Caused by WalkMe Visible : "+!!o;t.customerLog(I,1,x);var _=i(T);k=!0;{hl.execute({dataType:"jsonp",url:s.get()+"/EndUser/AddEndUserData",data:{endUsersDataSerialized:_},timeout:C,success:function(t){"true"==t?w(u,1):"false"==t&&(w(u,0),e&&e())}})}}}},c.apply(null,arguments)}function oe(){function e(e,t,n){for(var r=Array(),i=n,o=e.indexOf(t);o>-1;){if("("!=e.charAt(o+t.length))throw"Ilegal function definition in expression";for(var a=o+t.length+1,s=Array(),u=a;(")"!=e.charAt(u)||0!=s.length)&&u<e.length;){if("'"==e.charAt(u)||'"'==e.charAt(u))if(0==s.length)s.push(e.charAt(u));else{var l=s.pop();l!=e.charAt(u)&&(s.push(l),s.push(e.charAt(u)))}u++}if(")"!=e.charAt(u))throw"Ilegal function definition in expression";r[i]=e.substring(o,u+1),e=e.substring(0,o)+"["+i+"]"+e.substr(u+1),i++,o=e.indexOf(t)}return[r,e]}function t(e){if(void 0==e||e.length<=0)throw"Ilegal function definition";for(var t=e.substr(0,e.indexOf("(")),n=e.substring(e.indexOf("(")+1,e.length-1).split(","),r=0;r<n.length;r++)n[r]=n[r].replace(/^\s+|\s+$/g,""),("'"==n[r].charAt(0)&&"'"==n[r].charAt(n[r].length-1)||'"'==n[r].charAt(0)&&'"'==n[r].charAt(n[r].length-1))&&(n[r]=n[r].substring(1,n[r].length-1));return function(){return a.supportedFunctions[t].apply(this,n)}}function n(e,t){return void 0==t&&(t=1),mtjQuery(e).length>=t}function r(e,t){return mtjQuery(e).text()==t}function i(e){return jc(e)}function o(e){e=parseInt(e);for(var t=0;t<uc.length;t++)if(uc[t].Idx==e)return!0;return!1}this.LocalSVNRevision="$Rev: 4006 $";var a=this;this.supportedFunctions={isExistJQ:n,isTextValueJQ:r,isLocationMatch:i,isStepPlayed:o};var s=new is;this.setExpression=function(n){if(void 0==n||n.length<=0)throw"Ilegal Expression";var r=0;for(var i in this.supportedFunctions)if(this.supportedFunctions.hasOwnProperty(i)){var o=e(n,i,r);n=o[1];for(var a=r;a<o[0].length;a++){var u=t(o[0][a]);s.setFunction(u,r++)}}s.setExpression(n)},this.evaluate=function(){if(void 0!=s)return s.evaluate();throw"Evaluator is undefined"}}function ae(){function e(){return ua.get("TimerManager")}function t(e,t,i,o){Y=e,q=new se,te=ua.get("CookiesStorageManager"),sessionCookiesStorage=new C,K=[],$=r(t,i),z=o.isLocalStorageEnabled(),wo("Storage mode: "+$+", ["+(i?"from db/feature":"auto detected")+"]",3),X._origin=a(Pu)?n()+Pu:Pu,X._path="/player/resources/CD/CDhiddenIframe_v19.html",X._saveCookiePath="/player/resources/CD/saveCookie.html"}function n(){var e=window.location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t}function r(e,t){return e&&"Safari"==Us.browser.name?Ea.Cookies:t?t:e&&Us.isIEBrowser(10,"gte")?Ea.IndexedDB:Ea.LocalStorage}function a(e){var t=0===e.indexOf("/");return t}function s(e){for(var t=0;t<oe.length;t++)oe[t].push(e)}function u(e,t){T(e,t),q.removeData(e,t),s(e)}function l(e,t){sessionCookiesStorage.removeData(e,t)}function c(e,t){var n=X.getData(e,t)||{};return n&&"string"==typeof n&&(n=o(n)||{}),n}function d(e,t,n,r){var i={requestType:"add",userGuid:r,key:e,keyValues:t,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:n}};x(i)}function f(e,t,n,r){var i={requestType:"remove",userGuid:r,key:e,keysToRemove:t,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:n}};x(i)}function p(e,t){x(g(e,t))}function g(e,t){var n=h();return e.actionId=n,ae[n]=t,e}function h(){return ue+=1,ue>1e3&&(ue=1),ue}function m(e){if(e&&ae[e.actionId]){var t=ae[e.actionId];delete ae[e.actionId],t(e.value)}}function v(){return window.postMessage&&z}function y(){var e=document.getElementById(ne);return e}function w(e,t){var n=document.createElement("iframe");n.id=ne,n.className="walkme-to-remove",n.style.cssText="display:none;";var r=$o(null,!0)[0];return r.appendChild(n),window.addEventListener?(n.addEventListener("load",t,!1),window.addEventListener("message",function(e){W(e)},!1)):n.attachEvent&&(n.attachEvent("onload",t,!1),window.attachEvent("onmessage",function(e){W(e)})),n.src=X._origin+X._path,n}function b(e,t,n,r){return{requestType:"set",userGuid:r,key:e,saveObj:{value:t,saveTime:(new Date).getTime(),expireSeconds:n}}}function S(e,t,n,r){var i=b(e,t,n,r);x(i)}function T(e,t){x({requestType:"delete",userGuid:t,key:e})}function k(e){var t=oe.shift();if(e)for(var n in e){var r=e[n];if(r&&r.length&&r.length>0&&void 0!=r[0].saveObj)for(var i=0;i<r.length;i++){var o=r[i].key;if(-1==wmjQuery.inArray(o,t)){var a=r[i].saveObj,s=I(a);s>0?q.saveData(o,a.value,s/1e3,n):X.removeData(o,n)}}}}function I(e){var t=(new Date).getTime(),n=e.saveTime+1e3*e.expireSeconds-t;return n}function x(e){X._iframeReady&&X.isInitialized()&&Z!==!1&&_(e)}function _(e){X._iframe.contentWindow.postMessage(i(e),"*")}function D(e){oe.push([]);var t={requestType:"getAllMultiple",usersToLoad:e};x(t)}function E(){var e={requestType:"checkCanSave",saveMode:$,userGuids:Y};x(e)}function A(){mtjQuery.browser.msie&&window.opener?(P(),e().libSetTimeout(R,3e3)):R()}function P(){X._iframeReady||(N(),e().libSetTimeout(P,100))}function N(){_({requestType:"get",key:re,userGuids:Y,saveMode:$})}function R(){X._iframeReady||(X._iframeReady=!0,j(),E())}function j(){G(),J=e().libSetTimeout(M,ie)}function M(){wo("storage failed loading, removing walkme",3),G(),Z=!1,_({requestType:"terminate"}),_makeTutorial.removeWalkMe("storageFailedLoading")}function L(){window.open(X._origin+X._saveCookiePath,"_blank"),ce=!0,window.focus(),mtjQuery(document).unbind("click.wmpopup"),O()}function O(t){t=t||0,t>10?M():Z!==!0&&(t++,E(),e().libSetTimeout(function(){O(t)},200))}function G(){J&&(J.clear(),J=null)}function U(t){G(),t.canSave||ce?t.canSave&&(clearTimeout(le),B(),j(),D(Y)):"cookies"==$?(void 0===le&&F(),le=e().libSetTimeout(E,500)):M()}function F(){var e=parseInt(te.getData(de)||0);3>e?(e++,te.saveData(de,e.toString(),fe),mtjQuery(document).bind("click.wmpopup",L)):M()}function B(){mtjQuery(document).unbind("click.wmpopup")}function W(e){if(X._origin.indexOf(e.origin)>-1){var t=o(e.data);if("checkCanSave"==t.key)U(t);else if("getAllMultiple"==t.key){if(Z=!0,G(),k(t.allValues),te.removeData(de),te.removeData(gs),ee){var n=ee;ee=null,n()}H()}else void 0!==t.actionId?m(t):"get"==t.key&&(I(t.saveObj)>0?Q(t.dataKey,t.saveObj.value):X.removeData(t.dataKey,userGuid))}}function Q(e,t){e==re&&t&&R()}function V(e){e&&K.push(e)}function H(){if(K.length>0){var e=K.shift();e&&e()}}this.LocalSVNRevision="$Rev: 5251 $";var $,z,q=null,K=null,X=this;X._iframe=null,X._iframeReady=!1,X._origin=null,X._path=null;var Y,J,Z,ee=function(){},te=null,ne="walkme-hidden-iframe",re="wm-sync",ie=15e3,oe=[];X.refreshGetData=function(e,t){V(t),Z===!0?D(e):H()},X.saveData=function(e,t,n,r){n>0?(l(e,r),S(e,t,n,r),q.saveData(e,t,n,r),s(e)):(u(e,r),sessionCookiesStorage.saveData(e,t,n))},X.getData=function(e,t){var n=q.getData(e,t);return void 0===n&&(n=sessionCookiesStorage.getData(e,t)),n},X.removeData=function(e,t){u(e,t),l(e,t)},X.increment=function(e,t,n,r,i){p({requestType:"increment",userGuid:r,key:e,ttl:n,lastValue:t},i)},X.setSyncFlag=function(e){var t=b(re,1,10,e);_(t)},X.addToDictionary=function(e,t,n,r,o){var a=c(e,o);if(a[t]=n,a=i(a),r>0){var s={};s[t]=n,d(e,s,r,o),q.saveData(e,a,r,o)}else sessionCookiesStorage.saveData(e,a,r)},X.removeFromDictionary=function(e,t,n,r){var o=c(e,r);if(delete o[t],o=i(o),n>0){var a=[t];f(e,a,n,r),q.saveData(e,o,n,r)}else sessionCookiesStorage.saveData(e,o,n)},X.getInternalKeys=function(e,t){var n=sessionCookiesStorage.getInternalKeys(e,t),r=q.getInternalKeys(e,t);return wmjQuery.extend(n,r)},this.sessionSetData=function(e,t,n){var r={requestType:"setSession",userGuid:n,key:e,value:t};x(r)};var ae={};this.sessionGetData=function(e,t,n,r){p({requestType:"getSession",userGuid:n,key:e,defaultValue:t},r)};var ue=0;this.init=function(e){return X._iframeReady=!1,ee=e,v()?(X._iframe=y(Y),void(X._iframe?A():X._iframe=w(Y,function(){A()}))):(wo("Cannot run cross-domain Walk-Thrus on this browser. Removing WalkMe."),!1)},this.removeAllData=function(e){var t=q.getStorageInternal(),n=t[e];if(n)for(var r in n)X.removeData(r,e)};var le,ce=!1,de="wm-popup",fe=31536e4;X.isInitialized=function(){return X._iframe&&X._iframe.contentWindow},t.apply(null,arguments)}function se(){function e(){r={}}function t(e){return void 0===r[e]&&(r[e]={}),r[e]}this.LocalSVNRevision="$Rev: 5017 $";var n=this,r=null;this.saveData=function(e,n,r,i){var o={};o.value=n,o.saveTime=(new Date).getTime(),o.expiresSeconds=r;var a=t(i);a[e]=o},this.getData=function(e,r){var i=t(r),o=i[e];if(o){var a=(new Date).getTime(),s=o.saveTime+1e3*o.expiresSeconds-a;if(0==o.expiresSeconds||s>0)return o.value;n.removeData(e,r)}return void 0},this.removeData=function(e,n){var r=t(n);delete r[e]},this.getInternalKeys=function(e,r){var i={},o=t(e);return wmjQuery.safeEach(o,function(t,o){0===wmjQuery.trim(t).toLowerCase().indexOf(r)&&(i[t]=n.getData(t,e))}),i},e.apply(null,arguments)}function ue(){function e(e,t,n,r,i){a=e,l.dataManager=t,c=n,s=r,u=i}function t(){return l.dataManager.isInitialized?l.dataManager.isInitialized():d}function n(e){return u.defaultValue(e,c)}function r(e){wmjQuery.safeEach(e,function(t,n){void 0!==n&&""!==n&&(n=o(n)),e[t]=n})}this.LocalSVNRevision="$Rev: 5192 $";var a,s,u,l=this,c=null,d=!1;this.getStorageType=function(){return a},this.init=function(e){return e=e||function(){},t()?void e():(d=!0,l.dataManager.init?l.dataManager.init(e):void e())},this.refreshGetData=function(e,t){e=e&&e.length>0?e:[n()],l.dataManager.refreshGetData?l.dataManager.refreshGetData(e,t):t&&t()},this.saveData=function(e,t,r,o){if(e=mtjQuery.trim(e),o=n(o),void 0===t)return void l.removeData(e,o);if(void 0==r){var a="storageManager: trying to save key in storage manager without expiration, key: "+e+", value: "+t+", userGUID: "+o;s.customerLog(a,3)}l.dataManager.saveData(e,i(t),r,o)},this.getData=function(e,t,r){e=mtjQuery.trim(e),r=n(r);var i=l.dataManager.getData(e,r);return void 0===i||""===i?t:o(i)},this.addToDictionary=function(e,t,r,i,o){if(e=mtjQuery.trim(e),o=n(o),l.dataManager.addToDictionary)l.dataManager.addToDictionary(e,t,r,i,o);else{var a=l.getData(e,o);(null===a||"object"!=typeof a)&&(a={}),a[t]=r,l.saveData(e,a,i,o)}},this.removeFromDictionary=function(e,t,r,i){if(e=mtjQuery.trim(e),i=n(i),l.dataManager.removeFromDictionary)l.dataManager.removeFromDictionary(e,t,r,i);else{var o=l.getData(e,i);o&&void 0!==o[t]&&(delete o[t],l.saveData(e,o,r,i))}},this.removeData=function(e,t){e=mtjQuery.trim(e),t=n(t),l.dataManager.removeData(e,t)},this.addToQueue=function(e,t,r,i,o){e=mtjQuery.trim(e),o=n(o);var a=l.getData(e,[],o);a||(a=[]),a.push(t),a.splice(0,a.length-r),l.saveData(e,a,i,o)},l.convertOldCookieStorage=function(e){var t=ua.get("CookiesManager"),n=t.getCookie(e),r='"#!@DeL@!#"';if(n&&n!=r&&0!==n.indexOf('"')){l.saveData(e,n,La);var i=Ns.getStorageType();i&&i!=zs.Cookie&&t.setCookie(e,r,-1)}},l.increment=function(e,t,r,i,o){if(e=mtjQuery.trim(e),i=n(i),l.dataManager.increment)l.dataManager.increment(e,t,r,i,o);else{var a=l.getData(e,0,i);t!==a&&(a++,l.saveData(e,a,r,i)),o&&o(a)}},l.getInternalKeys=function(e,t){t&&""!==t||(t="wm-");var i=l.dataManager.getInternalKeys(n(e),t);return r(i),i},this.removeAllData=function(e){l.dataManager.removeAllData(n(e))},l.sessionSetData=function(e,t,n){e=mtjQuery.trim(e),l.dataManager.sessionSetData?l.dataManager.sessionSetData(e,t,n):window.sessionStorage[n+e]=t},l.sessionGetData=function(e,t,n,r){e=mtjQuery.trim(e),l.dataManager.sessionGetData?l.dataManager.sessionGetData(e,t,n,r):r&&r(window.sessionStorage[n+e]||t)},l.setSyncFlag=function(e){l.dataManager.setSyncFlag&&l.dataManager.setSyncFlag(e)},l.isEnabled=function(){return l.dataManager.isEnabled()},e.apply(null,arguments)}function le(e,t){function n(){var n=t.getEndUserGuid();n&&(S=!0,w=p+n,b=g+n),m=e.dataManager.savePerUser||r,v=e.dataManager.getPerUser||a,y=e.dataManager.removePerUser||s}function r(t,n,r,a){if(t=mtjQuery.trim(t),!S)return void e.saveData(t,n,r,a);var s=0===r,u=i(a,s);u[t]=l(n,r),o(u,a,s)}function i(t,n){return n?e.getData(b,{},t):e.getData(w,{},t)}function o(t,n,r){r?e.saveData(b,t,0,n):e.saveData(w,t,La,n)}function a(t,n,r){var a,s=i(r,!1),u=s[t];return u?c(u)?(delete s[t],o(s,r,!1),n):d(u,n):(s=i(r,!0),a=s[t],void 0!==a?a:e.getData(t,n,r))}function s(e,t){u(e,t,!0),u(e,t,!1)}function u(e,t,n){var r=i(t,n);delete r[e],o(r,t,n)}function l(e,t){return 0===t?e:{v:e,e:f()+1e3*t}}function c(e){return e&&e.e<f()?!0:void 0}function d(e,t){return e&&void 0!==e.v?e.v:t}function f(){return(new Date).getTime()}var p="wm-eus-",g="wm-euss-",h=this;h.LocalSVNRevision="$Rev: 5082 $";var m,v,y,w,b,S;h.saveData=function(e,t,n,r){m(e,t,n,r)},h.getData=function(e,t,n){return v(e,t,n)},h.removeData=function(e,t){y(e,t)},h.refreshGetData=e.refreshGetData,n.apply(null,arguments)}function ce(){function e(e,t){n=t,r=e}var t=this;t.LocalSVNRevision="$Rev: 5047 $";var n,r;t.saveToStorage=function(e,t,i){r.saveData(e+n,t,i)},t.getFromStorage=function(e,t){return r.getData(e+n,t)},t.removeFromStorage=function(e){return r.removeData(e+n)},t.refreshGetData=function(e,t){return r.refreshGetData(e,t)},e.apply(null,arguments)}function de(e,t,n,r){function i(){l=e,c=t,d=n,f=r}function o(e,t,n){m[e]||(m[e]={success:[],fail:[]}),t&&m[e].success.push(t),n&&m[e].fail.push(n)}function a(e,t){for(var n=t?m[e].success:m[e].fail,r=[].splice.call(arguments,2,arguments.length-2),i=0;i<n.length;i++)try{h.apply(this,[n[i]].concat(r))}catch(o){}m[e]=void 0}function s(e){return!!m[e]}this.LocalSVNRevision="$Rev: 4367 $";var u,l,c,d,f,p=this,g=ua.get("TimerManager"),h=function(e){if(e){var t=arguments;g.libSetTimeout(function(){e.apply(this,Array.prototype.slice.call(t,1))},0)}},m={};this.loadServerData=function(e,t,n,r,i,u){var l=s(n);o(n,r,i),l||hl.execute({url:e,data:t,traditional:u,success:function(e,t,r){e.ErrorMessage?a(n,!1,e.ErrorMessage):(p.updateLocalData(n,e),a(n,!0,e))},error:function(e,t,r){a(n,!1,t)}})},this.retrieveData=function(e,t,n,r,i,o){if(void 0!==u)return void(r&&r(u));var a=l.getData(n,null);if(a){var t=f?f(a):a;r&&r(t)}else p.loadServerData(e,t,n,r,i,o)},this.retrieveLocalData=function(e){if(void 0!==u)return u;var t=l.getData(e,null);return f&&t?f(t):t},this.updateLocalData=function(e,t){u=t;var n=d&&t?d(t):t;l.saveData(e,n,c)},this.updateRemoteData=function(e,t,n,r){hl.execute({url:e,data:t,success:function(e,t,i){e.ErrorMessage?h(r,e.ErrorMessage):h(n)},error:function(e,t,n){h(r,t)}})},i.apply(null,arguments)}function fe(e,t,n,r,o,a,s,u){function l(){v=e,y=new de(t,_,f,p),w=r,b=o,S=a,T=s,k=u,C=n}function c(e){return"wm_ct_"+w+"_"+e}function d(e,t){return{userGuid:w,endUserId:e,taskGoalsIds:i(t),source:k()}}function f(e){var t=[];return mtjQuery.each(e,function(e,n){if(n.TaskId){var r=mtjQuery.extend(!0,{},n);g(r,"TaskId","t"),g(r,"IsCompleted","c"),g(r,"CompletedGoals","g"),t.push(r)}}),t}function p(e){var t={};return mtjQuery.each(e,function(e,n){if(n.t){var r=mtjQuery.extend(!0,{},n);g(r,"t","TaskId"),g(r,"c","IsCompleted"),g(r,"g","CompletedGoals"),t[r.TaskId]=r}}),t}function g(e,t,n){e.hasOwnProperty(t)&&(e[n]=e[t],delete e[t])}function m(e,t){if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--)e[n].taskId==t.taskId&&e[n].goalId==t.goalId&&e[n].permutationId==t.permutationId&&e[n].source==t.source&&e[n].endUserGuid==t.endUserGuid&&e.splice(n,1)}this.LocalSVNRevision="$Rev: 4243 $";var v,y,w,b,S,T,k,I,C,x=this,_=3600,D="/ToDoList/UserCompletedTasksByIdsAndGoalsIds",E="/ToDoList/UpdateUserTasksCompleted";x.init=function(){I=C.register("tg",{beforeSendingManipulationFunc:m,actionUrl:E,prefixForStorage:"tg",sendingThreshold:1,dataType:"task goal",dataIdFieldName:"Id",requestParamsFunc:function(e){return{userCompletedTasksSerialized:i(e),userGuid:w}}})},this.asyncRetrieveCompletedTasks=function(e,t,n,r){y.retrieveData(v+D,d(e,t),c(e),n,r,!0)},this.syncRetrieveCompletedTasks=function(e,t){var n=y.retrieveLocalData(c(e));return n?n:(y.loadServerData(v+D,d(e,t),c(e),null,null,!0),null)},this.updateTaskCompleted=function(e,t,n,r,i){var o=c(e);y.updateLocalData(o,r);var a={endUserId:e,taskId:t,goalId:n,tasksCount:h(i).length,permutationId:S(),endUserGuid:T(),source:k()};I.sendData(a)},this.tempClearUserCompletedTasks=function(e){y.updateLocalData(c(e),{})},l.apply(null,arguments)}function pe(){function e(e){o=e.serverAddress,s=e.lib.getUserGuid(),u=e.lib.Logger.error,l=e.getPermutationId,c=e.getEndUserGuid,d=e.getAuditSource,f=o+"/AbTesting/UserCompletedGoals",a=new de(e.storageManager,p)}function t(e){return"wm_abg_"+s+"_"+e}function n(e,t){return{userGuid:s,endUserId:e,source:d(),permutationId:l(),goalsToCheck:t}}function r(e){var t={};return t[g]=l(),t[h]=e,t}function i(e){var n=a.retrieveLocalData(t(e));return n&&l()==n[g]?n:null}this.LocalSVNRevision="$Rev: 3613 $";var o,a,s,u,l,c,d,f,p=86400,g="p",h="g";this.asyncRetrieveCompletedGoals=function(e,i,o,s){var u=function(n){var i=t(e),s=r(n);a.updateLocalData(i,s),o&&o(n)},l=n(e,i);a.loadServerData(f,l,t(e),u,s,!0)},this.syncRetrieveCompletedGoals=function(e){var t=i(e);return t?t[h]:null},this.updateGoalCompleted=function(e,n){var o=t(e),s=i(e)||r([]);s[h].push(n),a.updateLocalData(o,s)},this.tempClearUserCompletedGoals=function(e){a.updateLocalData(t(e),{})},e.apply(null,arguments)}function ge(){function e(e){i=e.goalsManager,o=e.todoListManager,n=_makeTutorial.Logger.wrapCustomerLog(ya),r=ua.get("GoalsCompletedPetaSender")}function t(e){return e.GoalsNotCompleted?e.GoalsNotCompleted:[]}this.LocalSVNRevision="$Rev: 4799 $";var n,r,i=null,o=null,a=this,s=function(e){r.audit(e),o.updateGoalCompleted(e)};this.startWatchingTasks=function(){var e=o.getTasksGoalsNotCompleted();mtjQuery.each(e,function(e,t){t.TaskId&&a.startWatchingTask(t)})},this.startWatchingTask=function(e){var r=t(e);r.length>0&&i.addGoalsWatch(r,void 0,s),n("Started watching Task : "+e.Name,2)},e.apply(null,arguments)}function he(e,t,n){function r(){h=e.wrapCustomerLog(ma)}function i(e,t){return void 0===t&&(t=[]),mtjQuery("frame",e).each(function(){try{mtjQuery("frame, frameset",this.contentWindow.document).length>0&&(t=i(this.contentWindow.document,t)),t.push(this)}catch(e){h("Frame is cross-domain, we can't access it",v)}}),t}function o(){for(var e=0;e<b.length;e++){var t=b[e];k.isFrameActive(t)||null!=t&&null!=t.contentWindow&&a(t)}}function a(e){c(e)||(w.push(e),t.isIE(9,"lte")?e.addEventListener?e.addEventListener("load",s,!1):e.attachEvent("onload",s):mtjQuery(e).bind("load.walkme",function(){l(e)}))}function s(e){l(e.currentTarget)}function u(e){t.isIE(9,"lte")?e.removeEventListener?e.removeEventListener("load",s,!1):e.detachEvent("onload",s):mtjQuery(e).unbind("load.walkme")}function l(e){u(e),d(e)}function c(e){for(var t=0;t<w.length;t++)if(w[t]==e)return!0;return!1}function d(e){for(var t=0;t<w.length;t++)w[t]==e&&w.splice(t,1)}function f(){null!=y&&(y.clear(),y=null)}function p(){for(var e=0;e<w.length;e++)mtjQuery(w[e]).unbind("load.walkme");w=[]}function g(e){var t=0;return t=void 0!==e.height&&void 0!==e.width?e.height*e.width:mtjQuery(e).height()*mtjQuery(e).width()}this.LocalSVNRevision="$Rev: 4367 $";var h,m=7e3,v=5,y=null,w=[],b=void 0,S=null,T=void 0,k=this;this.isFramesetsPage=function(){return void 0===T&&(T=wmjQuery("frameset").length>0),T},this.checkIfAnyFrameIsUnloaded=function(e){n.libSetTimeout(f,e),b=i(),w=[],y=n.playSetInterval(o,5),null!=S&&S.clear(),S=n.libSetTimeout(p,m)},this.isLoadingFrames=function(){return w.length>0},this.isFrameActive=function(e){return null==e?(h("Frame is not active (Frame is null)",v),!1):null==e.contentWindow?(h("Frame is not active (frame.contentWindow is null)",v),!1):null==e.contentWindow.document?(h("Frame is not active (frame.contentWindow.document is null)",v),!1):0==mtjQuery("head",e.contentWindow.document).length?(h('Frame is not active (mtjQuery("head", frame.contentWindow.document).length == 0)',v),!1):0==mtjQuery("body",e.contentWindow.document).length&&0==mtjQuery("frameset",e.contentWindow.document).length?(h('Frame is not active (mtjQuery("body", frame.contentWindow.document).length == 0)',v),!1):!0},this.getAllFramesDocuments=function(){for(var e=[],t=i(),n=0;n<t.length;n++)e.push(t[n].contentWindow.document);return e},k.waitForFramesHeadsAndBodies=function(e){function t(){var i=k.findBiggestFrame(),o=k.isFrameActive(i);return o?(h("Biggest frame is active. waitCount: "+r,5,"FramesetsUtils"),void e()):r>n?void h("Failed waiting for head and body in biggest frame. Stopping execution"+r,1,"FramesetsUtils"):void setTimeout(function(){r++,h("Biggest frame wasn't ready on attempt "+r,5,"FramesetsUtils"),t()},200)}if(!k.isFramesetsPage())return void e();var n=40,r=0;t()},this.findBiggestFrame=function(e,t){e=e?e:document;var n=t?g(t):-1;return mtjQuery("frame",e).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){var e=this.contentWindow.document;e&&(t=k.findBiggestFrame(e,t),n=t?g(t):-1)}else{var r=g(this);r>n&&(n=r,t=this)}}catch(i){}}),t},r.apply(null,arguments)}function me(){this.LocalSVNRevision="$Rev: 4401 $";var e,t=this;dn=function(n,r){t._question=n,t._questionDiv=mtjQuery("<div></div>"),e=r},t.getQuestionDivFromWindow=function(){var n=mtjQuery("#walkme-survey-"+e.Guid),r=mtjQuery("#"+t._questionDiv.attr("id"),n);return r},t.setTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-title"),n.css("font-weight","bold"),n.css("font-size","16px"),n.css("margin-bottom","6px"),n.html(e),t._questionDiv.append(n)},t.setSubTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-sub-title"),n.css("margin-bottom","8px"),n.html(e),t._questionDiv.append(n)},t.Generate=function(){return t._questionDiv=mtjQuery("<div></div>"),t._questionDiv.attr("Id","walkme-survey-question-"+t._question.Id),t._questionDiv.addClass("walkme-survey-question"),t.setTitle(t._question.Title),t.setSubTitle(t._question.SubTitle),t._questionDiv},dn.apply(null,arguments)}function ve(){function e(e,n){ke.extend(t,me,e,n)}this.LocalSVNRevision="$Rev: 4401 $";var t=this,n=500;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-freetext-answers"),e.attr("id","walkme-survey-question-freetext-answers-"+t._base._question.Id);var r=mtjQuery('<textarea rows="4" cols="20" maxlength="'+n+'"></textarea>');return r.css("resize","none"),r.attr("id","walkme-survey-question-freetext-"+t._base._question.Id),r.addClass("walkme-survey-answer-textarea"),r.css("width","100%"),r.css("max-width","97%"),r.css("border","1px solid #b9b9b9"),e.append(r),t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery(".walkme-survey-answer-textarea",n).val();return""!=r?(e.questionId=t._base._question.Id,e.answerText=r,[e]):[]},e.apply(null,arguments)}function ye(){function e(e,n){ke.extend(t,me,e,n)}this.LocalSVNRevision="$Rev: 5234 $";var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-checkbox-answers"),e.attr("id","walkme-survey-question-checkbox-answers-"+t._base._question.Id);for(var n=t._base._question.Answers,r=0;r<n.length;r++){var i=mtjQuery("<div></div>");i.addClass("walkme-survey-question-checkbox-answer"),"rtl"==Su.get().Direction?i.css("margin","0 0 5px 8px"):i.css("margin","0 8px 5px 0"),i.attr("id","walkme-survey-answer-"+n[r].Id);var o=mtjQuery("<label><label/>");o.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),o.addClass("walkme-survey-answer-text"),o.css("*display","inline"),o.css("display","inline-block"),o.css("zoom","1"),o.css("max-width","91%"),Us.isIE("8")?o.css("vertical-align","top"):o.css("vertical-align","text-top"),o.html(n[r].Title);var a=mtjQuery('<input type="checkbox"/>');a.addClass("walkme-survey-answer-checkbox"),a.css("vertical-align","-3px"),"rtl"==Su.get().Direction?Us.isIE("7")?(a.css("margin","0px -3px 0px -1px"),a.css("vertical-align","-4px")):Us.isIE("8")?a.css("margin","-1px -3px 0px 3px"):Us.isIE("9")?a.css("margin","0 -4px 0px 2px"):Us.isIE("11")?(a.css("vertical-align","-2px"),a.css("margin","0 0 0 3px")):"Safari"==Us.browser.name?(a.css("margin","0px 1px 0px 5px"),a.css("vertical-align","1px")):a.css("margin","0 0 0 3px"):Us.isIE("7")?(a.css("margin","0px -1px 0px -3px"),a.css("vertical-align","-4px")):Us.isIE("8")?a.css("margin","-1px 3px 0px -3px"):Us.isIE("11")?(a.css("vertical-align","-2px"),a.css("margin","0 3px 0 0")):"Safari"==Us.browser.name?(a.css("margin","0px 5px 0px 1px"),a.css("vertical-align","1px")):a.css("margin","0 3px 0 0"),a.attr("value",n[r].Id),a.attr("id","walkme-survey-answer-checkbox-"+n[r].Id);var s=mtjQuery("<label />");s.addClass("walkme-survey-answer-label-checkbox"),s.addClass("walkme-survey-answer-label-unchecked"),s.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),i.append(s),i.append(a),i.append(o),e.append(i)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){for(var e=t._base.getQuestionDivFromWindow(),n=mtjQuery("input:checkbox:checked",e),r=[],i=0;i<n.length;i++){var o={};o.answerId=n[i].value,o.questionId=t._base._question.Id,r.push(o)}return r},e.apply(null,arguments);

}function we(){function e(e,n){ke.extend(t,me,e,n)}this.LocalSVNRevision="$Rev: 5234 $";var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.attr("id","walkme-survey-question-radiobutton-answers-"+t._base._question.Id),e.addClass("walkme-survey-question-radiobutton-answers");for(var n=t._base._question.Answers,r=0;r<n.length;r++){var i=mtjQuery("<div></div>");i.addClass("walkme-survey-radiobutton-answer"),"rtl"==Su.get().Direction?i.css("margin","0 0 5px 8px"):i.css("margin","0 8px 5px 0"),i.attr("id","walkme-survey-question-answer-"+n[r].Id);var o=mtjQuery("<div></div>");o.addClass("walkme-survey-answer-text"),o.css("*display","inline"),o.css("display","inline-block"),o.css("max-width","91%"),o.css("zoom","1"),o.attr("id","walkme-survey-answer-text-"+n[r].Id),o.css("vertical-align","text-top");var a=mtjQuery("<label></label>");a.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),a.addClass("walkme-survey-answer-title"),a.css("display","inline-block"),a.css("max-width","545px"),a.html(n[r].Title);var s=mtjQuery("<label></label>");s.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),s.addClass("walkme-survey-answer-subtitle"),s.css("display","inline-block"),s.html(n[r].SubTitle),o.append(a),o.append(s);var u=mtjQuery("<div></div>");u.addClass("walkme-survey-answer-radiobutton-div"),u.css("display","inline-block"),u.css("*display","inline"),u.css("zoom","1"),u.attr("id","walkme-survey-answer-radiobutton-div-"+n[r].Id);var l=mtjQuery('<input type="radio" name="walkme-survey-question-group-'+t._base._question.Id+'" />');l.addClass("walkme-survey-answer-radiobutton"),l.css("display","inline-block"),l.css("vertical-align","-3px"),"rtl"==Su.get().Direction?Us.isIE("8")?l.css("margin","-1px -4px 1px 1px"):Us.isIE("7")?(l.css("margin","0px -3px 0px -1px"),l.css("vertical-align","-3px")):Us.isIE("9")?l.css("margin","0px -5px 0px 0px"):Us.isIE("11")?(l.css("vertical-align","-3px"),l.css("margin","0px 0px 0px 3px")):"Safari"==Us.browser.name?(l.css("margin","0px 1px 0px 5px"),l.css("vertical-align","1px")):l.css("margin","0 0 0 3px"):Us.isIE("8")?(l.css("margin","-1px 0px 1px -3px"),l.css("vertical-align","-3px")):"Safari"==Us.browser.name?(l.css("margin","0px 5px 0px 1px"),l.css("vertical-align","1px")):Us.isIE("7")?(l.css("margin","0px -1px 0px -3px"),l.css("vertical-align","-3px")):Us.isIE("11")?(l.css("vertical-align","-2px"),l.css("margin","0 3px 0 1px")):l.css("margin","0 3px 0 1px"),l.attr("value",n[r].Id),l.attr("id","walkme-survey-answer-radiobutton-"+n[r].Id);var c=mtjQuery("<label />");c.addClass("walkme-survey-answer-label-radiobutton"),c.addClass("walkme-survey-answer-label-unchecked"),u.append(c),u.append(l),i.append(u),i.append(o),e.append(i)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery("input[name=walkme-survey-question-group-"+t._base._question.Id+"]:checked",n).val();return r?(e.answerId=r,e.questionId=t._base._question.Id,[e]):!1},e.apply(null,arguments)}function be(){this.LocalSVNRevision="$Rev: 4401 $";var e=this;e.getSurveyQuestion=function(e,t){var n;switch(e.QuestionType){case Pa.FreeText:n=new ve(e,t);break;case Pa.CheckBox:n=new ye(e,t);break;case Pa.RadioButton:n=new we(e,t)}return n}}function Se(){function e(e,t,n){w=e,b=t.surveyJson,S=new be,E=[],T=t.tutorialId,k=n,I=t.submitResults,C=t.submitExit,D=Ru._currentPlayGUID||e.generateNewGuid()}function t(){var e=mtjQuery("<div></div>");return e.attr("id","walkme-survey-"+b.Guid),e.addClass("walkme-survey"),e}function n(){var e=mtjQuery("<div></div>");return e.addClass("walkme-survey-title"),e.html(b.Name),e.css("margin-bottom","8px"),e.css("font-weight","bold"),e.css("font-size","24px"),e}function r(){var e=mtjQuery("<div></div>");e.addClass("walkme-survey-questions"),e.css("overflow-y","auto"),e.css("overflow-x","hidden");for(var t=0;t<b.Questions.length;t++){var n=S.getSurveyQuestion(b.Questions[t],b);E.push(n),e.append(i(t,"before"));var r=n.Generate();t!=b.Questions.length-1&&r.css("margin-bottom","20px"),e.append(r),e.append(i(t,"after"))}return e}function i(e,t){var n=mtjQuery("<div></div>");return n.addClass("walkme-survey-question-separator-"+t),n.attr("id","walkme-survey-question-separator-"+t+"-"+e),n}function o(){var e=t(),i=n();e.append(i);var o=r();return e.append(o),a(e),e}function a(e){for(var t=0;4>t;t++){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-extra-div-"+t),e.append(n)}}function s(){var e=mtjQuery("<div></div>");return e.append(o()),e}function u(e){e=e?e:[];var t={};return t.playGuid=D,t.surveyGuid=b.Guid,t.tutorialId=T,t.source=Co(),t.customVarsData=gn(_s.Var,b.Settings.customVar),t.customCookiesData=gn(_s.Cookie,b.Settings.customCookie),t.answers=e,t}function l(){var e=d();if(e){var t=u(e);I(t),wo("Submitting answers"),h()}else c()}function c(){var e=x.find(".walkme-custom-balloon-buttons-wrapper"),t="walkme-survey-validation-errors",n="."+t;e.find(n).remove(),e.prepend("<span style='font-size:11px;color:"+_+"' class='"+t+"'>Please fill in the answers and click submit again</span>")}function d(){for(var e=[],t=0;t<E.length;t++){var n=E[t].getAnswers();if(!n)return!1;e=e.concat(n)}return e}function f(){wo("Survey exited");var e=u();C(e),h()}function p(e){var t=mtjQuery("#"+e),n=t.parent();mtjQuery("input:checked",n).removeAttr("checked");var r=mtjQuery(".walkme-survey-answer-radiobutton",t);r.attr("checked","checked"),r.change()}function g(e,t){var n=mtjQuery("#"+e).parent(),r=n.parent(),i=r.parent();t&&mtjQuery(".selected",i).removeClass("selected"),n.addClass("selected"),r.addClass("selected")}function h(){w.releaseBalloons(),k&&k()}function m(e,t){_=t.FooterTextColor,x=e,x.css("min-width","350px"),x.addClass("walkme-survey-id-"+b.Id),mtjQuery(".walkme-action-submit",x).click(l),mtjQuery(".walkme-action-close",x).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",x).click(f),y(x);for(var n=0;n<b.Questions.length;n++)v(x,"radiobutton",b.Questions[n].Id),v(x,"checkbox",b.Questions[n].Id);mtjQuery(".walkme-survey-answer-radiobutton",x).change(function(){g(this.id,!0)}),mtjQuery(".walkme-survey-radiobutton-answer",x).click(function(){p(this.id)}),x.addClass("walkme-survey-balloon")}function v(e,t,n){var r=e.find("#walkme-survey-question-"+n),i=r.find(".walkme-survey-answer-"+t);i.change(function(){for(var e=0;e<i.length;e++){var n=i[e],r=mtjQuery(n).parent().find(".walkme-survey-answer-label-"+t);r.removeClass("walkme-survey-answer-label-checked"),r.removeClass("walkme-survey-answer-label-unchecked"),r.addClass(i[e].checked?"walkme-survey-answer-label-checked":"walkme-survey-answer-label-unchecked")}})}function y(){mtjQuery(".walkme-custom-balloon-close-button",x).attr("title","Close Survey")}var w,b,S,T,k,I,C,x,_,D,E,A=this;A.show=function(){var e=s(),t={popupStepButtons:[{id:0,action:4}]};b.Settings&&void 0!==b.Settings.fadeBackground&&(t.fadeBackground=b.Settings.fadeBackground);var n={minPopupWidth:350,Vibrate:!1,surveyId:b.Id};wr({htmlContent:e},600,t,m,void 0,n)},e.apply(null,arguments)}function Te(){function e(e){d.Extends(Nt,e),p=e.lib,g=e.abPermutationManager,h=e.recorderServerManager,m=e.permalinkManager,y=g.getPermutation,w=p.getEndUserGuid,v=e.state}function n(e){return S=!1,e.answers.length>0?(o("SurveyCompleted",e),a(e.surveyGuid),!0):!1}function r(e){S=!1,o("SurveyExited",e)}function o(e,t){if(!ko()){t.permutationId=y(),t.endUserGuid=w();var n=i(t),r=hl.execute({url:h.get()+"/Survey/"+e,data:{surveyDataSerialized:n},timeout:T});r.success(function(e){}),r.error(function(e,t,n){})}}function a(e){var t="wm-SrvSmt-"+e;$s.saveData(t,1,ja)}function s(e,t){var n={shouldStart:!1,cookiesToSave:[],surveyId:null};if(hc("noSurveys"))return n;var r=Vo(e.Settings,"survey",void 0);if(!r)return wo("No survey defined on walkthru: "+e.Name,3,"survey"),n;if(r.startCondition==t||r.startCondition==Zs.Both){n.surveyId=r.surveyId;var i=d._base.deployablesDict()[n.surveyId];if(!i)return wo("Couldn't find survey with id:"+r.surveyId,0,"survey"),n;var o="wm-SrvRep-"+i.Id,a=u(o,i.Settings);a&&a.shouldStart&&(n.cookiesToSave.push(a.store),o="wm-SrvWtRep-"+e.TutorialId+"-"+i.Id,a=u(o,r),n.cookiesToSave.push(a.store),n.shouldStart=a.shouldStart)}return n}function u(e,t){var n=t.repeat||"visit";return p.checkRepeatCookie(e,n)}function c(e){var t=!0;S=!0;var n=window.walkmeExternalSurvey;if(n){wo("Starting external survey"),e.playGuid=Ru._currentPlayGUID,e.source=Co();var r=n(e,e.callback);r===!1&&(t=!1)}else{wo("Starting regular survey");var i=new Se(p,e,e.callback);i.show()}return t}var d=new t(this),f=this;f.LocalSVNRevision="$Rev: 5228 $";var p,g,h,m,v,y,w,b=!1,S=!1,T=1e4;this.handleSurveyPlayThroughWalkthru=function(e,t,n,r){wo("Checking if need to open survey");var i=s(e,t);if(i.shouldStart){wo("Starting survey");var o={tutorialId:e.Id,stepIndex:n,lastStepIndex:e.Steps.length-1,eventSource:t,callback:r},a=f.activateById(i.surveyId,null,o);if(a)for(var u=0;u<i.cookiesToSave.length;u++)i.cookiesToSave[u]()}},this.surveyIsShown=function(){return S},d.Override("name",function(){return"Survey"}),d.Override("activateById",function(e,t,i){i||(i={});var o=d._base.deployablesDict()[e];if(!o)return wo(l("Survey with id {0} doesn't exist",e),3),!1;i.surveyJson=o,i.submitResults=n,i.submitExit=r,i.drawBalloonFunc=wr;var a=c(i);return b=a||b,a}),d.Override("autoStartEnabled",function(e){return!(b||m.isStartingWalkthru()||p.getState()!=v.NOT_RUNNING&&p.getState()!=v.PAUSED)}),e.apply(null,arguments)}function ke(){function e(e,t){var n={};for(var r in t){n[r]=t[r];var i="function"==typeof t[r],o="function"==typeof e[r];i&&!o?e[r]=t[r]:i&&o&&t[r].WM_VIRTUAL&&(t[r]=e[r])}return n}this.LocalSVNRevision="$Rev: 3499 $",this.extend=function(t,n,r,i,o,a){var s=new n(r,i,o,a),u=e(t,s);t._base=u},this.VIRTUAL=function(e){return e.WM_VIRTUAL=!0,e};var t=this.VIRTUAL(function(){throw"Function is pure virtual. must override"});this.WM_PURE_VIRTUAL=function(){return t}}function Ie(){function e(e,t){i=e.checkIfExists,o=e.getTutorialByIndex,a=t}function t(e){for(var t=o(e),r=t.Steps.length-1;r>0;){var i=t.Steps[r],a=i.Settings.firstInPage;if(a&&n(e,r))return wo("first step for page, step index: "+(r+1)),r;r--}return r}function n(e,t){var n=i(e,t,void 0,void 0,void 0,Ra.Normal);return n==t}var r=this;r.LocalSVNRevision="$Rev: 5209 $";var i,o,a;r.findFirstStep=function(e,n,r){if(hc("firststep")&&(!n||0==n)){var o=t(e);if(o>0)return o}return n=n?n:0,i(e,n,void 0,void 0,r,Ra.Normal)},e.apply(null,arguments)}function Ce(e){function t(){}var n=this;n.LocalSVNRevision="$Rev: 5081 $",n.isActionStep=function(t){return t.Type&&t.Type==e.STEP_TYPE.Action?!0:!1},n.isPopupStep=function(t){return t.Type&&t.Type==e.STEP_TYPE.Popup},t.apply(null,arguments)}function xe(){function e(e){b=ua.get("Logger"),S=ua.get("FeaturesManager"),k=ua.get("TimerManager"),O(U()),g=e.errorHandler,h=e.userGuid,m=e.terminateTutorialFunction,v=e.restoreStateFunc,p=e.resumeAfterUnloadFunc,f=e.getStepFunc,w=e.peekNextCookieStepFunc,M(e.storageManager),L(e.allUserGuids),y=e.topWindow==e.owner,T=b.wrapCustomerLog(ca)}function n(){T("savining data to resume after unload",3),l(d),N=!0,d=null,r()}function r(){R+=1,setTimeout(function(){T("continue listening after "+_+" milliseconds",3),V(R)},_)}function i(e,t){var n=f(e,t);return null!==n?_makeTutorial.evaluateConditionTree(n.Settings.action.arguments.condition):void 0}function o(){return y}function a(){var e=M().getData(A,!1,h);return e}function s(e){M().saveData(A,e,x,h)}function u(){return d=M().getData(E,!1,h)}function l(e){d=e,M().saveData(E,e,C,h)}var c=new t(this);this.LocalSVNRevision="$Rev: 5209 $";var d,f,p,g,h,m,v,y,w,b,S,T,k,I=2e3,C=3600,x=2,_=3e3,D=1100,E="wm-cdplay",A="wm-cdstop",P=this,N=!1,R=0,j=c.Prop.Protected("isRunning",!1),M=c.Prop.Protected("storageManager",!1),L=c.Prop.Protected("allUserGuids",{}),O=c.Prop.Public("crossDomainSampleRate",{}),G=c.Protected("terminateTutorial",function(){m()}),U=c.Virtual.Protected("getSampleRate",function(){return 200});c.Public("enabled",function(){return S.isFeatureEnabled("cd_play")||S.isFeatureEnabled("passOwnership")?!0:!1}),c.Virtual.Public("start",function(){P.enabled()&&(T("starting cross domain listening..."),R+=1,V(R))}),c.Virtual.Public("stop",function(){R=0}),c.Public("canStartPlaying",function(e){return P.enabled()?Al==ys.WAITING_FOR_OWNERSHIP:!0}),c.Virtual.Public("reset",function(e){P.enabled()&&(s(!0),X(),k.libSetTimeout(function(){s(!1)},D))}),c.Virtual.Public("switchOwner",function(e,t){P.enabled()&&(T("switching owner..."),l(e),t&&(P.loseOwnership(),F(),M().setSyncFlag(h)))}),c.Virtual.Public("loseOwnership",function(e,t){P.enabled()&&(T("losing ownership..."+document.location.href),j()&&(e&&(T("reset state: reseting the ownership condition"),X()),t?n():j(!1)),Cl("loseOwnership"))});var F=c.Virtual.Protected("removeOwner",function(){});c.Virtual.Public("walkthruStarted",function(e){G(),e&&e()});var B=c.Virtual.Protected("terminate",function(){T("owner killed, terminating tutorial and losing ownership",3),G(),P.loseOwnership()}),W=c.Virtual.Protected("gainOwnership",function(){T("gaining ownership with state "+Al+" "+document.location.href,3),j(!0),N?(N=!1,p()):(T("ownership granted to: "+Q(),3),v(h)),Cl("gainOwnership")}),Q=c.Virtual.Protected("windowIdentifier",function(){return window.location.href}),V=c.Virtual.Protected("listen",function Y(e){T("listening with runId: "+e,5),M().refreshGetData(L(),function(){if(H(e)){var t=a();j()?t&&B():t||!q()&&!z()?t?T("waiting for other owner to die before gaining ownership...",3):N&&(N=!1):W(),k.libSetTimeout(function(){Y(e)},$())}})}),H=c.Protected("shouldContinueListening",function(e){return e==R?!0:(T("stop listening...",3),!1)}),$=c.Protected("calculateDomainListenInterval",function(){return N?I:O()}),z=c.Protected("checkOwnership",function(){try{var e=u();if(e)return i(e.stepId,e.tutorialId);if(o())return T("no ownership condition, owner by default",5),!0}catch(t){g(t,"Error determining the owner of a cross domain step")}return!1}),q=c.Protected("isOwnerByPeeking",function(){var e=(S.isFeatureEnabled("po_peek")||S.isFeatureEnabled("passOwnership"))&&K(w());return e&&T("[passownership] owner by peeking",5),e}),K=c.Protected("isPassOwnershipStep",function(e){return e&&e.Settings&&e.Settings.action?"passOwnership"==e.Settings.action.actionType:!1}),X=c.Protected("resetOwnershipCondition",function(){M().saveData(E,!1,C,h)});e.apply(null,arguments)}function _e(){function e(e){z=ua.get("TimerManager"),logger=ua.get("Logger"),$=e.isFeatureEnabled("po_doubleCheck"),A.Extends(xe,e),M=A._base,M.crossDomainSampleRate(fe()),P=2*M.crossDomainSampleRate(),N=n()?5e3:800,R=n()?2e4:5e3,j="Chrome"==Us.browser.name?1200:700,G=e.errorHandler,O=e.userGuid,U=M.storageManager,F=M.allUserGuids,B=M.isRunning,q=logger.wrapCustomerLog(ca),v()}function n(){return de()||Us.isIEBrowser(10,"gte")}function r(){return M.isOwnerByPeeking()?(ce++,ce>=ue):void(ce=0)}function a(){return W?(W--,!0):!1}function s(){M.storageManager().refreshGetData(F(),function(){Q=null;var e=E(),t=k(),n=r();!e||L!=e||t&&!n?!n&&t&&t!=L&&D():(q("priority is highest, gaining ownership - "+L,4),I(L),M.gainOwnership())})}function u(e){ge(function(t){var n=parseInt(t,10)||0;q("got priority "+n+" from sessionStorage",4),g(n,function(t){0===n||t?(q((t?"inherited priority from parent":"priority is zero")+", getting a new priority",4),we(null,e,!0)):(L=n,$?l(e):e&&e())})})}function l(e){g(L,function(t){t?we(null,e,!0):e&&e()})}function c(){return Us.isIE()||$}function d(){c()&&f()}function f(){var e=U().getData(ie+L,void 0,O);e==oe.checking&&U().saveData(ie+L,oe.taken,K,O),z.libSetTimeout(f,X)}function p(e,t){function n(){o&&U().refreshGetData(F(),function(){if(o){var e=U().getData(i,void 0,O);e==oe.taken&&r(!0),z.libSetTimeout(n,ae)}})}function r(e){e=!!e,U().removeData(i,O),o=!1,a&&a.clear(),t&&t(e)}var i=ie+e;U().saveData(i,oe.checking,K,O);var o=!0,a=z.libSetTimeout(r,j);n()}function g(e,t){return e?void(c()?(q("checking if priority is inherited using storageManager",4),p(e,t)):(q("checking if priority is inherited using window.opener",4),h(e,t))):void(t&&t(!1))}function h(e,t){function n(e){q("is priority inherited: "+e,4),i&&i.clear(),r&&r(),t&&t(e)}if(window.opener){var r,i,a;r=H.registerEventHandler("message",function(t){try{var r=o(t.data);r.requestType==re&&(r.priority==e?(W=se,n(!0)):(a--,0==a&&n()))}catch(i){q("Error in priority inherited message event "+i,4)}}),i=z.libSetTimeout(function(){n(!1)},1e3),a=H.postMessageToAllFramesChain(window.opener,JSON.stringify({requestType:ne})),0==a&&n(!1)}else t&&t(!1)}function m(){me()&&(mtjQuery(window).bind("focus",we),mtjQuery(window).bind("mouseenter",we))}function v(){H.registerEventHandler("message",b)}function y(){me()&&(mtjQuery(window).unbind("focus",we),mtjQuery(window).unbind("mouseenter",we))}function w(){H.unregisterEventHandler("message",b)}function b(e){var t;try{switch(t=o(e.data),t.requestType){case ee:ve(t.priority);break;case ne:e.source.postMessage(JSON.stringify({requestType:re,priority:L}),"*")}}catch(n){t&&G(n,"error handling priority message from parent")}}function S(e){L=e,he(L),B()&&(q("is running during set priority - setting current owner",4),I(L)),q("updated priority: "+L,4)}function T(e){var t={requestType:ee,priority:e};q("sending priority to all frames: "+e,4),mtjQuery("iframe").each(function(e,n){n.contentWindow.postMessage(i(t),"*")})}function k(){return U().getData(J,!1,O)}function I(e){return q("setting owner to: "+document.location.href+"owner id:"+e,4),W=se,U().saveData(J,e,K,O)}function C(){q("removing current owner",4),U().saveData(J,null,K,O)}function x(){q("register in queue with priority "+L,4),U().addToDictionary(Z,L,_(),K,O),(!Q||Q.cleared)&&(Q=z.libSetTimeout(s,P))}function _(){return(new Date).getTime()}function D(){q("po_tabs - clear priorities queue",4),U().saveData(Z,null,K,O)}function E(){var e=U().getData(Z,!1,O);q("registered priorities: "+i(e),4);for(var t=0,n=N;!t&&R>n;){for(var r in e)e.hasOwnProperty(r)&&(priority=parseInt(r,10),_()-e[r]<n&&priority>t&&(t=priority));n+=P}return t}var A=new t(this);this.LocalSVNRevision="$Rev: 5118 $";var P,N,R,j,M,L,O,G,U,F,B,W,Q,V,$,z,q,K=3600,X=300,Y="wm-po-p",J="wm-po-r",Z="wm-po-q",ee="wm-setPriority",te="priority",ne="wm-qp-req",re="wm-qp-res",ie="wm-po-pc",oe={checking:1,taken:2},ae=100,se=1,ue=10,le=this,ce=0;A.Virtual.Public("getPriority",function(){return L});var de=A.Protected("isSlowerBrowser",function(){return Us.isIEBrowser(9,"lte")}),fe=A.Override("getSampleRate",function(){var e=M.getSampleRate();return de()&&(e*=2),e});A.Override("start",function(){u(function(){m(),d(),M.start()})}),A.Override("stop",function(){le.enabled()&&(y(),w(),q("stop ownership",4),B(!1),M.stop())}),A.Override("reset",function(){le.enabled()&&(W=0,q("reset ownership",4),M.resetOwnershipCondition(),C(),B(!1))}),A.Override("walkthruStarted",function(e){M.terminateTutorial(),D(),we(null,e,$)});var pe=(A.Override("listen",function Se(e){M.storageManager().refreshGetData(F(),function(){if(M.shouldContinueListening(e)){var t=k();a()||(B()&&L!=t&&M.terminate(),B()||(!t&&M.checkOwnership()||r()?x():L==t&&pe()&&(M.gainOwnership(),we()))),z.libSetTimeout(function(){Se(e)},M.calculateDomainListenInterval())}})}),A.Virtual.Protected("shouldRegainOwnership",function(){return M.checkOwnership()}));A.Override("switchOwner",function(e,t){function n(){M.switchOwner(e,t)}t&&D(),$?we(null,n,$):n()}),A.Override("windowIdentifier",function(){return L+":"+window.location.href}),A.Override("removeOwner",function(e,t){M.removeOwner(),C()});var ge=A.Virtual.Protected("restorePriority",function(e){M.storageManager().sessionGetData(te,0,O,e)}),he=A.Virtual.Protected("storePriority",function(e){U().sessionSetData(te,e,O)}),me=A.Virtual.Protected("shouldRegisterFocusEvents",function(){return window==top}),ve=A.Virtual.Protected("handleSendPriorityRequest",function(e){q("frame got new priority from parent window: "+e,4),L=e,T(e)}),ye=[],we=A.Virtual.Protected("updatePriority",function(e,t,n){if(t&&ye.push(t),!V){var r=L;V=!0;var i=n?null:L;U().increment(Y,i,K,O,function(e){e!==L&&(q("updating priority from "+r+" to "+e,4),S(e),be(e,r));var t=ye;ye=[],V=!1;for(var n=0;n<t.length;n++)t[n](L)})}}),be=A.Virtual.Protected("afterUpdatingPriority",function(e){T(e)});e.apply(null,arguments)}function De(){function e(e){logger=ua.get("Logger"),l.Extends(_e,e),f=l._base,c=logger.wrapCustomerLog(ca)}function n(){var e=sessionStorage.getItem(p);return c("[po_frames] getting session priorities: "+e,4),e?o(e):void 0}function r(e,t){e&&!a(e)?t&&t(e):f.updatePriority(null,function(e){r(e,t)})}function a(e){return-1!=wmjQuery.inArray(e,s(top))}function s(e){var t=[];try{var n=e._makeTutorial.crossDomainManager.getPriority();e!=window&&n&&t.push(parseInt(n,10))}catch(r){}for(var i=e.frames,o=0;o<i.length;o++)t=t.concat(s(i[o]));return t}function u(e){var t=n();if(c("[po_frames] removing priority "+e+" from session",4),t&&e){var r=wmjQuery.inArray(e,t);r>=0&&(t.splice(r,1),sessionStorage.setItem(p,i(t)))}}var l=new t(this);this.LocalSVNRevision="$Rev: 4377 $";var c,d,f,p="walkme-priorities";l.Override("getPriority",function(){return f.getPriority()||d}),l.Override("restorePriority",function(e){if(c("[po_frames] restoring priority, temp priority is: "+d,4),window==top)f.restorePriority(e);else{var t=n();if(t&&t.length){var o=s(top);t.sort(function(e,t){return e>t?-1:t>e?1:0}),c("[po_frames] used priorities: "+i(t),4);for(var a=0;a<t.length&&!d;a++)-1==wmjQuery.inArray(t[a],o)&&(o.push(t[a]),sessionStorage.setItem(p,i(o)),d=t[a])}r(d,e)}}),l.Override("storePriority",function(e){if(e=parseInt(e,10),window==top)f.storePriority(e);else{var t=o(sessionStorage.getItem(p)||"[]");-1==wmjQuery.inArray(e,t)&&t.push(e),c("[po_frames] storing priority "+e+" in the session",4),sessionStorage.setItem(p,i(t))}}),l.Override("afterUpdatingPriority",function(e,t){u(t)}),l.Override("handleSendPriorityRequest",function(e){}),l.Override("shouldRegisterFocusEvents",function(){return!0}),l.Override("shouldRegainOwnership",function(e,t){return!0}),e.apply(null,arguments)}function Ee(e){function t(){}function n(e){for(var t=m(eu),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function r(){f||(f=!0,wo(l("Started watching stickies with identifiers:{0}",i(h(c))),1,pa),e.libSetTimeout(o,s))}function o(){wmjQuery.each(c,function(e,t){a(t)});var t=d(c);t>0?e.libSetTimeout(o,s):f=!1}function a(e){var t=e.shouldDrawFunction(),n=l("handleStickinessTypes, stickyIdentifier={0}. stickinessType={1}. shouldDraw={2}",e.identifier,e.stickinessType,t);if(wo(n,3,pa),t){var r=e.redrawFunction();r&&e.stickinessType==eu.soft&&(wo(l("Sticky with identifier {0} was drawn and removed from stickies list",e.identifier),3,pa),delete c[e.identifier])}}this.LocalSVNRevision="$Rev: 4367 $";var s=2e3,u=this,c={},f=!1;u.registerSticky=function(e){return n(e.stickinessType)?(wo(l("registerSticky for sticky with identifier {0}: stickinessType={1}",e.identifier,e.stickinessType),1,pa),c[e.identifier]=e,void r()):void wo(l("Sticky with id={0} has an invalid stickiness type={1}",e.identifier,e.stickinessType),1,pa)},t.apply(null,arguments)}function Ae(){function e(e){D=e.lib,E=e.cdnServer,P=e.clickAuditManager,j=D.Logger.wrapCustomerLog(wa)}function t(e){var t=$o(null,!1);n(t,e),D.centerElementInPage(A,!1)}function n(e,t){var n=d(t);A=mtjQuery(n),S.registerResizeAndScrollEvents({element:A,eventNameSuffix:W});var o=c(A);S.centerElementInParent(o,A),o.css("left","0"),f(t),D.getUiUtils().setLangAttribute(A);var a=g();A.append(a),h(t,e),m(),v(e);var u=M.createContentElement(t);u.hide();var l=s(u);A.append(l);var p=function(){i(!0),c(A).remove(),u.show()};u.load(p),"VIDEO"==ta(u[0])&&u.bind("loadeddata",p),e.append(A);var y=wmjQuery("#"+B);y.click(function(){var e=u.get(0);e.src=e.src,c(A).show(),i(!1),r()}),S.centerElementInParent(y,A),y.css("left","0"),r()}function r(){N=X.libSetTimeout(a,q),R=X.libSetTimeout(o,K)}function i(e){R&&R.clear(),N&&N.clear();var t=wmjQuery("#"+B),n=wmjQuery("#"+F);e?(t.remove(),n.remove()):(t.css("display","none"),n.css("display","none"))}function o(){wmjQuery("#"+B).css("display","block"),R.clear(),c(A).hide()}function a(){var e=wmjQuery("#"+F);S.centerElementInParent(e,A),e.css("left","0"),e.css("display","block"),N.clear()}function s(e){var t=/iPhone|iPod|iPad/.test(navigator.userAgent);return t?u(e):e}function u(e){var t={width:e.attr("width"),height:e.attr("height"),overflow:"auto","-webkit-overflow-scrolling":"touch"},n=wmjQuery("<div />").css(t);return n.append(e),n}function c(){var e=mtjQuery("#"+U,A);return e}function d(e){var t=M.getDimensionSize("width",e),n=M.getDimensionSize("height",e),r=parseFloat(t)+4,i="<div id='{{lightboxDivId}}' style='float:left; width:{{lightboxWidth}}px; height:{{lightboxHeight}}px; padding: 2px; z-index:{{zIndex}}; background-color:white; box-shadow:4px -4px 19px -1px #494949;'><div id='{{lightboxTopbarDivId}}' style='position: absolute; top: -23px; left: 0px; height: 25px; width: {{topbarWidth}}px; background-color:#646464;'></div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v2.gif) no-repeat center;width:100%; height:100px; position:relative; text-align:center; vertical-align: bottom; margin-top: -30px;'><span style='display: inline-block; color: #99d3fe; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading</span></div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page</div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected</div></div>",o=Fa.to_html(i,{lightboxDivId:O,lightboxWidth:t,lightboxHeight:n,zIndex:Js,lightboxTopbarDivId:G,topbarWidth:r,ajaxLoaderDivId:U,waitingDivId:F,reloadDivId:B,cdnServer:E});return o}function f(e){var t=l("walkme-{0}-light-box-{1}",M.getContentTypeName(),e.Id);A.addClass(t),A.addClass("walkme-to-remove"),A.addClass("walkme-to-destroy")}function p(e,t){var n=t?"#404040":"#646464";e.css("backgroundColor",n)}function g(){var e="walkme-light-box-x-button",t=Su.get().ContentCloseTooltip,n=l("<div id={0} title='{1}' style='position:absolute; height: 17px; width: 17px; right: 5px; top: -19px; cursor: pointer; z-index: 2147483632; vertical-align: top;'><img src='{2}/player/resources/images/blue-x-button.png' style='margin: 4px;' /></div>",e,t,E),r=mtjQuery(n);return r.click(y),r.mouseover(function(){p(r,!0)}),r.mouseout(function(){p(r,!1)}),r}function h(e,t){if(M.needsNewTabButton()){var n="walkme-open-in-new-tab-button",r=l("<div id={0} title='Open in a new tab' style='position:absolute;height:17px; width:17px; right:25px; top:-19px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/open-in-new-tab.png' style='margin: 4px;'></div>",n,E),i=mtjQuery(r);i.click(function(){M.removeContent(t),k(e)}),i.mouseover(function(){p(i,!0)}),i.mouseout(function(){p(i,!1)}),A.append(i)}}function m(){var e=$.canDisplayOverlay();if(e){var t=$.displayOverlay(Js,!1,H);t.click(function(){M.removeContent()})}}function v(e){e.bind(z,function(e){27==e.keyCode&&M.removeContent()})}function y(){M.removeContent()}function w(e){var t=mtjQuery("#"+O,e);t.exist()&&(t.find("iframe").attr("src",""),t.remove(),Cl("ContentRemoved",{})),S.removeScrollAndResizeEvents(W)}function b(){mtjQuery("#"+H).remove()}function T(e){e.unbind(z)}function k(e){D.getCommonUtils().isValidUrl(e.Url)?(j(l("Opening content in new tab. Url: {0}",e.Url)),window.open(e.Url,"_blank")):j(l("Content url is invalid: {0}",e.Url))}function I(e){throw"activateContentInWidget is unimplemented"}function C(e){return e+"Unit"}function x(e,t){return Vo(e.Settings,t,"px")}function _(e){return settingKey="height"==e?V:Q}this.LocalSVNRevision="$Rev: 5145 $";var D,E,A,P,N,R,j,M=this,L="ContentPlayMode",O="walkme-content-light-box",G="walkme-content-light-box-top-bar",U="walkme-ajax-loader",F="walkme-ajax-taking-long",B="walkme-ligth-box-reload",W="walkmeLightBox",Q="LightboxWidth",V="LightboxHeight",H="walkme-content-background",z="keyup.walkme",q=8e3,K=15e3,X=ua.get("TimerManager");M.getContentTypeName=ke.WM_PURE_VIRTUAL(),M.createContentElement=ke.WM_PURE_VIRTUAL(),M.needsNewTabButton=ke.WM_PURE_VIRTUAL(),M.defaultLightboxSize=ke.WM_PURE_VIRTUAL(),M.cannotPlayInLightbox=function(e){var t=0==window.location.href.indexOf("https://")&&0!=e.indexOf("https://");return t&&j("Can't play content in lightbox"),t},M.activateContent=function(e){var n=parseInt(Vo(e.Settings,L,Ss.NewTab));switch(j(l("Started playing content, play mode is :{0}",n)),P.SendClickAudit(Ds.Content,e.Id),e.Url=yd(e.Url,["&"]),j(l("Content url is :{0}",e.Url)),Cl("ContentUrl",{name:e.Name,url:e.Url}),n){case Ss.Widget:I(e);break;case Ss.LightBox:M.cannotPlayInLightbox(e.Url)?(j("Falling back to playing content in a new tab instead"),k(e)):t(e);break;case Ss.NewTab:k(e)}},M.removeContent=function(e){e||(e=$o(null,!1)),i(!1),w(e),b(),T(e)},M.getLightboxSizeInPixels=function(){return{width:A.css("width").replace("px",""),height:A.css("height").replace("px","")}},M.getDimensionSize=function(e,t){var n=M.defaultLightboxSize(),r=C(e),i=x(t,r),o=_(e),a=Vo(t.Settings,o,n[e]);if("%"==i){var s=S.getWindowSize();a=s[e]*a/100}return a},e.apply(null,arguments)}function Pe(){function e(e){ke.extend(c,Ae,e),d=e.lib,o=e.vendorName,a=e.videoId,u=e.content,s=d.Logger.wrapCustomerLog(wa)}function t(e){var t=n(e);if("html5video"==o){var r="";r+=i();var s=mtjQuery("<video controls "+r+' src="'+u.Url+'"></video>');return t.indexOf("autoplay")>-1&&s.attr("autoplay",1),s}var c=l("[{0} {1}]{2}[/{3}]",o,t,a,o),f=d.parseBBCode(c),p=mtjQuery(f);return p}function n(e){var t=Vo(e.Settings,f,"");return t=r(t,e),t+=' wmode="opaque"'}function r(e,t){e=e.replace(/&quot;/gi,'"'),e=e.replace(/((width|height)="[^\\"]+)"/gi,"");var n=i();return e+=" "+n}function i(){var e=c.getLightboxSizeInPixels(),t=l('width="{0}" height="{1}"',e.width,e.height);return t}this.LocalSVNRevision="$Rev: 5175 $";var o,a,s,u,c=this,d=null,f="VideoParameters",p=420,g=315;c.getContentTypeName=function(){return"video"},c.createContentElement=function(e){return t(e)},c.needsNewTabButton=function(){return!1},c.defaultLightboxSize=function(){return{width:p,height:g}},e.apply(null,arguments)}function Ne(){function e(e){ke.extend(r,Ae,e),i=e.lib,n=i.Logger.wrapCustomerLog(wa)}function t(e){if(i.getCommonUtils().isValidUrl(e.Url)){var t=r.getLightboxSizeInPixels(),n='<iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}px; height: {{{height}}}px;"></iframe>',o=Fa.to_html(n,{width:t.width,height:t.height,url:encodeURI(e.Url)}),a=mtjQuery(o);return a}}this.LocalSVNRevision="$Rev: 3653 $";var n,r=this,i=null,o=900,a=500;r.getContentTypeName=function(){return"article"},r.createContentElement=function(e){return t(e)},r.needsNewTabButton=function(){return!0},r.defaultLightboxSize=function(){return{width:o,height:a}},e.apply(null,arguments)}function Re(e,t,n,r){function i(){g=n.Logger.wrapCustomerLog(y)}function o(e,t){return b+"-"+e+"-"+t}function a(e){return w+"-"+e}function s(r,i,s,d){if(!r)return void d(-1);var h=t.getEndUserGuid(!0);if(h===!1)return g("WalkMe ABTesting - Cannot retrieve end user. Stopping execution",1),void n.removeWalkMe("AbTesting - Cannot fetch EndUser");var m,v=a(h),y=null!=s,w=f(r,i),b=l(v,w);if(void 0!=b&&!y)return S=b,g("using permutation from storage: "+b,1),void d(b);if(y){T=!0;var I=u(h,s,b);if(!I)return g("using permutation from activation rule: "+s,1),S=s,void d(s);g("got permutation from activation rule: "+s,2),m=s}else m=p(r),g("permutation was drawn: "+m,1);g("sending permutation id to server: "+m,2);

var C=i?i.PermutationId:void 0;c(h,m,w,C,y,function(t){if(g("server returned permutation id : "+t,2),g("saving permutation in storage : "+t,3),e.saveData(v,t,k),y){g("Activation rule was used.",2);var n=o(h,s);e.saveData(n,1,k),S=m}else S=t;g("Final permutation: "+S,1),d(S)})}function u(t,n,r){if(r==n)return!1;var i=o(t,n);return 1!=e.getData(i)}function l(t,n){var r=parseInt(e.getData(t));if(!isNaN(r)){if(wmjQuery.inArray(r,n)>-1)return g("permutation exists in storage: "+r,1),r;g("permutation exists in storage but was out of date: "+r,1)}return void g("no valid permutation exists in storage",2)}function c(e,t,n,i,o,a){r.sendPermutationToServer(e,t,n,i,o,a,d)}function d(){g("WalkMe ABTesting - Error when saving end-user permutation. Removing WalkMe",1),n.removeWalkMe("AbTesting - Cannot fetch EndUser Permutation")}function f(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].PermutationId);return t&&n.push(t.PermutationId),n}function p(e){for(var t=0,n=Math.random(),r=0;r<e.length;r++)if(t+=e[r].Percentage,t>=n)return e[r].PermutationId;return e[e.length-1].PermutationId}this.LocalSVNRevision="$Rev: 4971 $";var g,h,m,v=this,y="ABTesting",w="wm-ABPer",b="wm-frcd",S=-1,T=!1,k=31536e4;v.setPermutations=function(e,t){h=e,m=t},v.getPermutations=function(){return h},v.initGetPermutation=function(e,t){s(h,m,e,function(e){S=e,t(e)})},v.getPermutation=function(){return S},v.getPermutationById=function(e){for(var t=0;t<h.length;t++)if(h[t].PermutationId==e)return h[t];return!1},i.apply(null,arguments)}function je(e,t,n){function r(){}this.LocalSVNRevision="$Rev: 4213 $";var o=this,a=1e4;o.sendPermutationToServer=function(r,o,s,u,l,c,d){var f=t.execute({url:e.get()+"/AbTesting/SaveEndUserPermutation",dataType:"jsonp",data:{endUser:r,walkmeUserGuid:nl,source:Co(),permutationId:o,isForcedPermutation:l,availablePermutationsSerialized:i(s),browser:n.browser.string,os:n.os.name,timeout:a,defaultPermutation:u}});f.success(function(e){"error"===e?d():c(e)}),f.error(function(e,t,n){d()})},r.apply(null,arguments)}function Me(e){this.LocalSVNRevision="$Rev: 5138 $";var t=e.navigator.userAgent,n=e.document,r=function(e){var n=t.substring(e).indexOf(".");return t.substring(e,e+n)},i=function(){var e,i,o,a;if(-1!=(a=t.indexOf("MSIE")))e="IE",i=r(a+5);else if(-1!=t.indexOf("Trident")&&-1!=(a=t.indexOf("rv:")))e="IE",i=r(a+3);else if(-1!=(a=t.indexOf("Chrome")))e="Chrome",i=t.substring(a+7,t.lastIndexOf(" "));else if(/Firefox\/(\S+)/.test(t))e="Firefox",i=RegExp.$1;else if(a=-1!=t.indexOf("Safari"))e="Safari",/Version\/(\S+)/.test(t)&&(i=RegExp.$1);else if(-1!=(a=t.indexOf("Opera")))if(e="Opera",/Version\/(\S+)/.test(t))i=RegExp.$1;else{var s=Math.max(t.lastIndexOf(" "),t.lastIndexOf("/"));i=t.substring(s+1)}else(o=t.lastIndexOf(" ")+1)<(a=t.lastIndexOf("/"))&&(e=t.substring(o,a),i=t.substring(a+1));return{name:e,version:i,string:e+" "+i,documentMode:n.documentMode}},o=function(e,t,n){switch(e){case"lt":return n>t;case"lte":return n>=t;case"gt":return t>n;case"gte":return t>=n;default:return t==n}},a=function(e,t){var n=i();return"IE"!=n.name?!1:e?o(t,n.version,e):!0},s=function(e,t,r){var a=i();if("IE"!=a.name)return!1;if(!e)return!0;var s=r&&r.ownerDocument||n,u=s.documentMode;return u||("BackCompat"==s.compatMode?u=5:"7"==a.version&&(u=7)),o(t,u,e)},u=function(e,t,n,r){return r?a(e,t)&&s(e,t,n):a(e,t)||s(e,t,n)},l=function(e){return s(5,null,e)},c=[{n:"Android",os:"Android"},{n:"Linux",os:"Linux"},{n:"X11",os:"UNIX"},{n:"iPad",os:"iOS"},{n:"iPod",os:"iOS"},{n:"iPhone",os:"iOS"},{n:"Mac",os:"MacOS"},{n:"Win",os:"Windows"}],d=function(){for(var e,n=0;n<c.length;n++){var r=c[n].n;if(-1!=t.indexOf(r)){e=c[n].os;break}}return e||(e="Unknown"),{name:e}},f=function(){try{var t=wmjQuery(e);return{height:t.height(),width:t.width()}}catch(n){return null}};return{browser:i(),os:d(),isIE:u,isIEDoc:s,isIEBrowser:a,isQuirksMode:l,getWinSize:f}}function Le(){function e(e){s=e.deployablesGoalManager,l=e.experiments,a=e.lib,d=e.getEndUserGuid,c=a.Logger.wrapCustomerLog(g),u=new pe({lib:a,serverAddress:e.serverAddress,getPermutationId:e.getPermutationId,getEndUserGuid:e.getEndUserGuid,getAuditSource:e.getAuditSource,storageManager:e.storageManager})}function t(e){return Ro(e,p)>-1}function n(e,t){for(var n=[],r=[],i=0;i<e.Goals.length;i++){var o=e.Goals[i];Ro(o.Id,t)>-1?n.push(o):r.push(o)}e.Goals=r,e.CompletedGoals=n}function r(e){for(var t=0;t<l.length;t++){var r=l[t];n(r,e)}}function i(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.Goals.length;o++){var a=i.Goals[o];t.push(a.Id),1==a.IsLinkedGoal&&n.push(a.Id)}}function o(e,t){r(e);for(var n=0;n<l.length;n++){var i=l[n];c("Start watching Experiment goals. ExperimentID : "+i.Id,2);{a.generateNewPlayGuid("ab-"+i.Id)}s.startWatchingDeployable(i,void 0)}t&&t()}this.LocalSVNRevision="$Rev: 4376 $";var a,s,u,l,c,d,f=this,p=[],g="ABTesting",h=function(e){if(e.GoalType==Ds.AbExperiment||t(e.Id)){var n=d(),r=u.syncRetrieveCompletedGoals(n);-1==Ro(e.Id,r)&&(c("Experiment Goal was completed! Goal ID:"+e.Id+", Goal Name : "+e.Name,1),u.updateGoalCompleted(n,e.Id))}},m=!1;this.startWatching=function(e){if(!m){m=!0;var t=[];if(i(l,t,p),0==t.length)return c("No AbTesting goals were defined"),void(e&&e());s.onGoalCompleted(h);var n=d(),r=u.syncRetrieveCompletedGoals(n);r?(c("Completed goals data exists. Starting goals watch"),o(r,e)):(c("No completed goals data exists locally. Fetching from server"),u.asyncRetrieveCompletedGoals(n,t,function(t){c("Completed goals data recieved. Starting goals watch"),o(t,e)},function(){c("WalkMe ABTesting - Error when fetching end-user goals. Removing WalkMe",1),a.removeWalkMe("AbTesting - Cannot fetch EndUser Goals")}))}},f.isGoalReached=function(e){for(var t=u.syncRetrieveCompletedGoals(d()),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},e.apply(null,arguments)}function Oe(e,t,n,r){function i(){os.ElementRecognition.setJQuery(wmjQuery)}function o(e){var t={0:os.ElementRecognition.AlgorithmSensitivity.Low,1:os.ElementRecognition.AlgorithmSensitivity.Medium,2:os.ElementRecognition.AlgorithmSensitivity.High};return t[e]}function a(e,t){var n=os.ElementRecognition.SearchOptions.IGNORE_NOTHING,r=[];e.IsIdentifyByText&&r.push("IDENTIFY_TEXT"),e.IsIgnoreText&&r.push("IGNORE_TEXT"),e.IsIgnoreId&&(r.push("IGNORE_ID"),r.push("IGNORE_NAME")),0!=e.IgnorePosition&&r.push("IGNORE_POSITION"),e.IsIdentifyById&&r.push("IDENTIFY_ID_AND_NAME"),t["data-walkmeid"]&&r.push("IDENTIFY_WALKME_ID");for(var i=0;i<r.length;i++)n|=os.ElementRecognition.SearchOptions[r[i]];return n}function s(e,t,i){var o=new os.ElementRecognition.ElementDescription;o.elementType=u(t.elementXpath.toLowerCase()),o.width=t.elementWidth,o.height=t.elementHeight,o.relativeLeft=t.relativeLeft,o.absY=t.elementAbsY,o.centeredElementWidth=t.centeredElementWidth,o.xpathArrayOriginal=os.TempUtils.xpathStringToArray(t.elementXpath.toUpperCase()),o.xpathArray=os.TempUtils.removeHtmlAndBodyFromXpathArray(o.xpathArrayOriginal),o.xpathArrayToIframe=os.TempUtils.removeHtmlAndBodyFromXpathArray(os.ContextUtils.getXpathUpToIframe(o.xpathArrayOriginal)),o.text=t.textArray&&t.textArray.length>0?r(t.textArray[0],["&",'"',"'",">","<"]):"",t["data-walkmeid"]?o.customSelector="[data-walkmeid='"+t["data-walkmeid"]+"']":(void 0==i||i)&&(o.visibilityFilter=n.getVisibleFilter(e));var a={elementClass:"class",elementId:"id",elementName:"name"};o.attributes={};for(var s in a)o.attributes[a[s]]=t[s];for(var l in t)!t.hasOwnProperty(l)||o.attributes.hasOwnProperty(l)||a[l]||(o.attributes[l]=t[l]);return o}function u(e){var t=e.split("/"),n=t[t.length-1],r=n.split("[")[0];return r}function l(e,t,n,r){var i=new os.ElementRecognition.ElementRecognizerSession(0);Kc(e.StepSensitivity)&&i.setAlgorithmSensitivity(o(e.StepSensitivity)),i.setSearchOptions(a(e,t));var u=s(e,t,n),l=i.recognize(u),c=l&&l.elements&&l.elements.length&&l.elements[0],d=c&&c.element&&c.element.length&&c.element[0];return c&&r&&(r.score=c.totalScore,r.details=c.details),d&&wmjQuery(d).data("iframe",l.context),d}var c=this;c.LocalSVNRevision="$Rev: 5096 $",c.findElement=function(n,r,i){var o;if(t.isPopupStep(n))return Do();if(t.isActionStep(n))return Hr(n).isValid();if(wo(n,5),n.IsJquerySelector){n.ElementDescription.extended=n.ElementDescription.extended||{},n.ElementDescription.extended.elementIframe=null;var a=e.findElements(n,r);return o=a&&a.length&&a[0],o?(o=wmjQuery(o),n.ElementDescription.extended&&o.data("iframe",n.ElementDescription.extended.elementIframe),o):!1}return o=l(n,n.ElementDescription,r,i),o?wmjQuery(o):!1},i.apply(this,arguments)}function Ge(){function e(r,i,o){if(o[0]>0)if(!r||3!==r.nodeType&&4!==r.nodeType){if(r&&1===r.nodeType&&!r.tagName.match(/^(script|style)$/i))for(var a=r.childNodes,s=0,u=a.length;u>s;s++)e(a[s],i,o)}else{var l=t(r.nodeValue);l=l.toLowerCase(),l=n(l),l&&(i.push(l),o[0]--)}}function t(e){return e=e.replace(new RegExp(String.fromCharCode(160),"g")," "),e=e.replace(new RegExp(String.fromCharCode(10),"g"),""),e=e.replace(new RegExp(String.fromCharCode(13),"g"),""),e=e.replace(new RegExp(String.fromCharCode(9),"g"),""),e=e.replace(new RegExp(" ","g"),""),e=mtjQuery.trim(e),e=e.substring(0,vs)}function n(e){if(!r(e))return e;for(var t=-1,n=e.length,o="";++t<n;){var a=e.charAt(t);o+=/[\uD800-\uDBFF]/.test(a)||/[\uDC00-\uDFFF]/.test(a)?i(a):a}return o}function r(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)}function i(e){var t=e.charCodeAt(0),n=t.toString(16).toUpperCase(),r=n.length>2,i="\\"+(r?"u":"x")+("0000"+n).slice(r?-4:-2);return i}var o=this;o.LocalSVNRevision="$Rev: 4843 $",o.getElementTextArray=function(t){var n=[];return e(t,n,[3]),n}}function Ue(e){function t(){}function n(){if(u){for(var t=[],r=0;r<l.length;r++)try{i(l[r],r)}catch(o){t.push(r)}for(var r=t.length-1;r>=0;r--)l.splice(r,1)}l.length&&e.libSetTimeout(n,3e3)}function r(e){return e.nextAll(s).length>0}function i(e,t){var n=e.parent(),i=n.contents().length;r(e)||o(e[0])+t+1==i||e.appendTo(n)}function o(e){for(var t=0;e=e.previousSibling;)t++;return t}var a=this;a.LocalSVNRevision="$Rev: 4367 $";var s=".ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-front:visible",u=!0,l=[];a.addElement=function(t){l.length||e.libSetTimeout(n,3e3),l.push(t)},a.removeElement=function(e){var t=wmjQuery.inArray(e,l);-1!=t&&l.splice(t,1)},a.setState=function(e){u=e},t.apply(null,arguments)}function Fe(e,t,n,r){function i(){s=n.error,n.customerLog("Analytics manager was created",3,l)}function o(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0),n=Math.floor((t.getTime()-e.getTime())/1e3);return 0==n&&(n=1),n}function a(e,t,n){if(ko()||!Au)return!0;var i=Au+"/Analytics/UniqueEndUser",o={userId:e,permutationId:t,endUserGuid:n};r.execute({url:i,data:o})}this.LocalSVNRevision="$Rev: 4054 $";var s,u="wm-ueuT",l="uniqueEndUser",c=this;c.auditUniqueEndUser=function(t,r,i){try{var c=1!=e.getData(u);c&&(a(t,r,i),n.customerLog("auditUniqueEndUser: sent unique user request. userGuid="+t+" permutationId="+r+"endUserGuid="+i,3,l),e.saveData(u,1,o()))}catch(d){s(d,"Failed while auditing unique end users")}},i.apply(null,arguments)}function Be(e,t,n,r,o,a,s){function u(){p=n.getPermutation,g=e.getEndUserGuid,wo=r.wrapCustomerLog(da),f=e.getUserGuid,y=xo}function l(){return(new Date).getTime()+"-"+a()}function c(t){var n=t[0],r=n.auditType,i=n.objectId;if(void 0!=r&&void 0!=i){var o=e.getDeployablesManager(r);if(o&&o.getById){var a=o.getById(i);if(a&&a.userGuid)return a.userGuid}}var u=t[0].shoutOutId;if(void 0!=u){var o=e.getDeployablesManager(s.ShoutOut);if(o&&o.getById){var a=o.getById(u);if(a&&a.userGuid)return a.userGuid}}return f()}function d(e){var t=c(e);return browser=o.browser.string,osType=o.os.name,source=Co(),endUserId=g(),permutation=p(),url=xo(),{serizlizedClickAudits:i(e),userGuid:t,fullUrl:url,source:source,browser:browser,os:osType,permutationId:permutation,endUserGuid:endUserId}}this.LocalSVNRevision="$Rev: 5291 $";var f,p,g,h,m,v,y,w=this;w.SendClickAudit=function(e,t,n,r){if(!ko()){var i=l(),o={auditType:e,objectId:t,auditGuid:i,playInitiator:n,initiatorId:r};return h.sendData(o),i}},w.SendWidgetOpen=function(){if(ko())return!0;var e={userId:f(),fullUrl:xo(),source:Co(),browser:o.browser.string,os:o.os.name,permutationId:p(),endUserGuid:g(),auditGuid:l()};m.sendData(e)},w.SendShoutOutAudit=function(e,t,n){if(!ko()){var r={shoutOutId:e,clickType:t,auditGuid:l(),relatedClickAuditGuid:n};v.sendData(r)}},w.init=function(){h=t.register("ca",{actionUrl:"/Statistics/AddClickAudits",prefixForStorage:"ca",sendingThreshold:1,dataType:"click audit",dataIdFieldName:"Id",requestParamsFunc:d}),m=t.register("wo",{actionUrl:"/Statistics/AddWidgetOpens",prefixForStorage:"wo",sendingThreshold:1,dataType:"widget open",dataIdFieldName:"Id",requestParamsFunc:function(e){return{serizlizedWidgetOpens:i(e)}}}),v=t.register("ac",{actionUrl:"/Statistics/AddShoutOutAudits",prefixForStorage:"ac",sendingThreshold:1,dataType:"shoutOut click",dataIdFieldName:"Id",requestParamsFunc:d})},u.apply(null,arguments)}function We(e,t,n,r){function o(){a=t.register("dca",{actionUrl:"/Statistics/AddDebuggerAudits",prefixForStorage:"dca",sendingThreshold:5,dataType:"debugger audit",dataIdFieldName:"Id",requestParamsFunc:function(t){var o=e.getUserGuid(),a=n.browser.string,s=n.os.name,u=Co(),l=xo(),c=e.getEndUserGuid(),d=r.getPermutation();return{debuggerAuditData:i(t),userGuid:o,fullUrl:l,source:u,browser:a,os:s,permutationId:d,endUserGuid:c}}})}var a,s=this;s.LocalSVNRevision="$Rev: 5081 $",s.sendData=function(e){a.sendData(e)},o.apply(null,arguments)}function Qe(e,t){function n(){}function r(e){return"object"==typeof e&&null!==e}function i(e,t,n){var i;return i=r(e)?c(e,t,n):wmjQuery(e,n)}function a(e,t,n){var r=void 0;if(void 0!=e&&(r=i(e,t,n),r.length>0)){var o=ta(r[0]);"IFRAME"==o||"FRAME"==o?(t&&(t.ElementDescription.extended.elementIframe&&r.data("iframe",t.ElementDescription.extended.elementIframe),t.ElementDescription.extended.elementIframe=r),r=Ho(r)):t&&(t.ElementDescription.extended.elementIframe=!1)}return r}function s(e){return void 0!=e&&mtjQuery.inArray(e,g)>-1?!0:!1}function u(e,t){var n;try{n=e[t]().eq(0)}catch(r){_makeTutorial.Logger.error(r,"runJqueryMethod : element has no method named '"+t+"'"),n=wmjQuery()}return n}function l(e,t){if(void 0!=e.method){var n;n=r(e.method)?e.method.name:e.method,s(n)?t=u(t.eq(0),n):(wo("Unknown jQuery Selector Method : '"+n+"'"),t=wmjQuery())}return t}function c(e,t,n){try{var r=a(e.context,t,n),o=i(e.element,t,r);return o=l(e,o)}catch(s){return wo("jQuery Element Finder: Could not parse input"),wmjQuery()}}function d(e){if(e=wmjQuery.trim(e),!Ao(e,"{")){var t=new Object;return t.element=e,t}try{return o(e)}catch(n){return null}return null}function f(e){function t(e,t){for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}var n={result:null,iframe:null},r=new Array;if(e.params)for(var i=0;i<e.params.length;i++)r.push(e.params[i].value);var o=window;if(e.iframe){if(o=mtjQuery(e.iframe),0==o.length)throw"Iframe not found: "+e.iframe;o=o.contents()[0],o=o.parentWindow||o.defaultView,n.iframe=mtjQuery(e.iframe)}var a=t(e["function"],o);if(!a)throw"Function not found: "+e["function"];var s;if(e["this"]){if(s=t(e["this"],o),!s)throw"'This' not found: "+e["this"]}else s=-1==e["function"].indexOf(".")?null:t(e["function"].substring(0,e["function"].lastIndexOf(".")),o);var u=a.apply(s,r);return n.result=u,n}var p=this;p.LocalSVNRevision="$Rev: 5094 $";var g=["parent","children","next"];p.findElementsByjQueryComplexSelector=function(e){e=yd(e,["&",'"',"'",">"]);var t=d(e),n=c(t);return n},p.getjQueryElementText=function(t){var n=p.findElementsByjQueryComplexSelector(t);return e.checkElementText(n)},p.findElements=function(e,n){if(!e.JquerySelector)return[];var r=e.JquerySelector;r=r.replace(/&quot;/gi,'"'),r=r.replace(/&apos;/gi,"'"),r=r.replace(/&#39;/gi,"'"),r=r.replace(/&amp;/gi,"&"),r=r.replace(/&gt;/gi,">");var i,o="context:",a=",element:",s="func:";if(Ao(r,o)){var u=r.substr(o.length),l=u.substr(u.indexOf(a)+a.length);u=u.substr(0,u.indexOf(a));var p=mtjQuery(u);if(!(p.length>0))return[];e.ElementDescription.extended.elementIframe="IFRAME"==ta(p[0])?p:!1,p=p.contents(),i=mtjQuery(l,p),wo("jQuery selector found these elements:",5),wo(v,5)}else if(Ao(r,s))try{var g=r.substr(s.length),h=mtjQuery.parseJSON(g),m=f(h);m.iframe&&(e.ElementDescription.extended.elementIframe=mtjQuery(m.iframe));var v=mtjQuery(m.result);return(void 0==n||n)&&(v=v.filter(t.getVisibleFilter(e))),wo("func selector found these elements:",5),wo(v,5),v}catch(y){return ic?(console.log("Using jQuery selector with function raised an exception:"),console.log(y)):(wo("Using jQuery selector with function raised an exception:"),wo(y)),[]}else{var w=d(r);i=c(w,e)}return i.length>0&&(void 0==n||n)&&(i=i.filter(t.getVisibleFilter(e))),wo("jQuery selector found these elements:",5),wo(i,5),i},n.apply(null,arguments)}function Ve(e){function t(){}function n(e){e.dataType="json"}this.LocalSVNRevision="$Rev: 4924 $";var r,i,o=this,a=e;o.setFeatures=function(e,t){r=e,i=t},o.execute=function(e){e.dataType=e.dataType?e.dataType:"jsonp","jsonp"===e.dataType&&(r||i&&To())&&n(e);var t=wmjQuery.ajax(e);return a.sendAutomationEvent("ajaxSent",e),t},o.loadTextFile=function(e,t,n,r,i){r=r||function(e,t,n){},mtjQuery.ajax(e,{cache:!!i,dataType:"jsonp",jsonpCallback:t,success:n,error:r})},t.apply(null,arguments)}function He(e,t){function n(){}function r(){for(var t=e.getUiDataProvider().uiObjectsTree(),n=0;n<t.length;n++)if(i(t[n]))return!0;return!1}function i(e){if("task"==e.type())return!0;var t=e.children();if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(i(t[n]))return!0;return!1}function o(){if(!t.isIEBrowser(9,"lte"))return!0;var e="abTasksIE"+t.browser.version;return hc(e)?!0:!1}this.LocalSVNRevision="$Rev: 4206 $";var a=this;a.shouldTrackAbTasks=function(){return e.getSiteConfig().TodoListSettings.isActive&&r()?!0:o()},n.apply(null,arguments)}function $e(e,t,n){function r(){v=e.wrapCustomerLog(ha)}function i(e,t){for(var n=0;n<e[0].ownerDocument.styleSheets.length;n++)if(e[0].ownerDocument.styleSheets[n][t])return!0;return!1}function o(e,t,n,r){v("Start loading embeded file for font '"+e.name+"'",4),y.push({name:"walkme-"+e.name,tagId:t,head:n}),wmjQuery.ajax({type:"GET",url:r+".js",dataType:"script",cache:!0})}function a(e){for(var t=0;t<y.length;t++)if(y[t].name==e){var n=y[t];return y.splice(t,1),n}}function s(e,r,i,o){v("Start loading eot file for font '"+e.name+"'",4),o+=".eot",n.isIEBrowser(8)&&hc("fixFontsCompatibility")&&(o+="?frame="+t.getFrameIndex(i[0].ownerDocument.parentWindow));var a=Fa.to_html(I,{family:"walkme-"+e.name,src:o,weight:"normal",style:"normal"});n.isIEBrowser(8)?g(a,r,i):p(a,i,e.name,r)}function u(e){e&&(l(top),C.libSetTimeout(function(){u(e-1)},100))}function l(e){try{var t=wmjQuery("head",e.document);g("",w,t),C.libSetTimeout(function(){t.find("#"+w).remove()},100)}catch(n){}for(var r=e.frames,i=0;i<r.length;i++)l(r[i])}function c(e,t,n,r){if(!n&&!r)return void v("Stop Tracking font '"+e.name+"' because we don't have success/fail Callback",4);v("Start tracking font '"+e.name+"'",4);var i=wmjQuery(t.createElement("span")).addClass("walkme-font-tester").important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","font-family":b,"font-size":"250px","line-height":"normal"}).html((e.dummeyText||S)+"a").appendTo(wmjQuery("body",t).or("html",t)),o=i[0].offsetWidth,a=i[0].offsetHeight,s="walkme-"+e.name;i.important("font-family",s+","+b),d(i,o,a,k,s,n,r)}function d(e,t,n,r,i,o,a){var s=5;v("================================================================================",s),v("Tracking font '"+i+"'",s),v("Comparison tester width: "+t+" === "+e[0].offsetWidth,s),v("Comparison tester height: "+n+" === "+e[0].offsetHeight,s),v("================================================================================",s),t===e[0].offsetWidth&&n===e[0].offsetHeight?0>r?(v("Finished with failure tracking font '"+i+"'",4),e.remove(),a&&a()):C.libSetTimeout(function(){d(e,t,n,r-T,i,o,a)},T):(v("Finished successfully tracking font '"+i+"'",4),e.remove(),o&&o())}function f(){return!!document.createStyleSheet}function p(e,t,n,r,i){try{var o,a=t?t[0].ownerDocument:wmjQuery("body")[0].ownerDocument;i&&(o=h(i,a));var s=void 0===o?a.createStyleSheet(""):a.createStyleSheet("",o);s.cssText=e,s.owningElement.id=r,s.walkmeToRemove=!0,s[n]=!0}catch(u){throw v("Cannot inject style sheet"),u}}function g(e,t,n,r,i){var o,a=n||wmjQuery("head");ic&&mtjQuery("#"+t,a).remove();var s=wmjQuery('<style type="text/css" class="walkme-to-remove">'+(i?"":e)+"</style>");if(t&&s.attr("id",t),r&&(o=a.find("#"+r)),o&&o.exist()?o.first().before(s):a.append(s),i){var u=s.prop("styleSheet");u?u.cssText=e:s.append(e)}return s}function h(e,t){for(var n=t.styleSheets,r=0;r<n.length;r++)if(n[r].owningElement.id==e)return r}var m=this;m.LocalSVNRevision="$Rev: 5176 $";var v,y=[],w="walkme-framesets-fix-id",b="Comic Sans MS",S="QW@HhsXJ",T=50,k=2500,I=function(e,t,n){var r=this;return r.b(n=n||""),r.b("@font-face {"),r.b("\n"+n),r.b("font-family: '"),r.b(r.v(r.f("family",e,t,0))),r.b("';"),r.b("\n"+n),r.b("src: url("),r.b(r.v(r.f("src",e,t,0))),r.b(") "),r.s(r.f("format",e,t,1),e,t,0,69,89,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("format('"),n.b(n.v(n.f("format",e,t,0))),n.b("')")}),e.pop()),r.b(";"),r.b("\n"+n),r.b("font-weight: "),r.b(r.v(r.f("weight",e,t,0))),r.b(";"),r.b("\n"+n),r.b("font-style: "),r.b(r.v(r.f("style",e,t,0))),r.b(";"),r.b("\n"+n),r.b("}"),r.fl()},C=ua.get("TimerManager");m.font=function(t,r,a,l){r=r||wmjQuery("head"),r.length||(e.error(null,"cannot inject font - head element does not exist"),l&&l());var d=r[0].ownerDocument;if(n.isIEDoc(8,"lte",r[0])&&"widget-font"!=t.name&&!hc("loadAllFonts"))return v("Not loading font '"+t.name+"' (IE7/8), to load all fonts enable the loadAllFonts feature",4),void(a&&a());v("Start loading font '"+t.name+"'",4);var f="wm-font-"+t.id,p=wmjQuery("#"+f,r);if(p&&p.length)return void c(t,d,a,l);var g=m.getResourcePath(t.url);if(n.isIEDoc(8,"lte",r[0])){if(i(r,t.name))return void c(t,d,a,l);s(t,f,r,g)}else o(t,f,r,g);var h;h=n.isIEDoc(8,null,r[0])?function(){hc("highPerf")||u(5),a&&a()}:a,c(t,d,h,l)},m.preloadResources=function(e,t){var r;e=e||wmjQuery("head");for(var i=0;i<t.length;i++){var r=m.getResourcePath(t[i].url);r+=n.isIEDoc(8,null,e[0])?".eot":".js";var o=new Image;o.src=r,o.onload=function(){}}},m.fonts=function(e,t,n,r){var i=e.length,o=!1;if(i||n&&n(),n||r)for(var a=0;a<e.length;a++)m.font(e[a],t,function(){0==--i&&(o?r&&r():n&&n())},function(){o=!0,0==--i&&r&&r()});else for(var a=0;a<e.length;a++)m.font(e[a],t)},m.finishFontLoad=function(e,t){v("finish loading font '"+e+"'",4);for(var n="",r=0;r<t.length;r++)n+=Fa.to_html(I,{family:e,src:t[r].src,format:t[r].format,weight:t[r].weight,style:t[r].style});var i=a(e);m.injectCss(n,i.tagId,i.head,e,null,!0)},m.getResourcePath=function(e){return e&&e.indexOf("/")?e:e=Pu+e},m.injectCss=function(e,t,n,r,i,o){f()?p(e,n,r,t,i):g(e,t,n,i,o)},m.refreshContentCss=function(e,t){var n=g(t+" :before,"+t+" :after{content:none !important;}",null,e);C.libSetTimeout(function(){n.remove()},0)},m.emptyStyleSheets=function(){if(f())for(var e=document.styleSheets,t=0;t<e.length;t++)e[t].walkmeToRemove&&(e[t].disabled=!0)},r.apply(null,arguments)}function ze(){function e(){d.redrawElements()}function t(e){function t(){b&&(d.redrawElements(),Sl.libSetTimeout(t,v)),w=b,b=!1}w?S||(b=!0):(d.redrawElements(),w=!0,S=!0,Sl.libSetTimeout(t,v),Sl.libSetTimeout(function(){S=!1},y))}var n=this;n.LocalSVNRevision="$Rev: 5128 $";var r,i,o,a,s,u,l,c,d,f,p,g,h=[],m=!1,v=2e3,y=250;n.ready=function(e,t,h,v,y,w,b,S,T,k,I,C){if(g=C.wrapCustomerLog(xa),r=e,i=t,f=I,o=h,a=v,s=y,u=w,l=b,c=S,p=[o,a,s,u,l,c],d=n.getSpaConfigValue("legacyRedrawer",!1)?k:T,n.isEnabled()){for(var x=[],_=0;_<p.length;_++)p[_].start(),p[_].isActivated()&&x.push(p[_].getSpaTypeName());x.length>0?(m=!0,g("UIChangeTracker - Creating UIChangeTracker for types: "+x.join(", ")+". Using the following redrawer: "+d.getRedrawerName(),2)):g("UIChangeTracker - Did not activate",2)}},this.isEnabled=function(){var e=r.isWalkMeVisible();return e},this.stop=function(){if(n.isEnabled())for(var e=0;e<p.length;e++)p[e].isActivated()&&p[e].stop()},n.bind=function(e){"ElementsRedrawerLegacy"==d.getRedrawerName()&&h.push(e)},n.bindToTracker=function(e,t){t&&"ElementsRedrawerLegacy"!=d.getRedrawerName()||h.push(e)},n.unbind=function(e){for(var t=h.length-1;t>=0;t--)if(h[t]===e){h.splice(t,1);break}},n.callListeners=function(){for(var e=0;e<h.length;e++)try{h[e]()}catch(t){}},n.triggerUIChange=function(){e()},n.triggerThrottledUIChange=function(){t()};var w=!1,b=!1,S=!1;n.isActivated=function(){return m},n.getElementRedrawerType=function(){return d.getRedrawerName()},n.getSpaConfigValue=function(e,t){var n=t;return i.get()&&i.get().Settings&&i.get().Settings.spaConfig&&(n=Vo(i.get().Settings.spaConfig,e,t)),n},n.getSpaConfigIntValue=function(e,t){return t=void 0===t?0:t,parseInt(n.getSpaConfigValue(e,t))}}function qe(){function e(){r=window.onhashchange,window.onhashchange=function(){r&&r.apply(null,arguments),n.triggerUIChange()}}var t=this;t.LocalSVNRevision="$Rev: 5081 $";var n,r=null,i=!1;t.ready=function(e){n=e},t.start=function(){n.getSpaConfigValue("hash")&&(e(),i=!0)},t.stop=function(){i&&(window.onhashchange=r,r=null,i=!1)},t.isActivated=function(){return i},t.getSpaTypeName=function(){return"Hash"}}function Ke(){function e(){window.history&&window.history.pushState&&(r=window.onpopstate,window.onpopstate=function(){r&&r.apply(null,arguments),n.triggerUIChange()},i=window.history.pushState,window.history.pushState=function(){i.apply(window.history,arguments),n.triggerUIChange()})}var t=this;t.LocalSVNRevision="$Rev: 5081 $";var n,r=null,i=null,o=!1;t.ready=function(e){n=e},t.start=function(){n.getSpaConfigValue("history")&&(e(),o=!0)},t.stop=function(){o&&(window.onpopstate=r,r=null,window.history.pushState=i,i=null,o=!1)},t.isActivated=function(){return o},t.getSpaTypeName=function(){return"History"}}function Xe(e){function t(){wo("UIChangeTracker - iframeLoadSelector config defined. Listening to iframe load events for "+n(),2),wmjQuery(n()).on("load.wmSpa",function(){i.triggerUIChange()})}function n(){return i.getSpaConfigValue("iframeLoadSelector")}var r=this;r.LocalSVNRevision="$Rev: 5081 $";var i,o=!1;r.ready=function(e){i=e},r.start=function(){i.getSpaConfigValue("iframeLoadSelector")&&(t(),o=!0)},r.stop=function(){n()&&wmjQuery(n()).off("load.wmSpa"),o=!1},r.isActivated=function(){return o},r.getSpaTypeName=function(){return"IFrame load"}}function Ye(){function e(){wo("UIChangeTracker - clickSelector config defined. Listening to click events for "+t(),2),wmjQuery(document).on("mousedown.wmSpa",t(),r.triggerThrottledUIChange),wmjQuery(document).on("click.wmSpa",t(),r.triggerThrottledUIChange),wmjQuery(document).on("mouseup.wmSpa",t(),r.triggerThrottledUIChange)}function t(){return r.getSpaConfigValue("clickSelector")}var n=this;n.LocalSVNRevision="$Rev: 5081 $";var r,i=!1;n.ready=function(e){r=e},n.start=function(){t()&&(e(),i=!0)},n.stop=function(){t()&&(wmjQuery(document).off("mousedown.wmSpa"),wmjQuery(document).off("click.wmSpa"),wmjQuery(document).off("mouseup.wmSpa")),i=!1},n.isActivated=function(){return i},n.getSpaTypeName=function(){return"Click"}}function Je(){function e(){t(wmjQuery(document))}function t(e){e.on("click.wmUITrack",o.triggerThrottledUIChange),e.on("dblclick.wmUITrack",o.triggerThrottledUIChange),e.on("mousedown.wmUITrack",o.triggerThrottledUIChange),e.on("mouseup.wmUITrack",o.triggerThrottledUIChange),o.getSpaConfigValue("userInputHoverOff")||(e.on("hover.wmUITrack",o.triggerThrottledUIChange),e.on("mouseenter.wmUITrack",o.triggerThrottledUIChange),e.on("mouseleave.wmUITrack",o.triggerThrottledUIChange),e.on("mousemove.wmUITrack",o.triggerThrottledUIChange),e.on("mouseout.wmUITrack",o.triggerThrottledUIChange),e.on("mouseover.wmUITrack",o.triggerThrottledUIChange)),e.on("keydown.wmUITrack",o.triggerThrottledUIChange),e.on("keypress.wmUITrack",o.triggerThrottledUIChange),e.on("keyup.wmUITrack",o.triggerThrottledUIChange),e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{t(wmjQuery(this.contentWindow.document)),wmjQuery(this).on("load.wmUITrack",function(){t(wmjQuery(this.contentWindow.document))})}catch(e){wo("User input change tracker is not listening for all iframes.. This can occur for cross-domain iframes ",4)}})}function n(){wo("UIChangeTracker - Stopped listening to User Input",2),r(wmjQuery(document))}function r(e){e.off("click.wmUITrack"),e.off("dblclick.wmUITrack"),e.off("mousedown.wmUITrack"),e.off("mouseup.wmUITrack"),o.getSpaConfigValue("userInputHoverOff")||(e.off("hover.wmUITrack"),e.off("mouseenter.wmUITrack"),e.off("mouseleave.wmUITrack"),e.off("mousemove.wmUITrack"),e.off("mouseout.wmUITrack"),e.off("mouseover.wmUITrack")),e.off("keydown.wmUITrack"),e.off("keypress.wmUITrack"),e.off("keyup.wmUITrack"),e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{r(wmjQuery(this.contentWindow.document)),wmjQuery(this).off("load.wmUITrack")}catch(e){wo("User input change tracker did not stop listening for all iframes.. This can occur for cross-domain iframes ",4)}})}var i=this;i.LocalSVNRevision="$Rev: 5081 $";var o,a=!1;i.ready=function(e){o=e},i.start=function(){o.getSpaConfigValue("userInput")&&(e(),a=!0)},i.stop=function(){n(),a=!1},i.isActivated=function(){return a},i.getSpaTypeName=function(){return"User input"}}function Ze(e){function t(){n(window),i(wmjQuery(document))}function n(e){e.XMLHttpRequest&&(r(e.XMLHttpRequest),c=e.XMLHttpRequest.prototype.send),e.ActiveXObject&&(r(e.ActiveXObject),d=e.ActiveXObject.prototype.send)}function r(e){var t=e.prototype.send,n=function(){var e=this.onreadystatechange;this.onreadystatechange=function(){e&&e.apply(this,arguments),l.triggerThrottledUIChange()},t.apply(this,arguments)};e.prototype.send=n}function i(e){e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{n(this.contentWindow),i(wmjQuery(this.contentWindow.document)),wmjQuery(this).on("load.wmAjaxResposive",function(){i(wmjQuery(this.contentWindow.document))})}catch(e){wo("Ajax calls were not overridden for all iframes. (ajax calls ui tracker). This can occur for cross-domain iframes ",4)}})}function o(){wo("UIChangeTracker - Stopped listening to Ajax calls",2),a(window),s(wmjQuery(document))}function a(e){e.XMLHttpRequest&&(e.XMLHttpRequest.send=c),e.ActiveXObject&&(e.ActiveXObject.send=d)}function s(e){e.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{a(this.contentWindow),s(wmjQuery(this.contentWindow.document)),wmjQuery(this).off("load.wmAjaxResposive")}catch(e){wo("Ajax calls were not overridden for all iframes. (ajax calls ui tracker). This can occur for cross-domain iframes ",4)}})}var u=this;u.LocalSVNRevision="$Rev: 5081 $";var l,c,d,f=!1;u.ready=function(e){l=e},u.start=function(){l.getSpaConfigValue("ajaxCalls")&&(t(),f=!0)},u.stop=function(){o(),f=!1},u.isActivated=function(){return f},u.getSpaTypeName=function(){return"Ajax Calls"}}function et(){function e(){p=!1,s.callListeners(),t()}function t(){for(var e=o.getLaunchers(),t=0;t<e.length;t++){launcher=e[t];var i=d.getTimer(n);r(launcher)?o.showLauncherForSticky(launcher):launcher.drawable&&launcher.drawable.recalculateOrDestory(),i("Finished looking for/drawing launcher named "+launcher.Name)}}function n(e){c(e,5)}function r(e){var t=e.drawable&&e.drawable.isDrawn();return!e.actionInProgress&&!t}var i=this;i.LocalSVNRevision="$Rev: 5127 $";var o,a,s,u,l,c,d,f=300,p=!1;i.ready=function(e,t,n,r,i){o=e,a=t,s=n,l=i.wrapCustomerLog(xa),c=i.wrapCustomerLog(_a),d=r},i.redrawElements=function(){var t=function(){if(p)return void l("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);l("UIChangeTracker - UI change triggered",3),
p=!0;var t=s.getSpaConfigIntValue("redrawTimeout",f);l("UIChangeTracker - redrawing in "+t,4),u&&(u.clear(),u=void 0),u=a.libSetTimeout(e,t)};a.libSetTimeout(t,0)},i.getRedrawerName=function(){return"ElementsRedrawer"}}function tt(){function e(){s=!1,i.getSpaConfigValue("iframeLoadSelector")||i.getSpaConfigIntValue("dontDestoryBalloons")||(Ll=!1,Di()),n.showAllLaunchers(),i.callListeners()}var t=this;t.LocalSVNRevision="$Rev: 5294 $";var n,r,i,o,a=300,s=!1;t.ready=function(e,t,o){n=e,r=t,i=o},t.redrawElements=function(){var t=function(){if(s)return void wo("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);wo("UIChangeTracker - UI change triggered",3),s=!0,_lastRedrawTime=new Date;var t=[];i.getSpaConfigValue("iframeLoadSelector")||i.getSpaConfigIntValue("dontDestoryBalloons")||(vo(),t.push(n.releaseBalloons)),i.getSpaConfigIntValue("dontDestoryLaunchers")||t.push(function(e){n.releaseLaunchers(e,void 0,!0)}),In({functionsToExecute:t,successCallback:function(){var t=i.getSpaConfigIntValue("redrawTimeout",a);wo("UIChangeTracker - redrawing in "+t,4),o&&(o.clear(),o=void 0),o=r.libSetTimeout(e,t)}})};i.getSpaConfigIntValue("syncUiChange")?t():r.libSetTimeout(t,0)},this.getRedrawerName=function(){return"ElementsRedrawerLegacy"}}function nt(e){function t(){return r||(r=Pi(),Al==ys.PAUSED&&(r.state=Al)),r}function n(e){if(void 0==i){var n=t();i=!Ju.surveyIsShown()&&e&&(n.state==ys.PAUSED||n.state==ys.NOT_RUNNING)||!e&&(n.state==ys.PAUSED||n.state==ys.NOT_RUNNING||gr(n.tutorial,n.step,void 0,void 0,void 0,Ra.Sandbox)<0)}return i}this.LocalSVNRevision="$Rev: 5209 $";var r,i,o,a={clearCache:function(){r=void 0,i=void 0,o=void 0},checkShouldAutoStart:function(r,i,a){var s=!1;if(r!=e.Tutorial)return!0;if(!o){var u=_c(i.Id),l=Li(u),c=Oi(u,!1),d=i.IsWelcomeStep,f=t();s=!(f.state==ys.RUNNING&&f.step==l)&&n(a)&&(c&&d||gr(u,l,void 0,void 0,void 0,Ra.Sandbox)>=l&&!c),o=s||o}return s}};return a}function rt(e,t,n,r,i,o){function a(e,t,r){function i(t){var n=s(e,t),r=Vo(t.Settings,"ASRep","visit");return""===r&&(r="visit"),d.checkRepeatCookie(n,r)}var o;p("Checking deployable named: "+t.Name,4);var a=Vo(t.Settings,"ASEnabled",0);if(a){if(o=i(t),!o.shouldStart)return p("Repeat condition doesn't meet, not auto starting: "+t.Name,3),!1;var l=Vo(t.Settings,"ASCTEnabled",0);if(1!=l)return p("Non-conditional autostart, trying to auto start "+t.Name,3),u(e,t,o);p("Autostart is enabled for deployable: "+t.Name,3);var f=Vo(t.Settings,"ASCT","");if(""!=f)try{var g={stopPollingAfterEvaluateTrue:!1,featureName:Ta,elementName:t.Name},h=ua.create("ConditionChecker",g),m=!1;h.onEvaluated(function(r){if(r){p("Autostart condition met, trying to auto start: "+t.Name,3),n.clearCache();var i=u(e,t,o,m);i&&-1!=o.repeatCookieExpiry&&h.cleanResources()}Cl("WtAutoStartConditionEvaluated",t)}),h.evaluateAsync(f),m=!0,h.getCachedValue()||p("Condition didn't meet, not starting deployable: "+t.Name,3)}catch(v){}}var y=Ri(t,Ts.Action);if(y.length>0&&(o=i(t),o.shouldStart))for(var w=0;w<y.length;w++)if(c(e,t,y[w],o))return!0;return!1}function s(e,t){return 0==e?"wm-ASRep-"+t.Id:"wm-ASRep-"+e+"-"+t.Id}function u(e,t,r,i){if(n.checkShouldAutoStart(e,t,i)){r.store();var a=parseFloat(Vo(t.Settings,"Delay",0));return a?o.libSetTimeout(function(){l(e,t)},1e3*a):l(e,t),!0}return!1}function l(e,t){r.get(e).activateById(t.Id,{type:bs.AUTOSTART})}function c(e,t,n,r){switch(n.Type){case ks.AUTO_START:if(jc(n.Content))return u(e,t,r)}return!1}var d=this,p=t.wrapCustomerLog(Ta),g=[i.ShoutOut,i.ShoutOutBar,i.Tutorial,i.Survey];d.LocalSVNRevision="$Rev: 5250 $",this.run=function(){p("Trying to find a deployable that can auto start",1),n.clearCache();for(var e=0;e<g.length;e++)for(var t=r.get(g[e]),i=t.getAll(),o=0;o<i.length;o++)t.autoStartEnabled(i[o].Id)&&a(g[e],i[o])},this.checkRepeatCookie=function(n,r){var i={shouldStart:!0,repeatCookieExpiry:-1};if("always"==r);else{"visit"==r&&(n+="-v");var o=1;e.getData(n,void 0,void 0,o)==o?i.shouldStart=!1:f(r)?i.repeatCookieExpiry=r:"visit"==r?i.repeatCookieExpiry=ja:"once"==r?i.repeatCookieExpiry=La:t.error(new Error("checkRepeatCookie bad value: "+r))}return i.store=function(){i.repeatCookieExpiry>=0&&e.saveData(n,1,i.repeatCookieExpiry)},i}}function it(e,t,n,r,i){function o(t,n){var r=1e3*parseFloat(i.getSettingsValue(t.Settings,"Delay",0)),o=n&&e&&e.enabled()?2*e.crossDomainSampleRate():1;return Math.max(r,o)}function a(){var e=/walkme=([0-9]+)-?([0-9]*)/,t=e.exec(window.location.href);if(t&&t.length>1){var n=t[2]||t[1],i=t[2]?t[1]:r.Tutorial;return{type:parseInt(i,10),id:parseInt(n,10)}}}var s;this.run=function(){var e=a();if(e){var i=e.type==r.Tutorial,u=t.get(e.type);if(!u)return;var l=u.getById(e.id);if(!l)return;var c=o(l,i);Sl.libSetTimeout(function(){u.activateById(e.id,{type:n.getPlayInitiatorEnum().PERMALINK}),i&&(s=!1)},c),i&&(s=!0)}},this.isStartingWalkthru=function(){return s}}function ot(){function e(e){t=e}this.LocalSVNRevision="$Rev: 4473 $";var t,n=this;n.set=function(e){t=e},n.get=function(){return t},e.apply(n,arguments)}function at(e,t,n){function r(){var t=n.getData(u);if(t==c&&(t=d),!t&&t!==d&&e.walkme_get_language)try{t=e.walkme_get_language()}catch(r){}return t?t:d}function i(e){return n.getData(u)==e}function o(e,t,r){var i=e.url;return t?(a(t,e.languages)?(i=i.substring(0,i.length-3),i=i+"_"+t+".js"):r||n.removeData(u),i):i}function a(e,t){for(var n=0;n<t.length;n++)if(t[n].shortName==e)return!0;return!1}this.LocalSVNRevision="$Rev: 5230 $";var s=this,u="wm-lang",l=31536e3,c="_default_",d="",f=[],p=[];s.setLanguages=function(e){f.length=p.length=0;for(var t=0;t<e.length;t++)for(var n=e[t].languages,r=0;r<n.length;r++){var i=n[r];f.push(i),i.showInPlayer&&p.push(i)}},s.getMenuLanguages=function(){return p},s.getCurrentLanguage=function(){var e=r();return a(e,f)?e:d},s.changeLanguage=function(e){var t=e;return e===d&&(t=c),i(t)||!a(e,f)?!1:(n.saveData(u,t,l),!0)},s.fixLanguageUrlInDataFiles=function(e,t){for(var n=r(),i=0;i<e.length;i++){var a=e[i];a.url=o(a,n,t)}return e}}function st(){function e(e){var t=wmjQuery.inArray(e,u);t>-1&&u.splice(t,1)}function t(e){a||(a=i()),a.css({zIndex:e.zIndex,backgroundColor:e.color||"#000",opacity:e.opacity||.7}),a.insertBefore(e.element)}function n(e,t){return e.zIndex>t.zIndex||e.zIndex==t.zIndex&&e.index>t.index}function r(){if(u.length){for(var e=u[0],t=1;t<u.length;t++)n(u[t],e)&&(e=u[t]);return e}}function i(){var e=wmjQuery('<div id="walkme-overlay-all" style="position: fixed; height: 100%; width: 100%; top: 0; left: 0;"/>');return e}var o=this;o.LocalSVNRevision="$Rev: 5287 $";var a,s,u=[];this.create=function(i,o,l){var c={element:i,color:l,opacity:o};return{remove:function(){e(c),c==s&&(s=r(),s?t(s):(a.remove(),a=null))},show:function(){c.zIndex=i[0].style.zIndex,c.index=i.index(),wmjQuery.inArray(c,u)<0&&u.push(c),(!s||s==c||n(c,s))&&(s=c,t(c))}}}}function ut(e,t,n,r,i){function o(){s=t.get(),u=e.getEndUserGuid(),l=n.get(),c=l+"/EndUserStorage/Get"}var a=this;a.LocalSVNRevision="$Rev: 5081 $";var s,u,l,c,d=1e4;a.get=function(e,t,n,o){var a={walkmeUserGuid:e,source:s,endUserGuid:u,secondsSinceUpdate:t};i.execute({url:c,data:a,success:function(i,a,l){i.Data.ErrorMessage?(r.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+e+", source: "+s+", end user: "+u+", seconds since update: "+t+". Error: "+i.Data.ErrorMessage+"."),o&&o()):n(i.Data)},error:function(n,i,a){r.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+e+", source: "+s+", end user: "+u+", seconds since update: "+t+". Error: "+i+"."),o&&o()},timeout:d})},o.apply(null,arguments)}function lt(e,t,n,r,i,a,s,u){function l(){y=n,w=t.getUserGuid(),b=t.getEndUserGuid(),S=i.get(),T=!1}function c(){var e=r.getData(D,null,w),t=r.getData(E,null,w);return!C&&(e!=b||t!=S)}function d(){var e=r.getInternalKeys(w);e=wmjQuery.extend(e,r.getInternalKeys(w,"WM-"));for(var t=0;t<A.length;t++)wmjQuery.each(e,function(n){0==n.indexOf(A[t])&&delete e[n]});for(var n in e)e.hasOwnProperty(n)&&r.removeData(n,w)}function f(){r.saveData(D,b,La,w),r.saveData(E,S,La,w)}function p(e){var t=u.getStorageType(),n=t[x]||_;return null===e||e>=n}function g(e,t,n,r){a.get(w,e,function(e){v.updateLocalStorage(e,t),k=0,n&&n()},function(){k=1,r&&r()})}function h(e){return k}function m(t,n,r){var i=!1;return n>=e.TIME_PERIODS.OneHourSeconds&&(i=!0),i}var v=this;v.LocalSVNRevision="$Rev: 5081 $";var y,w,b,S,T,k,I=!1,C=!0,x="ss_ii",_=ja,D="wm-ceug",E="wm-cenv",A=["wm-c-test","wm-ABPer","wm-frcd","wm-dbg-cnf","wm-dbg","wm-ueug","wm-fgug","wm-gb","wm-load-testme","wm-wfow","wm-prsst","wm-sf-lst-usr","wm-sf-users-data","wm-sat","wm-sst","wm-sk","wm-SrvSmt","wm-wtchd","wm-cond-win","wm-prf-stt","wm-prf-snk","wm-cdstop","wm-cdplay","wm-po-pc","wm-po-r","wm-po-q","wm-dt","wm-ne","wm-nx","wm_abg_","wm_ct_","wm-po-p",D,E];v.init=function(t,n){if(T)return void(t&&t());T=!0;var i=r.getData(e.STORAGE_KEYS.lastGetDataTime,null,w);i&&(C=!1),c()&&(d(),i=null),f();var o=s.getDateAtUTC(),a=null==i?null:(o-i)/1e3;p(a)?g(a,o,t,n):t&&t()},v.updateLocalStorage=function(t,n){I=C?!0:!1;for(var i=0;i<t.length;i++){var a=t[i];a.IsDeleted?r.removeData(a.Key,w):r.saveData(a.Key,o(a.Value),a.SecondsToExpiry,w)}r.saveData(e.STORAGE_KEYS.lastGetDataTime,n,Ma,w)},v.shouldUpdateOldKeys=function(){return I},v.getStorageType=r.getStorageType,v.refreshGetData=r.refreshGetData,v.saveData=function(e,t,n,i){void 0==i&&(i=w),m(e,n,i)&&y.update(e,t,n,i),r.saveData(e,t,n,i)},v.getData=function(e,t,n,i){return void 0!==i&&h(n)&&(t=i),r.getData(e,t,n)},v.addToDictionary=r.addToDictionary,v.removeData=function(e,t){void 0==t&&(t=w),y.remove(e,t),r.removeData(e,t)},v.addToQueue=r.addToQueue,v.convertOldCookieStorage=r.convertOldCookieStorage,v.increment=r.increment,v.getInternalKeys=r.getInternalKeys,v.removeAllData=r.removeAllData,v.sessionSetData=r.sessionSetData,v.sessionGetData=r.sessionGetData,v.setSyncFlag=r.setSyncFlag,l.apply(null,arguments)}function ct(e,t,n,r,i){function o(){s=e.getUserGuid(),u=e.getEndUserGuid(),l=n.get(),c=r.register("us",{actionUrl:"/EndUserStorage/Update",prefixForStorage:"us",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:a.updateRequestParamsFunc,shouldTruncateData:!1}),d=r.register("rs",{actionUrl:"/EndUserStorage/Remove",prefixForStorage:"rs",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:a.removeRequestParamsFunc,shouldTruncateData:!1})}var a=this;a.LocalSVNRevision="$Rev: 5156 $";var s,u,l,c,d;a.update=function(e,n,r,i){s=i||s;var o={Key:e,Value:t.toJSON(n),Expiry:r};c.sendData(o)},a.remove=function(e,t){s=t||s,d.sendData({Key:e})},a.getUpdateTypedDataSender=function(){return c},a.getRemoveTypedDataSender=function(){return d},a.updateRequestParamsFunc=function(e){return{walkmeUserGuid:s,source:l,endUserGuid:u,keyValueExpiryListSerialized:t.toJSON(e)}},a.removeRequestParamsFunc=function(e){return{walkmeUserGuid:s,source:l,endUserGuid:u,keyListSerialized:t.toJSON(e)}},o.apply(null,arguments)}function dt(e,t,n,r,i){function o(){g=n.wrapCustomerLog("SettingsCacheManager")}function a(){var n=t.getPublishDate(),r=t.getUrl();if(g("SettingsCacheManager.shouldCheckSettings - publishDate: "+new Date(n),5),g("SettingsCacheManager.shouldCheckSettings - settingsUrl: "+r,5),n&&r){h=e.getStorageManagerInstance(c);var i=h.isEnabled();if(g("SettingsCacheManager.shouldCheckSettings - storageManagerEnabled: "+i,5),i){var o=h.getData(d);return g("SettingsCacheManager.shouldCheckSettings - settingsFileCacheBust: "+o,5),!o}}return!1}function s(){var e=t.getUrl()+"?b="+(new Date).getTime();g("SettingsCacheManager - Fetching newest settings file from: "+e,3),i.execute({url:e,cache:!1,dataType:"jsonp",jsonpCallback:"fixedCallback",success:u,error:l})}function u(e,t,n){var i=e.PublishDate;if(g("SettingsCacheManager.settingsFileReceived - publishDate: "+new Date(i),5),i){var o=((new Date).getTime()-i)/1e3;if(g("SettingsCacheManager.settingsFileReceived - secondsSincePublish: "+o,5),f>o){var a=f-o;g(r.formatString("SettingsCacheManager - Will fetch newset settings file in the next {0} seconds",a),3),h.saveData(d,!0,a)}}}function l(e,t,n){g(r.formatString("SettingsCacheManager - Error fetching settings file. jqXHR: {0}, textStatus: {1}, errorThrown: {2}",e,t,n))}var c="jstorage",d="wm-settings-cache-bust",f=3600,p=this;p.LocalSVNRevision="$Rev: 5081 $";var g,e,h;this.start=function(){g("SettingsCacheManager.start - Check if need to fetch settings ",5),a()?s():g("SettingsCacheManager - No need to check settings file",3)},o.apply(null,arguments)}function ft(e,t,n,r,i){function o(){g=e.getEndUserGuid(),h=e.getUserGuid()}function a(e){for(var n in e)if(e.hasOwnProperty(n)){var r=s(n,e);r.Key&&t.saveData(r.Key,r.Value,r.Expiry,h)}}function s(e,t){var n,r={};if(m[e])n=m[e];else if(w[e])n=u(e);else{var i=d(e);if(i){var o=i.KeyWithoutSuffix;v[o]?n=v[o]:y[o]&&(n=l(i))}}return n&&(r.Key=e,r.Value=t[e],r.Expiry=n),r}function u(t){var n=w[t],i=n.SettingsKey,o=n.PropertyForKey,a=r.getSettingsValue(e.getSiteConfig().Settings[i],o,void 0),s=c(a);return s}function l(e){var t=y[e.KeyWithoutSuffix],i=e.SuffixParts;if("v"==i[i.length-1])return ja;for(var o=0;o<t.length;o++){var a=t[o];if(a.Parts==i.length){var s,u=a.DeployableTypeIndex,l=void 0!==u?i[u]:a.DeployableType,d=n.get(parseInt(l)),f=d.getById(i[a.DeployableIdIndex]);a.SubSettings?s=r.getSettingsValue(f.Settings,a.SubSettings,void 0):f&&(s=f.Settings);var p;return s&&(p=r.getSettingsValue(s,a.SettingsKey,void 0)),c(p)}}}function c(e){var t;return r.isNumber(e)&&e>=ja?t=e:"once"==e&&(t=La),t}function d(e){var t,n,r,i=e.split(S);if(i.length>1){var o,a=i[0]+S+i[1];if(i.length>2&&(o=a+S+i[2]),wmjQuery.inArray(o,T)>-1?(t=o,n=i.slice(3),r=3):(t=a,n=i.slice(2),r=2),i[r]!=g&&wmjQuery.inArray(t,b)>-1)return}var s={KeyWithoutSuffix:t,SuffixParts:n};return s}function f(e){for(var o=n.get(0),a=o.getAll(),s={},u=0;u<a.length;u++)for(var l=a[u].Steps,c=0;c<l.length;c++){var d=l[c];if(i.isActionStep(d)){var f=r.getSettingsValue(d.Settings,"action",null);if(f&&"setWalkMeData"==f.actionType){var p=f.arguments,g=p.dataKey;if(e[g]){var m=p.dataDuration;if(m>=ja)if(s[g])m>s[g].Expiry&&(s[g].Expiry=m);else{var v=e[g];if(void 0!==v){var y={Value:v,Expiry:m};s[g]=y}}}}}}for(var g in s)s.hasOwnProperty(g)&&t.saveData(g,s[g].Value,parseInt(s[g].Expiry),h)}var p=this;p.LocalSVNRevision="$Rev: 5081 $";var g,h,m={"WM-wa":ja,"wm-popup":La,"wm-lang":Ma,"wm-ldv":La,"wm-ag-rep-v":ja,"wm-ag-d":La},v={"WM-wa":ja,"wm-absl":La,"wm-abss":La,"wm-eug":La},y={"wm-ASRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"ASRep",DeployableType:Ds.Tutorial},{Parts:2,DeployableTypeIndex:0,DeployableIdIndex:1,SettingsKey:"ASRep"}],"wm-SrvWtRep":[{Parts:2,DeployableIdIndex:0,SubSettings:"survey",SettingsKey:"repeat",DeployableType:Ds.Tutorial}],"wm-SrvRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"repeat",DeployableType:Ds.Survey}]},w={"wm-ag-rep":{SettingsKey:"AG",PropertyForKey:"repeat"}},b=["wm-abss"],S="-",T=["wm-ag-rep"];p.convertData=function(){if(t.shouldUpdateOldKeys()){var e=t.getInternalKeys(h);e=wmjQuery.extend(e,t.getInternalKeys(h,"WM-")),a(e),f(e)}},o.apply(null,arguments)}function pt(e,t){function n(){}var r=this;r.LocalSVNRevision="$Rev: 5081 $",r.init=function(n){function i(e,t,i){r.Data=e,n&&n()}var o=t.getSettingsFile(),a=o.WalkMeConfigFile;a?e.loadTextFile(a,"WalkMeConfigCallback",i,void 0,!0):n&&n()},n.apply(null,arguments)}function gt(e,t,n,r){function o(e){this.doAction=function(){try{void 0!=window.WalkMePlayerAPI&&WalkMePlayerAPI.toggleMenu()}catch(e){wo(l("Failed opening menu. Exception: {0}",i(e)))}}}function a(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{var r=e.playWtFromBeginning?0:Dc(e.StepId,e.wtId);if(-1==r){var o=l("Step with id: {0} was not found in walkthru with id {1}",e.StepId,e.wtId);wo(o)}else WalkMeAPI.startWalkthruById({id:parseInt(e.wtId),fromStep:r,playInitiator:{type:t,objectId:n.Id}})}catch(a){var s="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}",o=l(s,e.wtId,e.StepId,i(a));wo(o)}}}function s(e){this.isValid=function(){return!0},this.doAction=function(){try{var t=e.contentId;WalkMeAPI.startContentById(t)}catch(n){var r="Failed playing content with id {0}. Exception is: {1}",o=l(r,e.wtId,i(n));wo(o)}}}function u(e){this.isValid=function(){return!0},this.doAction=function(){try{var t=e.surveyId;WalkMeAPI.startSurveyById(t)}catch(n){var r="Failed playing survey with id {0}. Exception is: {1}",o=l(r,e.surveyId,i(n));wo(o)}}}function c(e,t,n){this.isValid=function(){return!0},this.doAction=function(){try{Zu.activateById(e.id,{type:t,objectId:n.Id})}catch(r){wo(l("Failed playing deployable with id {0}. Exception is: {1}",e.wtId,i(r)))}}}function d(e){this.isValid=function(){return!0},this.doAction=function(){}}function f(t){this.isValid=function(){return!0},this.doAction=function(){Fi(),Ui(t.redirectUrl,!0)||(Fi(),e.executeTutorialNextStep())}}function p(e,t,n){function r(e){for(var t=0;t<pu.length;t++)if(pu[t].TutorialId==e)return!0;return!1}this.isValid=function(){return r(e.wtId)},this.doAction=function(){var t,r=e.wtId;1==e.returnToWt?(t=Dc(e.StepId,n.TutorialId),ii([r],t,!1,e.startingStepId)):ii([r],t,!0,e.startingStepId)},this.getGoToData=function(){var t=_c(e.wtId);return{tutorialIndex:t,stepIndex:0}}}function g(t){this.type="stopWt",this.isValid=function(){return!0},this.doAction=function(){Fi(),e.stopTutorial()}}function h(t,r,i){function o(e,t){return-1!=Dc(e,t)}this.isValid=function(){return o(t.StepId,i.TutorialId)},this.doAction=function(){var r=t.StepId,o=Dc(r,i.TutorialId);Fi(),o>El&&ur(Dl,El+1,o,n.stepAction.SkippedByActionStep),El=o,e.executeCurrentStep()},this.getGoToData=function(){var e=t.StepId,n=Dc(e,i.TutorialId),r=_c(i.TutorialId);return{tutorialIndex:r,stepIndex:n}}}function m(t){this.isValid=function(){return void 0!=window.WalkMePlayerAPI},this.doAction=function(){try{Fi(),WalkMePlayerAPI.toggleMenu()}catch(t){}e.executeTutorialNextStep()}}function v(t){this.isValid=function(){return!0},this.doAction=function(){Al=ys.WAITING_FOR_CONDITION,Ci();var n=Sc(El),r={evaluationPollingIntervalMs:500,jqueryPollingIntervalMs:500,featureName:Ia,elementName:"Wait for condition step: "+n.StepTitle},i=ua.create("ConditionChecker",r),o=t.condition;i.onValueChanged(function(t){ti()&&Cl("ActionConditionEvaluated",n),t&&(Fi(),e.executeTutorialNextStep())}),i.evaluateAsync(o),pc.push(i)}}function y(t){this.isValid=function(){return!0},this.doAction=function(){return Ci(),Sl.playSetTimeout(function(){Fi(),e.executeTutorialNextStep()},1e3*t.duration),!0}}function w(){this.isValid=function(){return!0},this.doAction=function(){Fi(),Ci(),Sl.libSetTimeout(function(){location.reload(!0)},200)}}function b(t,n,i){function o(t){if(wo("Checking condition..."),t)try{return e.evaluateConditionTree(t)}catch(n){}return!0}function a(){var e=rr();return e&&Dl&&e.TutorialId==Dl.Id&&e.StepIndex<=El?!0:!1}this.isValid=function(){return!0};var s={stepId:i.Id,tutorialId:i.TutorialId};this.doAction=function(){if(r.saveData(ec,(new Date).getTime(),3600),o(t.condition))fl.switchOwner(s,!1),Fi(),e.executeTutorialNextStep();else{if(!fl.enabled())return wo("Reached pass ownership step but the feature is not supported, the next step will not be executed."),void e.tutorialFinished();Al=ys.PASSING_OWNERSHIP,El++,a()||Ci(),fl.switchOwner(s,!0)}}}function S(n){this.isValid=function(){return!0},this.doAction=function(){t.saveData(n.dataKey,n.dataValue,n.dataDuration),Fi(),e.executeTutorialNextStep()}}function T(e){this.isValid=function(){return!0},this.doAction=function(){e&&e.uiComponent&&e.uiComponent.destroy()}}function k(t){this.isValid=function(){return!0},this.doAction=function(){try{var n=t.shuttleId;e.getDeployablesManager(Ds.Shuttle).activateById(n)}catch(r){var o="Failed playing shuttle with id {0}. Exception is: {1}",a=l(o,t.wtId,i(r));wo(a)}}}var I=this;I.LocalSVNRevision="$Rev: 5157 $";this.get=function(e,t,n,r){return new C[e](t,n,r)};var C={none:d,playWt:a,openMenu:o,playContent:s,playSurvey:u,shoutOut:c,redirect:f,refresh:w,branchWt:p,stopWt:g,playStep:h,openPlayerMenu:m,waitForCond:v,delay:y,passOwnership:b,setWalkMeData:S,destroy:T,playShuttle:k}}function ht(e,t){this.LocalSVNRevision="$Rev: 4787 $";var n=this;n.extractSalesForceVars=function(){e.extractSalesForceVars()},n.search=function(e,n){t.search(e,n)}}function mt(){function e(e,n){if(!r&&window.sforce){r=!0;var i;if(i=t()?document.cookie.match("sid=([^;]*)")[1]:window.__sfdcSessionId,!i)return _customerLog("there is no session id in this page."),void(n&&n());if(hc("sfCommunity"))sforce.connection.sessionId=i;else{var o="https://"+window.location.host+"/services/Soap/u/29.0";sforce.connection.init(i,o)}e&&e()}}function t(){var e="salesforce",t=new RegExp(e+".+com");return t.test(document.domain)}var n=this;n.LocalSVNRevision="$Rev: 5081 $";var r=!1;n.injectSFConnection=function(t,n){if(r=!1,window.sforce&&window.sforce.connection)return window.sforce.connection.sessionId?void t():void e(t,n);var i=document.createElement("script");i.src="https://"+document.domain+"/soap/ajax/29.0/connection.js",i.type="text/javascript",i.onload=function(){e(t,n)},i.onreadystatechange=function(){e(t,n)},document.getElementsByTagName("head")[0].appendChild(i)}}function vt(e,t,n,r){function a(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function s(){if(window.UserContext&&window.ApiUtils&&window.ApiUtils.to18CharId){var e=ApiUtils.to18CharId(window.UserContext.userId);if(u(e),e)return e}var t=l();return t?t:void T("No UserContext on window. Can't get userId")}function u(e){e&&t.saveData(C,e,D)}function l(){return t.getData(C)}function c(){var e=t.getData(I);return e?o(e):void 0}function d(e,t){return e&&e[t]}function f(e){if(e.lastModified){var t=(new Date).getTime();if(t-_<e.lastModified)return!1}return!0}function p(e){r.injectSFConnection(function(){g(e)},function(){w(e)})}function g(e){try{var t=sforce.connection.getUserInfo(),r=y(n.get()),i=h(t.userId,r);i=i&&i[0]||[];var o=m(t,E,i,r);w(o)}catch(a){w(e,!0),T(a,5)}}function h(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",r=sforce.connection.query(n);return r.getArray("records")}}function m(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)v(r[o],n,i);return i}function v(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function y(e){var t=e.Settings.sfCustomVars;return t||[]}function w(e,t){e?(t||b(s(),e),window.walkme_sf_vars=e,delete window.walkme_sf_vars.lastModified):T("no user data for user: "+s(),5)}function b(e,n){var r=c();r||(r={}),r[e]=n,r[e].lastModified=(new Date).getTime();var o=i(r);o&&t.saveData(I,o,x)}function S(){T=e.Logger.wrapCustomerLog(ka)}this.LocalSVNRevision="$Rev: 5030 $";var T,k=this,I="wm-sf-users-data",C="wm-sf-lst-usr",x=31536e5,_=864e5,D=86400,E=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];k.extractSalesForceVars=function(){try{var e=a("wm-expirationCookie");e&&(_=parseInt(e));var t=s();if(t){var n=c(),r=d(n,t);!r||f(r)?p(r):w(r,!0)}}catch(i){T("unknown error getting walkmeSfVars: "+i.message)}},S.apply(null,arguments)}function yt(e,t,n){function r(e,n){var r=u;try{var i=t.get().Settings.sfSearch||s;r=sforce.connection.search("find {"+e+"*} RETURNING "+i)}catch(o){a("unknown error getting search results: "+o.message)}n(r)}function i(){a=e.Logger.wrapCustomerLog(ka)}var o=this;o.LocalSVNRevision="$Rev: 5082 $";var a,s="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",u="";o.search=function(e,t){n.injectSFConnection(function(){r(e,t)},function(){t(u)})},i.apply(null,arguments)}function wt(){function e(e){t=e}this.LocalSVNRevision="$Rev: 2952 $";var t,n=this;n.isGroup=function(e){return e?void 0!==e.LinkedDeployables:!1},n.isSearchEnabled=function(){var e=t.getSiteConfig();return e.Settings&&Number(e.Settings.search)},n.hasChildren=function(e){for(var r=e.LinkedDeployables,i=0;i<r.length;i++){var o=t.getDeployablesManager(r[i].DeployableType),a=o.getById(r[i].DeployableID),s=n.isGroup(a)?n.hasChildren(a):a;if(s)return!0}return!1},n.supportsDeployableType=function(e,t){var n=e.Settings,r=n&&n.DeployableTypes;return r&&-1!=mtjQuery.inArray(t+"",e.Settings.DeployableTypes)?!0:!1},n.hasUncompletedChildren=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.properties().hasProperty(ss.Completed))return!0}return!1},n.isTab=function(e){var t=e.Settings;return t&&t.DeployableTypes},e.apply(null,arguments)}function bt(){function e(e){t=new wt(e)}this.LocalSVNRevision="$Rev: 4574 $";var t,n=this;n.generateAll=function(e){e.utils=t;var n=[];return n.push(new Tt(e)),n.push(new kt(e)),n.push(new It(e)),n.push(new Ct(e)),n.push(new _t(e)),n.push(new xt(e)),n.push(new Dt(e)),n},e.apply(null,arguments)}function St(){function e(e){r(e.lib),i(e.deployable),u(e.utils),l(e.children)}{var n=new t(this),r=(n.Prop.Protected("logger",null),n.Prop.Protected("lib",null)),i=n.Prop.Protected("deployable",null),o=n.Prop.Protected("isLoaded",!1),a=n.Prop.Protected("properties",[]),s=n.Prop.Protected("propertyNames",[]),u=n.Prop.Protected("utils",null),l=n.Prop.Protected("children",[]),c=(n.Protected("prop",function(e){return e.toLowerCase()}),n.Virtual.Public("getAll",function(){return o()||c(),a()}),n.Virtual.Public("hasProperty",function(e,t){return(t||!o())&&c(),-1!=mtjQuery.inArray(e,a())}),n.Virtual.Protected("load",function(){o(!0)}));n.Public("clear",function(){a([]),o(!1)}),n.Protected("generateSingle",function(e,t){var n=t?[e]:[];a(n)}),n.Public("canGenerate",function(e){return-1!=mtjQuery.inArray(e,s())})}e.apply(null,arguments)}function Tt(){function e(e){n.Extends(St,e),n._base.propertyNames([])}{var n=new t(this);n.Override("load",function(){var e=n._base.deployable().Settings;if(n._base.properties([]),e&&e.DeployableTypes){for(var t=0;t<e.DeployableTypes.length;t++){var r=n._base.lib().getDeployablesManager(e.DeployableTypes[t]).name();n._base.properties().push(n._base.prop("contains-"+r))}n._base.load()}})}e.apply(null,arguments)}function kt(){function e(e){d.Extends(St,e),o=d._base.prop(ss.Visible),a=d._base.prop(ss.Invisible),d._base.propertyNames([o,a]),s=d._base.lib(),l=s.getDeployablesManager(Ds.Task),u=d._base.utils(),c=d._base.children}function n(e){var t=!1,n=u.supportsDeployableType(e,Ds.Tutorial);return n&&u.isSearchEnabled()&&(t=!0),t}function r(e){var t=!0,n=s.getSiteConfig().TodoListSettings,r=u.supportsDeployableType(e,Ds.Task);if(r&&n){var i=n.hideComplete&&parseInt(n.hideComplete);if(i&&(t=u.hasUncompletedChildren(c())),t){var o=n.activateCondition;o&&(t=s.evaluateConditionTree(o),Cl("TasksConditionEvaluated",s.getSiteConfig()))}}return t}function i(e){var t=!0;return e.deployableType==Ds.Task&&(t=l.isTaskDisplayed(e)),e.deployableType==Ds.Tutorial&&(t=s.canShowTutorial(e)),(e.deployableType==Ds.Content||e.deployableType==Ds.Shuttle)&&e.Settings&&e.Settings.DisplayCondition&&(t=s.evaluateConditionTree(e.Settings.DisplayCondition)),t}{var o,a,s,u,l,c,d=new t(this);d.Override("load",function(){var e=!0,t=d._base.deployable();u.isGroup(t)&&(e=u.hasChildren(t)||n(t)),e=e&&r(t),e=e&&i(t),e?d._base.generateSingle(o,!0):d._base.generateSingle(a,!0),d._base.load()})}e.apply(null,arguments)}function It(){function e(e){d.Extends(St,e),d._base.propertyNames([ss.Completed,ss.StrikedOut,ss.Uncompleted,ss.Active,ss.Inactive,ss.ProgressBar]),s=d._base.lib(),u=d._base.deployable(),l=d._base.utils(),c=s.getDeployablesManager(Ds.Task)}function n(e,t){if(t){e.push(d._base.prop(ss.Completed));var n=d._base.lib().getSiteConfig();Number(n.TodoListSettings.strikeOutCompletedTasks)&&e.push(d._base.prop(ss.StrikedOut))}else e.push(d._base.prop(ss.Uncompleted))}function r(e,t){e.push(i(t)?d._base.prop(ss.Active):d._base.prop(ss.Inactive))}function i(e){var t=c.isTaskActive(u);return e&&!o()&&(t=!1),t}function o(){var e=s.getSiteConfig(!0),t=Number(e.TodoListSettings.allowPlayAfterCompletion);return t}function a(e){if(l.isGroup(e)){var t=l.supportsDeployableType(e,Ds.Task);return t}return!1}{var s,u,l,c,d=new t(this);d.Override("load",function(){var e=[];if(u.deployableType==Ds.Task){var t=c.isTaskCompleted(u);n(e,t),r(e,t)}else a(u)&&e.push(d._base.prop(ss.ProgressBar));d._base.properties(e),d._base.load()})}e.apply(null,arguments)}function Ct(){function e(e){o.Extends(St,e),o._base.propertyNames([ss.Search,ss.SearchProviders]),r=o._base.utils(),i=o._base.deployable()}function n(){var e=o._base.lib().getSiteConfig();return e.Settings&&Number(e.Settings.search)}{var r,i,o=new t(this);o.Override("load",function(){var e=[];r.isTab(i)&&r.supportsDeployableType(i,Ds.Tutorial)&&(e.push(o._base.prop(ss.Search)),n()&&e.push(o._base.prop(ss.SearchProviders))),o._base.properties(e),o._base.load()})}e.apply(null,arguments)}function xt(){function e(e){o.Extends(St,e),n=o._base.deployable(),r=o._base.utils(),o._base.propertyNames([ss.Default]),i=o._base.children}{var n,r,i,o=new t(this);o.Override("load",function(){var e=H.isTrue(n.Settings,ss.Default,!1);e&&r.hasUncompletedChildren(i())&&o._base.generateSingle(ss.Default,!0),o._base.load()})}e.apply(null,arguments)}function _t(){function e(e){i.Extends(St,e),n=i._base.prop(ss.Video),r=i._base.prop(ss.Article),i._base.propertyNames([n,r])}{var n,r,i=new t(this);i.Override("load",function(){if(i._base.deployable().deployableType==Ds.Content){var e=i._base.lib().getDeployablesManager(Ds.Content).types(),t=i._base.deployable().Type;switch(t){case e.Video:i._base.generateSingle(n,!0);break;case e.Article:i._base.generateSingle(r,!0)}}i._base.load()})}e.apply(null,arguments)}function Dt(){function e(e){i.Extends(St,e),i._base.propertyNames([ss.Accessible]),n=i._base.utils(),r=i._base.deployable()}{var n,r,i=new t(this);i.Override("load",function(){var e=!n.isTab(r);i._base.generateSingle(ss.Accessible,e),i._base.load()})}e.apply(null,arguments)}function Et(){function e(e,i,a){n=e,r=i,o=a,t()}function t(){var e={lib:n,deployable:r,logger:a.Logger,children:o};i=bt.generateAll(e)}this.LocalSVNRevision="$Rev: 3105 $";var n,r,i,o,a=this;a.getAll=function(){for(var e=[],t=0;t<i.length;t++)e=e.concat(i[t].getAll());return e},a.clearCache=function(){for(var e=0;e<i.length;e++)i[e].clear()},a.hasProperty=function(e,t){for(var n=0;n<i.length;n++)if(i[n].canGenerate(e)&&i[n].hasProperty(e,t))return!0;return!1},e.apply(null,arguments)}function At(){function e(e){t=e.type,r=e.id,i=e.activateFunction,n=e.description,u=e.childNodes,o=e.name,s=e.propertiesGenerator,a=e.keywords?e.keywords:[]}this.LocalSVNRevision="$Rev: 2663 $";var t,n,r,i,o,a,s,u,l=this;l.activate=function(e){i(r,e)},l.children=function(){return u},l.properties=function(e){return e&&s.clearCache(),s},l.type=function(){return t.toLowerCase()},l.name=function(){return o},l.id=function(){return r},l.description=function(){return n||""},l.keywords=function(){return a},e.apply(null,arguments)}function Pt(e){function t(){}function n(e){var t=parseInt(Su.get().TodoListSettings[d]),n=parseInt(Su.get().TodoListSettings[f]);return t?n&&(e=nd(e,function(e){return!r(e)})):e=nd(e,r),e}function r(e){var t=e.Settings.DeployableTypes,n=-1!=wmjQuery.inArray(Ds.Task.toString(),t);return!n}function i(t,n){var r=e.getDeployablesManager(t),i=r.getById(n);return i&&(i.deployableType=t),i}function o(t){for(var n=e.getDeployablesManager(t).getAll(),r=0;r<n.length;r++)n[r].deployableType=t;return n}function a(e){e&&e.sort(function(e,t){return e.OrderIndex-t.OrderIndex})}function s(e){if(!e.LinkedDeployables)return null;for(var t=[],n=e.LinkedDeployables,r=0;r<n.length;r++){var o=i(n[r].DeployableType,n[r].DeployableID);o&&t.push(o)}return t}function u(t,n){var r=e.getDeployablesManager(t.deployableType),i=new At({type:r.name(),id:t.Id,activateFunction:r.activateById,description:t.Description,childNodes:n,name:t.Name,
propertiesGenerator:new Et(e,t,n),keywords:t.Keywords});return i}function l(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=s(e[n]),i=l(r);t.push(u(e[n],i))}return t}}this.LocalSVNRevision="$Rev: 5116 $";var c=this,d="isActive",f="showOnlyTasksTab";c.uiObjectsTree=function(){var e=o(Ds.Collection);e=n(e),a(e);var t=l(e);return t},t.apply(null,arguments)}function Nt(){function e(e){r(e.lib),o(e.deployables)}var n=new t(this);this.LocalSVNRevision="$Rev: 5253 $";{var r=n.Prop.Protected("lib"),i=n.Prop.Protected("deployablesDict",{}),o=(n.Virtual.Public("name"),n.Virtual.Public("setDeployables",function(e){if(e)for(var t=0;t<e.length;t++)e[t].Id&&(i()[e[t].Id]=e[t])}));n.Virtual.Public("activateById",function(e,t,n){}),n.Virtual.Public("getById",function(e){return i()[e]}),n.Public("getAll",function(){var e=[],t=i();for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e.sort(function(e,t){return void 0===e.OrderIndex||void 0===t.OrderIndex?0:e.OrderIndex-t.OrderIndex})})}n.Virtual.Public("releaseAll"),n.Virtual.Public("autoStartEnabled",function(e){return!1}),e.apply(null,arguments)}function Rt(){function e(e){n.Extends(Nt,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2182 $";n.Override("activateById",function(e){}),n.Override("name",function(){return"Category"});e.apply(null,arguments)}function jt(){function e(e){n.Extends(Nt,e),r=ua.get("PermalinkManager")}var n=new t(this);this.LocalSVNRevision="$Rev: 5226 $";{var r;n.Override("name",function(){return"Walkthru"}),n.Override("activateById",function(e,t){WalkMeAPI.startWalkthruById({id:e,fromStep:0,playInitiator:t})})}n.Override("autoStartEnabled",function(e){return r.isStartingWalkthru()?!1:!0}),e.apply(null,arguments)}function Mt(e,n,r,i,o,a,s,l,c,d,f,p,g,h,m,v){function y(){D.Extends(Nt,{deployables:e,lib:h}),O=D._base.deployablesDict(),M=_makeTutorial.Logger.wrapCustomerLog(ya),M('Initializing TodoListManager (isActive: "'+n+'", serverAddress: "'+r+'", userGuid: "'+a+'", endUserId: "'+s+'")',3),E=new fe(r,i,o,a,l,f,p,g),P=s,N=l,R=c,j=d,n=n&&e&&e.length>0,L.setActiveState(n),_(),m.onActivated(L.updateDeployableCompleted)}function w(e,t){return e.Index<t.Index?-1:e.Index>t.Index?1:0}function b(e,t){for(var n=0;n<e.Goals.length;n++){var r=e.Goals[n];if(r.Id&&-1===Ro(r.Id,t.CompletedGoals))return 0}return 1}function S(e,t){T(e,t)&&L.deactivate()}function T(e,t){for(var n in e){var r=e[n];if(k(r)){var i=t[r.Id];if(!i)return!1;if(!i.IsCompleted)return!1}}return!0}function k(e){if(!e.Id)return!1;if(e.RelatedDeployableType!==Ds.Tutorial&&e.RelatedDeployableType!==Ds.Content)return M("Task (id: "+e.Id+") is of unknown type: "+e.RelatedDeployableType),!1;if(!e.RelatedDeployableId)return M("Task (id: "+e.Id+") does not have any related Walk-Thru id"),!1;var t;return t=e.RelatedDeployableType===Ds.Tutorial?v:m,t.getById(e.RelatedDeployableId)?!0:(M("Task (id: "+e.Id+") related deployable ("+e.RelatedDeployableType+") (id: "+e.RelatedDeployableId+") does not exist"),!1)}function I(e){M("syncing local tasks completion data",3),M(e,5);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(n.IsCompleted)continue;var r=n.CompletedGoals,i=L.getById(t);if(i&&i.Goals){var o=i.Goals;if(o&&r&&r.length>0&&o.length>0){var a=b(i,n);a&&(n.IsCompleted=1,x(i.Id,e))}}}}function C(e,t,n){var r=t[e];r.CompletedGoals.push(n);var i=O[e];r.IsCompleted=b(i,r),r.IsCompleted?x(e,t,n):(t[r.TaskId]=r,M("Server update completed GOAL (taskId: "+e+", goalId: "+n+")",3),ko()||E.updateTaskCompleted(P,-1,n,t,O))}function x(e,t,n){try{n=n||-1,t[e]={TaskId:e,IsCompleted:1,CompletedGoals:[]},Il("TaskCompleted",{TaskId:e}),S(O,t),M("Server update completed TASK (taskId: "+e+", goalId: "+n+")",3),ko()||E.updateTaskCompleted(P,e,n,t,O)}catch(r){L.deactivate(),N(r,"An error occurred while trying to complete a Task")}}function _(){for(var e=D._base.getAll(),t=0;t<e.length;t++)k(e[t])||delete O[e[t].Id]}var D=new t(this);this.LocalSVNRevision="$Rev: 5116 $";var E,A,P,N,R,j,M,L=this,O=null;L.init=function(){E.init()};var G=(D.Override("name",function(){return"Task"}),D.Override("activateById",function(e,t){var n=D._base.getById(e),r=D._base.lib().getDeployablesManager(n.RelatedDeployableType),i={type:WalkMeAPI.getPlayInitiatorEnum().TASK,objectId:e};r.activateById(n.RelatedDeployableId,i)}),D.Override("getById",function(e){var t=D._base.getById(e);return t&&k(t)?t:void 0}),D.Public("isTaskCompleted",function(e){var t=L.getCompletedTasks(),n=t?Ro(e.Id,t)>-1:!1;return n}),D.Public("isTaskConditionsPassed",function(e){var t=!0;switch(e.RelatedDeployableType){case Ds.Tutorial:if(e.RelatedDeployableId){var n=kc(e.RelatedDeployableId);t=_makeTutorial.canShowTutorial(n)}}return t})),U=D.Public("isTaskActive",function(e){var t=e.Settings;return parseInt(t.ActivateConditionEnabled)?_makeTutorial.evaluateConditionTree(t.ActivateCondition):!0}),F=D.Public("isTaskDisplayed",function(e){var t=e.Settings;return parseInt(t.DisplayConditionEnabled)?_makeTutorial.evaluateConditionTree(t.DisplayCondition):!0});this.loadTasks=function(e,t){if(M("loadTasks - start loading completion data",3),R||j)return M("loadTasks - Preview or Play mode - returning empty tasks completion data",3),S(O,{}),void e({});if(!P)return M("loadTasks - No end user - Deactivating",3),void L.deactivate();try{var n=function(t){I(t),M("Tasks completion data loaded successfully",3),S(O,t),e&&e(t),Il("TasksLoaded")},r=function(e){M("Tasks completion data failed loading",3),L.deactivate(),t&&t(e)};E.asyncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O),n,r)}catch(i){L.deactivate(),N(i,"An error occurred while trying to load completed tasks to the local storage")}},this.getTaskGoalsIds=function(e){var t={};return mtjQuery.each(e,function(e,n){t[e]=n.Goals?mtjQuery.map(n.Goals,function(e){return e.Id}):[]}),t},this.tempClearUserCompletedTasks=function(){P&&E.tempClearUserCompletedTasks(P)},this.getCompletedTasks=function(){if(M("Getting completed tasks",3),R||j)return M("Preview or Play mode - returning empty array of completed tasks",3),[];if(!P)return L.deactivate(),null;try{var e=E.syncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O));if(!e)return null;var t=[];return mtjQuery.each(e,function(e,n){n.TaskId&&n.IsCompleted&&t.push(n.TaskId)}),M("Returning completed tasks ("+t+")",3),t}catch(n){L.deactivate(),N(n,"An error occurred while trying to retrieve completed tasks")}return null},this.updateGoalCompleted=function(e){var t=e.RelatedObjectId,n=e.Id,r=e.Name;if(M("Updating completed goal (taskId: "+t+", goalId: "+n+", goalName: "+r+")",3),_l("GoalCompleted",{GoalId:n,GoalName:r}),R||j)return void M("Preview or Play mode - exiting without updating",3);if(!P)return void L.deactivate();try{{E.asyncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O),function(e){var r=e[t];r||(r={TaskId:t,IsCompleted:0,CompletedGoals:[]},e[t]=r),r.IsCompleted||Ro(n,r.CompletedGoals)>-1||C(r.TaskId,e,n)})}}catch(i){L.deactivate(),N(i,"An error occurred while trying to update task completed")}},this.updateDeployableCompleted=function(e,t){return M("Updating completed deployable ("+t+") deployableId: "+e+")",3),R||j?void M("Preview or Play mode - exiting without updating",3):P?void mtjQuery.each(O,function(n,r){if(r.Id&&r.RelatedDeployableType===t&&parseInt(r.RelatedDeployableId)===e&&!(r.Goals&&r.Goals.length>0)){E.asyncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O),function(e){e[r.Id]&&e[r.Id].IsCompleted||x(r.Id,e)})}}):void L.deactivate()},this.getTasksGoalsNotCompleted=function(){if(R||j)return M("Preview or Play mode - not getting tasks not completed goals",3),[];M("Getting tasks uncompleted goals",3);var e=E.syncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O));e||(e=[]);var t=[];return mtjQuery.each(O,function(n,r){if(r.Id){var i=e[r.Id];if(!i||!i.IsCompleted){var o={TaskId:r.Id,Name:r.Name,GoalsNotCompleted:[]};mtjQuery.each(r.Goals,function(e,t){if(t.Id){var n=i&&i.CompletedGoals?i.CompletedGoals:[];if(-1===Ro(t.Id,n)){var r=mtjQuery.extend(!0,{},t);o.GoalsNotCompleted.push(r)}}}),t.push(o)}}}),t},this.getApiTasks=function(e){M("Getting tasks fot the API",3);var t=L.getCompletedTasks();t||(t=[]);var n=[];return mtjQuery.each(O,function(r,i){if(k(i)){var o=t&&Ro(i.Id,t)>-1?1:0,a={Index:i.OrderIndex,Name:i.Name,Id:i.Id,IsCompleted:o,Settings:u(i.Settings),Description:i.Description,RelatedDeployableType:i.RelatedDeployableType,RelatedDeployableId:i.RelatedDeployableId};a.TaskProperties=a.Settings,e&&(a.ConditionsPassed=G(i),a.IsActive=U(i),a.IsDisplayed=F(i)),delete a.Settings.ActivateConditionEnabled,delete a.Settings.ActivateCondition,n.push(a)}}),n.sort(w),n},this.isTaskGoalReached=function(e,t){var n=E.syncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O));if(!n)return!1;var r=n[e];return r?r.IsCompleted?!0:-1!==Ro(t,r.CompletedGoals):!1},this.isActive=function(){return A},this.setActiveState=function(e){M("Setting todo list active state to: "+e,3),A=e},this.activate=function(){E.asyncRetrieveCompletedTasks(P,L.getTaskGoalsIds(O),function(e){T(O,e)||L.setActiveState(!0)})},this.deactivate=function(){L.setActiveState(!1)},this.toggleActiveState=function(){L.setActiveState(!L.isActive())},y.apply(null,arguments)}function Lt(){function e(e){n.Extends(Nt,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2150 $";{var r=2e3,i={openMenu:500};n.Override("name",function(){return"Launcher"}),n.Public("getMinClickDelay",function(e){var t=Vo(e.Settings,"action",null),n=t.actionType;return void 0!==i[n]?i[n]:r})}e.apply(null,arguments)}function Ot(){function e(e){n.Extends(Nt,e),r=e.deployablesGoalsManager,i=e.clickAuditManager,o=e.lib}var n=new t(this);this.LocalSVNRevision="$Rev: 5081 $";var r,i,o,a="ShuttlePlayMode",s=100,u=ua.get("TimerManager");n.Override("name",function(){return"Shuttle"}),n.Override("activateById",function(e){try{var t=n._base.deployablesDict()[e];t||wo(l("Shuttle with id {0} doesn't exist",e),3),i.SendClickAudit(Ds.Shuttle,t.Id);var c=parseInt(Vo(t.Settings,a,Ss.SameTab));o.getCommonUtils().isValidUrl(t.DestinationUrl)&&(r.startWatchingDeployable(t,n._base.lib().generateNewPlayGuid(t.Id)),c==Ss.NewTab&&window.open(t.DestinationUrl,"_blank"),c==Ss.SameTab&&u.libSetTimeout(function(){window.location.href=t.DestinationUrl},s))}catch(d){wo(l("Failed playing shuttle with id {0}. Exception is {1}",e,d),3)}}),e.apply(null,arguments)}function Gt(){function e(e){i.Extends(Nt,e),o=e.cdnServerName,a=e.deployablesGoalsManager,u=e.clickAuditManager,d=ua.get("FeaturesManager")}function n(e,t){var n=null;switch(e){case f.Video:var i=r(t.content.Url);i?(t.videoId=i.videoId,t.vendorName=i.vendorName,n=new Pe(t)):n=new Ne(t);break;case f.Article:n=new Ne(t);break;default:throw l("Invalid content type : {0}",e)}return n}function r(e){var t,n=/^(?:http|https):\/\/.*youtube\..*v=([\w-]+)/i,r=/^(?:http|https):\/\/.*youtu.be\/([\w-]+)/i,i=/^(?:http|https):\/\/.*youtube.*\/embed\/([\w-]+)/i,o=/^(?:http:\/\/|https:\/\/).*vimeo.*\/([\w-]+)/i,a=[{regex:n,vendorName:"youtube"},{regex:r,vendorName:"youtube"},{regex:i,vendorName:"youtube"},{regex:o,vendorName:"vimeo"}];return wmjQuery.each(a,function(n,r){var i=e.match(r.regex);return i&&i.length>1?(t={videoId:i[1],vendorName:r.vendorName},!1):void 0}),!t&&d.isFeatureEnabled("html5video")&&(t={vendorName:"html5video"}),t}var i=new t(this);this.LocalSVNRevision="$Rev: 5145 $";var o=null,a=null,s=null,u=null,c=[],d=null,f={Article:0,Video:1};this.onActivated=function(e){c.push(e)};{var p=(i.Override("name",function(){return"Content"}),i.Override("activateById",function(e){try{var t=i._base.deployablesDict()[e];t||wo(l("Content with id {0} doesn't exist",e),3);var r={lib:i._base.lib(),cdnServer:o,clickAuditManager:u,content:t};p(),s=n(t.Type,r),s.activateContent(t),a.startWatchingDeployable(t,i._base.lib().generateNewPlayGuid(t.Id));for(var d=0;d<c.length;d++)c[d](t.Id,Ds.Content)}catch(f){wo(l("Failed playing content with id {0}. Exception is {1}",e,f),3)}}),i.Public("removeContent",function(){s&&s.removeContent()}));i.Public("types",function(){return f})}e.apply(null,arguments)}function Ut(){function e(e){n.Extends(Nt,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2150 $";n.Override("name",function(){return"Tab"}),n.Override("activateById",function(e){});e.apply(null,arguments)}function Ft(){function e(e){n.Extends(Nt,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 3526 $";n.Override("name",function(){return"Experiments"}),n.Override("activateById",function(e){});e.apply(null,arguments)}function Bt(e,n,r,i,o,a){function s(e){w.Extends(Nt,e)}function u(e,t){return T+Ds.ShoutOut+"-"+e.Id+"-"+t}function c(e){var t=d(e);return t?(t.unbind("hide-end."+x),t.once("hide-end."+x,function(){t.show()}),t.hide(),!0):void 0}function d(e){for(var t=C.length-1;t>=0;t--)if(C[t].getComponent().Id==e)return C[t]}function f(e,t){e.once("append-end",function(){e.show(),p()}),y?I.push(e):(y=!0,e.append())}function p(){var e=I.splice(0,1)[0];e?e.append():y=!1}function g(e,t){if(e.Settings.stopOn&&e.Settings.stopOn[t]){var n=u(e,t);o.saveData(n,1,k)}}function h(e,t){return t=t||{},i.SendClickAudit(Ds.ShoutOut,e.Id,t.type,t.objectId)}function m(e,t,n){i.SendShoutOutAudit(e.Id,t,n)}function v(e){var t=C.length;C.push(e),e.bind(b,function(){e.unbind(b),C.splice(t,1)})}this.LocalSVNRevision="$Rev: 5233 $";var y,w=new t(this),b="destroy-begin.manager",S="destroy",T="wm-stpcond-",k=31536e4,I=[],C=[];w.Override("name",function(){return"ShoutOut"}),w.Override("activateById",function(e,t,i){try{if(c(e))return;var o=w._base.deployablesDict()[e];o||wo(l("ShoutOut with id {0} doesn't exist",e),3);var a=n.get(o.UiComponentId,[o]);return v(a),a.once("show-end",function(){var e=h(o,t);r.startWatchingDeployable(o,w._base.lib().generateNewPlayGuid(o.Id)),a.once("action-start",function(t,n){var r=n==S;g(o,r?_.Cancel:_.Action);var i=r?Ga.Close:Ga.Action;m(o,i,e)}),a.once("x-clicked",function(){g(o,_.XButton),m(o,Ga.XButton,e)})}),f(a,o),a}catch(s){wo(l("Failed playing shoutOut with id {0}. Exception is {1}",e,s),3)}});var x="acs";w.Override("releaseAll",function(e){try{for(var t=0;t<C.length;t++){var n=C[t];n.unbind(b),n.destroy()}C.length=0}catch(r){}e&&e()}),w.Override("autoStartEnabled",function(e){var t=w._base.deployablesDict()[e],n=t.Settings.stopOn;for(var r in n)if(n.hasOwnProperty(r)&&n[r]){var i=u(t,r);if(o.getData(i,!1))return!1}return!0});var _={XButton:"x",Cancel:"close",Action:"action"};s.apply(null,[a])}function Wt(e,t,n){function r(){}var i=this;i.LocalSVNRevision="$Rev: 4426 $";var o=0,a=function(){return-1!=n.get().indexOf("https:")},s=function(){return t.get().Settings.UrlWl};i.parse=function(t){function n(e,t){return new RegExp(e,t)}function r(e,t){var n=t.exec(e);return null!=n&&n.length>2?n.splice(0,1):n="",n}function c(e,t,n){var r=d(e,t,n);return g(r,e),r}function d(e,t,n){void 0!=t&&(t=t.replace(/&quot;/gi,'"'));var r=p(t);return h(n,e,r),r}function p(e){for(var t,r={},i=n('([^\\s]+)="([^\\"]+)"',"g");t=i.exec(e);){var o=t[1],a=t[2];r[o]=a}return r}function g(e,t){wmjQuery.each(e,function(n,r){var i=-1==wmjQuery.inArray(n,t);i&&delete e[n]})}function h(e,t,n){if(void 0!=e)for(var r=0;r<t.length;r++){var i=t[r],o=n[i],a=void 0==o,s=void 0!=e[i],u=a&&s;u&&(n[i]=e[i])}}function m(e){var t=e.replace(R,S);return t}function v(e,t){e=e.replace(/javascript:/gi,""),e=b(e);for(var r in t)e=e.replace(n(r,"g"),t[r]);return e}function y(e){return a()?e.replace("http:","https:"):e}function w(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function b(e){if(e.indexOf("on")<0)return e;for(var t=0;t<q.length;t++)e=e.replace(new RegExp(q[t]+"\\s*=","gi"),"^");return e}function S(e,t,n,i){switch(i&&i.indexOf("[")>-1&&(i=m(i)),(!n||n.indexOf("javascript:")>-1)&&(n=""),t){case"url":return T(e,t,n,i);case"wt":var o=-1,a=n;if(a){var s=a.split(" ");o=s[0],o=f(o)?o:-1,a=s.splice(1,s.length-1).join(" ")}var u=c(z[t],a,{"class":"",style:""}),l=u["class"],d=u.style;return delete u["class"],delete u.style,'<a style="cursor: pointer; '+d+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+l+'" data-walkthru-id="'+o+'"'+P(u)+">"+i+"</a>";case"img":var p=r(n,j);return'<img src="'+i+'"'+(p?' width="'+p[0]+'px" height="'+p[1]+'px"':"")+P(c(z[t],n))+"/>";case"youtube":return D(e,t,n,i,N.Youtube);case"vimeo":return D(e,t,n,i,N.Vimeo);case"wistia":return D(e,t,n,i,N.Wistia);case"b":case"u":case"i":case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":case"ul":case"li":return"<"+t+P(c(z[t],n))+" data-"+t+"='"+n+"'>"+i+"</"+t+">";case"p":return"<"+t+P(c(z[t],n))+" data-"+t+"=' "+n+"'>"+i+"</"+t+">";case"survey":return'<a data-survey-id="" class="walkme-custom-bbcode-survey" style="cursor: pointer;"'+P(c(z[t],n))+">"+i+"</a>";case"flash":return _(e,t,n,i)}var g=window.walkme_custom_bbcode_parser;if("function"==typeof g){var h=g(e,t,n,i);if(h)return h}return"["+t+(n?"="+n:"")+"]"+i+"[/"+t+"]"}function T(e,t,n,r){var i=n;if(i){var o=i.split(" ");if(!w(o[0],z[t])){var a=o[0];i=o.splice(1,o.length-1).join(" ")}}var s,u=c(z[t],i,{"class":"",style:"",target:"_blank"}),l={classes:u["class"],target:u.target,src:x(a||r),label:r,style:u.style,title:u.title,data:n.substring(Math.max(n.indexOf(" "),0)).replace(new RegExp("^"+a||r),"")};s=u.height&&u.width?k(u,l):C(u,l,M[t]);var d=Fa.to_html(s,l);return d}function k(e,t){var n='<span id="walkme-new-window-link-{{{spanId}}}"'+(t.title?' title="{{{title}}}"':"")+'><a class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" href=# onclick="event.preventDefault ? event.preventDefault() : event.returnValue = false;window.open({{{srcForOpen}}},\'{{{target}}}\',{{{specs}}});" data-url=\''+t.data+"'>{{{label}}}</a></span>",r=o++;t.spanId=r;var i=I(e);return t.specs="'"+i+"'",t.srcForOpen="'"+t.src.replace(/\'/g,"")+"'",n}function I(e){for(var t=["width","height","channelmode","directories","fullscreen","left","top","location","menubar","resizable","scrollbars","status","titlebar","toolbar"],n="",r=t.length-1;r>=0;r--){var i=t[r];e[i]&&(n+=l("{0}={1},",i,e[i].replace(/\'/g,"")))}return n.length>0&&(n=n.substring(0,n.length-1)),n}function C(e,t,n){var r="<a"+(t.title?' title="{{{title}}}"':"")+' target="{{{target}}}" class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" {{{linkTypes}}}{{{src}}}" data-url=\''+t.data+"'>{{{label}}}</a>";return t.linkTypes=n,r}function x(t){var n=s();if(void 0==n)return t;for(var r=0;r<n.length;r++)if(e.isLike(t,n[r]))return t;return""}function _(e,t,n,r){var i=c(z[t],n,{width:420,height:315}),o='<div class="walkme-custom-flash-wrapper" style="width: {{{width}}}px; height: {{{height}}}px;"><object type="application/x-shockwave-flash" data="{{{swf}}}" allowNetworking="none" allowFullScreen="false" width="{{{width}}}" height="{{{height}}}"><param name="SRC" value="{{{swf}}}"/><param name="allowNetworking" value="none"/><param name="allowFullScreen" value="false"/></object></div>',a=Fa.to_html(o,{swf:r,width:i.width,height:i.height});return a}function D(e,t,n,r,i){var o=d(z[t],n,{width:420,height:315}),a=E(o),s=A(i,t),u=s.url+r+"?"+a,l='<iframe data-{{{vendorName}}}-id="{{{videoId}}}" src="{{{src}}}" frameborder="0" {{{allowFullScreen}}} style="position:relative; width: {{{width}}}px; height: {{{height}}}px;"{{{additionalParams}}}></iframe>',c=Fa.to_html(l,{vendorName:s.name,videoId:r,width:o.width,height:o.height,src:u,allowFullScreen:s.allowFullScreen,additionalParams:s.additionalParams});return c}function E(e){var t="",n=u(e);return delete n.height,delete n.width,wmjQuery.each(n,function(e,n){t+=l("{0}={1}&",e,n)}),t}function A(e,t){var n,r,o,a;switch(e){case N.Youtube:n=y(L[t]),r="youtube",o="allowfullscreen";break;case N.Vimeo:n=y(O[t]),r="vimeo",o="webkitAllowFullScreen mozallowfullscreen allowFullScreen";break;case N.Wistia:n=y(G[t]),r="wistia",o="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen",a=' allowtransparency="true" scrolling="no" class="wistia_embed" name="wistia_embed"';break;default:i.Logger.error(new Error("Unsupported video vendor "+e))}var s={url:n,name:r,allowFullScreen:o,additionalParams:a};return s}function P(e){var t="";return mtjQuery.each(e,function(e,n){t+=e+'="'+n+'" '}),t=t.replace(/\s+$/,""),t?" "+t:t}var N={Youtube:0,Vimeo:1,Wistia:2};if(t.indexOf("[")<0)return t;var R=n("\\[([a-z][a-z0-9]*)=?([^\\]]+)?]((?:.|[\r\n])*?)\\[/\\1]","g"),j=n("^(\\d+)x(\\d+)[^\\]]*"),M={url:'href="',anchor:'name="',email:'href="mailto: '},L={youtube:"http://www.youtube.com/embed/",flash:""},O={vimeo:"http://player.vimeo.com/video/",flash:""},G={wistia:"http://fast.wistia.net/embed/iframe/",flash:""},U={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"},F={},B=["title"],W=["style","class"].concat(B),Q=["width","height"].concat(W),V=["channelmode","directories","fullscreen","left","top","target","location","menubar","resizable","scrollbars","status","titlebar","toolbar"].concat(Q),H=["border","cellspacing","cellpadding"].concat(W),$=["autoplay"].concat(Q),z={table:H,tr:W,th:W,td:W,tbody:W,p:W,div:Q,span:Q,youtube:$,vimeo:$,wistia:$,wt:W,url:V,flash:Q,img:B,b:B,u:B,i:B,ul:B,li:B,survey:B},q=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"];for(var K in U)F["\\["+K+"=([^\\]]+)]"]='<span style="'+U[K]+'">',F["\\[/"+K+"]"]="</span>";var X=v(t,F),Y=m(X);return Y},r.apply(null,arguments)}function Qt(e){var t=this;t.LocalSVNRevision="$Rev: 5081 $";var n;this.concat=function(t){if(e&&e.adapt(t),n)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n=t},this.get=function(e){for(var t=n,r=0;r<arguments.length;r++)t=t[arguments[r]];return t}}function Vt(e,t,n){if(!e)return n;n=n||{};var r=e.attributes;if(r)for(var i in r)if(r.hasOwnProperty(i)&&"string"==typeof r[i]&&(r[i]=r[i].replace("###ResourcesDir###",t),"font-family"==i)){n.fonts=n.fonts||[];var o=r[i].split(",");n.fonts.push(mtjQuery.trim(o[0]))}var a=e.children;if(a)for(var s in a)a.hasOwnProperty(s)&&Vt(a[s],t,n);return n}function Ht(e){this.adapt=function(t){if(t)for(var n in t){var r=e.getResourcePath("/player/resources/templates/"+n),i=Vt(t[n],r);t[n].metaData=i}}}function $t(e){this.adapt=function(t){if(t)for(var n in t)if(t[n])for(var r in t[n]){var i=t[n][r];if(i&&i.Css){var o=e.getResourcePath("/player/resources/templates/"+n+"/"+r),a=Vt(i.Css,o);i.Css.metaData=a}}}}function zt(e,t,n,r,i,o,a,s){function u(e,t,n){for(var o=[],a=0;a<e.length;a++){var s=e[a].metaData&&e[a].metaData.fonts;if(s)for(var u=0;u<s.length;u++){var l=i.get(s[u]);l&&o.push(l)}}r.fonts(o,n||null,t,t)}function l(e){var t=o.get().Direction||"ltr";e.addClass(w+t),e.addClass(w+a.browser.name.toLowerCase()),"IE"==a.browser.name&&e.addClass(w+"ie-"+a.browser.version)}function c(e){var t=e.allCss();e.children().each(function(e,n){var r=wmjQuery(n);r.cssReset(t),c(r)})}function d(e){var t=o.get().Direction||"ltr";e.find("span,button,input,label,a,b,br,img").cssReset("display","inline"),e.find("*").andSelf().cssReset(Oa).cssReset("direction",t)}function f(e){e.find("*").andSelf().each(function(e,t){t=wmjQuery(t);var n=t.data(b);if(n){var r=n.hover;p(t,r);var i=n.click;g(t,i),t.removeData(b)}})}function p(e,t){if(t){var n=e.attr("style");e.hover(function(){e.css(t)},function(){e.attr("style",n)})}}function g(e,t){if(t){var n=e.attr("style");e.mousedown(function(n){e.css(t)}),e.bind("mouseup blur",function(){e.attr("style",n)})}}function h(e,t){if(t&&t.children)for(var n in t.children)if(t.children.hasOwnProperty(n)){var r=n.split(":"),i=e.find(r[0]),o=t.children[n].attributes;for(var a in o)o.hasOwnProperty(a)&&m(i,a,o[a],r[1]);h(i,t.children[n].children)}}function m(e,t,n,r){if(n instanceof Array)for(var i in n)v(e,t,n[i],r);else v(e,t,n,r)}function v(e,t,n,r){return r?(r=r.toLowerCase(),void y(r,e,t,n)):void e.cssReset(t,n)}function y(e,t,n,r){var i=t.data(b)||{};i[e]||(i[e]={}),i[e][n]||(i[e][n]=r),t.data(b,i)}var w="wm-",b="templatesFactoryStates";this.addResources=function(e,t,r,i,o){var a=n.get(e,t).Css;u([a].concat(r),i,o)},this.get=function(e,r,i,o,a){var u=n.get(e,r),p=s.createElementInDocument(t.to_html(u.Html,o||{}),a||window.document);l(p),c(p);for(var g=p.wrap("<div />").parent(),m=i.length-1;m>=0;m--)h(g,i[m]);return h(g,u.Css),d(p),f(p),p.unwrap(),p.hide()}}function qt(e,t){this.get=function(n,r){try{var i=t.get(n),o=ua.create(i,r);return o}catch(a){e.error(a,"error generating class")}}}function Kt(){function e(e,t,n){u=e,l=t}function t(){H.registerEventHandler("message",function(e){try{var t=o(e.data);"DEBUGGER_LOADED"==t.requestType&&n()}catch(r){wo("Error loading debugger from post message: "+r,4)}})}function n(e){a(e),l.dbgr.shouldClear=e;var t;t||(t=En()+"debugger/"+Dn()+"/"),l.dbgr||(l.dbgr={}),l.dbgr.rootPath=t,H.addScript(t+"walkme_debugger.js",null,r)}function r(){wo("Failed loading the Flow Tracker!",1);var e=l.dbgr;e&&e.debuggerWasLoaded&&e.debuggerWasLoaded()}function a(e){l.dbgr||(l.dbgr={})}function s(){return u.getClientStorageManager()}this.LocalSVNRevision="$Rev: 5252 $";var u,l,c=this,d="wm-dbg",f="wm-dbg-cnf";c.launchDebugger=function(e,t){c.isDebuggerOnWindow()||(e?s().saveData(f,e,Ma):s().removeData(f),t&&(l.dbgr||(l.dbgr={}),l.dbgr.debuggerWasLoaded=t),n(!0),H.postMessageToFrameAndDescendants(window.top,i({requestType:"DEBUGGER_LOADED"})))},c.closeDebugger=function(){if(c.isDebuggerOnWindow()){var e=l.dbgr.close;e&&e()}delete l.dbgr},c.loadDebuggerFromStorage=function(){t(),n()},c.isDebuggerOnWindow=function(){return!!l.dbgr},c.loadDebuggerForEditor=function(){c.closeDebugger(),s().saveData(f,{uiState:"wmd-minimize"},Ma),s().saveData(d,Na.ActiveAndReset,Ma)},c.isDebuggerEnalbled=function(){return Su.get().DebuggerSettings&&"1"==Su.get().DebuggerSettings.IsInPublish},c.clearDebuggerState=function(){s().removeData(d),s().removeData(f)},e.apply(null,arguments)}function Xt(){function e(){}function n(e){o(e.stack)}this.LocalSVNRevision="$Rev: 4681 $";var r=new t(this),i=[];r.Virtual.Public("analyze",function(e){e.bind("stackComplete",n)}),r.Virtual.Public("stop",function(e){e.unbind("stackComplete",n)}),r.Virtual.Public("getData",function(){}),r.Virtual.Public("clearData",function(){}),r.Public("bind",function(e){i.push(e)}),r.Public("unbind",function(e){i=nd(i,function(t){return e!=t})});var o=r.Protected("dispatch",function(e){for(var t=0;t<i.length;t++)try{i[t](e)}catch(n){}});e.apply(null,arguments)}function Yt(){function e(e){s.Extends(en),o=new un,o.analyze(e)}function n(){c(),a=l.libSetTimeout(n,u)}function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].totalTimeSync();r>t&&(t=r)}return t}function i(e,t){var n=e.totalTimeSync(),r=Math.ceil(100*n/t),i=e.getTraces();tracesString="";for(var o=0;o<i.length;o++)tracesString+=i[o].getName()+": "+i[o].totalTime()+(i[o].isAsync()?" async":"")+", ";console.log(i[0].getName()+": ("+tracesString.substring(0,tracesString.length-2)+")"),console.log(Array(r).join("-")+" (total time: "+n+")")}this.LocalSVNRevision="$Rev: 4401 $";var o,a,s=new t(this),u=3e3,l=ua.get("TimerManager");s.Override("start",function(){n()}),s.Override("stop",function(){a&&(a.clear(),a=null)});var c=s.Override("flush",function(){var e=o.getData();console.log(" ----------------------------------------------\n|                Top Ten Stacks                |\n ----------------------------------------------");for(var t=r(e),n=0;n<e.length;n++)i(e[n],t)});e.apply(null,arguments)}function Jt(){function e(e,t,n){s.Extends(en),o=t,a=n,i=new Xt,i.analyze(e)}function n(e){try{var t=u[e.getName()];t&&a(function(){o(t,r(e),{timeSync:e.totalTimeSync(),timeTotal:e.totalTime(),playGuid:e.playState().playGuid,playNum:e.playState().playNum})},0)}catch(n){}}function r(e){var t=e.getArgs();switch(e.getName()){case"startNewTutorial":return _makeTutorial.getTutorials()[t[0]];case"executeTutorialStep":case"checkGoal":return t[0]}return null}this.LocalSVNRevision="$Rev: 4681 $";var i,o,a,s=new t(this),u={startNewTutorial:"WalkthruProfilingEnd",executeTutorialStep:"StepProfilingEnd",checkGoal:"GoalProfilingEnd"};s.Override("start",function(){i.bind(n)}),s.Override("stop",function(){i.unbind(n)});s.Override("flush",function(){});e.apply(null,arguments)}function Zt(e){function t(){}function n(e,t){v.length&&v[v.length-1].playState(t)}function r(){window._walkmeInternals&&(_walkmeInternals.bind("WalkthruGuid",n),_walkmeInternals.bind("StepPlayNum",n))}function i(){e.libSetTimeout=o(e.libSetTimeout),e.playSetTimeout=o(e.playSetTimeout)}function o(e){return function(t,n){var r=h,i=u("timeout",!0);h=[];var o=e(function(){l(i),h=r,t(),h=[],a(r)},n),s=o.clear;return o.clear=function(){l(i),a(r),s.apply(o)},o}}function a(e){for(var t=0;t<e.length;t++){var n=e[t];n.hasEnded()&&(g.dispatch("stackComplete",{stack:n}),e.splice(t,1),t--)}}function s(e,t){f(e);var n=new an(e,t);return h.push(n),g.dispatch("stackStart",{stack:n}),n}function u(e,t){for(var n=[],r=0;r<h.length;r++)n.push(h[r].startTrace(e,t));return n}function l(e){for(var t=0;t<e.length;t++)e[t].hasEnded()||e[t].end();e.length=0}function c(e,t,n,r){return function(){if(r){var n=s(e,arguments);v.push(n)}var i=u(e),o=t.apply(this,arguments);return l(i),a(h),r&&(d(n),v.pop()),o}}function d(e){for(var t=0;t<h.length;t++)if(h[t]==e)return void h.splice(t,1)}function f(e){var t=p(e);t&&(t.endAll(),a(h))}function p(e){for(var t=0;t<h.length;t++){var n=h[t].getTraces()[0];if(n&&n.getName()==e)return h[t]}}this.LocalSVNRevision="$Rev: 3683 $";var g=this,h=[],m={},v=[];g.init=function(){i(),r()},g.startStackByName=function(e){function t(){r&&(n=h,h=[r],r.endAll(),a(h),h=n,r=void 0)}var n=h;h=[];var r=s(e);return u(e),h=n,t},g.profile=function(e,t,n){return c(e,t,n,!0)},g.instrument=function(e,t,n){return c(e,t,n)},g.bind=function(e,t){m[e]||(m[e]=[]),m[e].push(t)},g.unbind=function(e,t){if(m[e])for(var n=0;n<m[e].length;n++)if(m[e][n]==t){m[e].splice(n,1);break}},g.dispatch=function(e,t){if(m[e])for(var n=0;n<m[e].length;n++)try{m[e][n](t)}catch(r){}},t.apply(null,arguments)}function en(){function e(){}this.LocalSVNRevision="$Rev: 5255 $";var n=new t(this);n.Virtual.Public("start"),n.Virtual.Public("stop"),n.Virtual.Public("flush"),n.Virtual.Public("startSession",function(){}),n.Virtual.Public("endSession",function(){}),n.Virtual.Public("addAuditListener",function(){}),e.apply(null,arguments)}function tn(){function e(){}this.LocalSVNRevision="$Rev: 4401 $";var t,n=this;n.setProfilerManager=function(e){t=e},n.start=function(e){t&&t.start(e)},n.stop=function(e){t&&t.stop(e)},n.startSession=function(e){t&&t.startSession(e)},n.endSession=function(){t&&t.endSession()},n.startProfile=function(e){t&&t.startProfile(e)},n.registerProfilerCallback=function(e){t&&t.registerProfilerCallback(e)},n.addAuditListener=function(e){t&&t.addAuditListener(e)},e.apply(null,arguments)}function nn(){function e(e,t,n,i,o,a,s){d=e,p=t,g=n,h=i,m=o,f=a,v=!1,y=[],w=s,r()}function t(e){for(var t in b)b.hasOwnProperty(t)&&b[t]&&e(b[t])}function n(){if(!v){v=!0,f.init();for(var e=0;e<y.length;e++)y[e](f)}}function r(){var e=new ln;e.analyze(f),d.refreshGetData(null,function(){for(var t=d.getData(u,[]),n=0;n<t.length;n++)s.start(t[n]);e.stop(f)})}function i(e){switch(e){case l.Console:return new Yt(f);case l.Debugger:return new Jt(f,Cl,h.libSetTimeout);case l.Server:return new rn(f,d,w,nl,p.getEndUserGuid(),g.browser.string,g.os.name,m)}}function o(e){d.refreshGetData(null,function(){var t=d.getData(u,[]);t=nd(t,function(t){return t!=e}),d.saveData(u,t,La)})}function a(e){d.refreshGetData(null,function(){var t=d.getData(u,[]);-1==Ro(e,t)&&(t.push(e),d.saveData(u,t,La))})}this.LocalSVNRevision="$Rev: 3683 $";var s=this,u="wm-prf-stt",l={Console:1,Debugger:2,Server:3},c={};c[l.Console]=Yt,c[l.Debugger]=Jt,c[l.Server]=rn;var d,f,p,g,h,m,v,y,w,b={};s.start=function(e){n(),c[e]&&!b[e]&&(b[e]=i(e),b[e].start(),a(e))},s.stop=function(e){
b[e]&&(b[e].stop(),b[e]=null,o(e))},s.startSession=function(e){t(function(t){t.startSession(e)})},s.endSession=function(){t(function(e){e.endSession()})},s.addAuditListener=function(e){t(function(t){t.addAuditListener(e)})},s.startProfile=function(e){return f.startStackByName(e)},s.registerProfilerCallback=function(e){e&&(v?e(f):y.push(e))},e.apply(null,arguments)}function rn(){function e(e,t,i,o,a,s,g,h){b.Extends(en),c=o,d=a,f=s,p=g,r(i),m=t,y=h,w=[],v=m.getData(I,C),l=new sn,l.bind(u),l.analyze(e),n()}function n(){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),S.flush()}}function r(e){h=e.register("pa",{actionUrl:"/Monitoring/AddMmt",technicalSuccessHandler:o,defaultDataStorageLifeSeconds:k,prefixForStorage:"pa",sendingThreshold:4,dataType:"profiling audit",requestParamsFunc:function(e){return{mmt:i(e),userGuid:c}},recursiveMinification:!0})}function i(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return y.toJSON(t)}function o(e,t,n,r,i){"true"==e||e&&e.Data&&e.Data.length>0?(a(e,i),r()):(wo("Profiler Measurements Audit - Internal Error",3),n())}function a(e,t){td(w,function(n){n(e,t)})}function s(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.push({description:n,numOfSamples:r.size,average:r.average,variance:r.variance,max:r.max})}return t}function u(e){g&&e.totalStacksAnalyzed>=T&&S.flush()}this.LocalSVNRevision="$Rev: 5255 $";var l,c,d,f,p,g,h,m,v,y,w,b=new t(this),S=this,T=100,k=3600,I="wm-prf-snk",C="default";b.Override("start",function(){g=!0}),b.Override("stop",function(){g=!1}),b.Override("flush",function(){var e=l.getData();if(e){l.clearData();for(var t=s(e),n=0;n<t.length;n++){var r={measurements:[t[n]],endUserGuid:d,browser:f,page:window.location.href,os:p,session:v};h.sendData(r)}}}),b.Override("startSession",function(e){S.flush(),v=e,m.saveData(I,v,k)}),b.Override("endSession",function(){S.flush(),v=C,m.removeData(I)}),b.Override("addAuditListener",function(e){e&&w.push(e)}),e.apply(null,arguments)}function on(){function e(e,t){i=e,o=t}function t(){return(new Date).getTime()}this.LocalSVNRevision="$Rev: 4401 $";var n,r,i,o,a=this;a.getStart=function(){return n},a.getEnd=function(){return r},a.start=function(){n=t()},a.end=function(e){r=e||t()},a.hasEnded=function(){return!!r},a.totalTime=function(){return r-n},a.getName=function(){return i},a.isAsync=function(){return o},e.apply(null,arguments)}function an(){function e(e,t){n=e,r=t}function t(e){for(var t,n=0;n<o.length;n++)(!t||e(t,o[n]))&&(t=o[n]);return t}var n,r,i=this,o=[],a={};i.startTrace=function(e,t){var n=new on(e,t);return o.push(n),n.start(),n},i.hasEnded=function(){if(0===o.length)return!1;for(var e=0;e<o.length;e++)if(!o[e].hasEnded())return!1;return!0},i.totalTime=function(){var e=t(function(e,t){return t.getStart()<e.getStart()}).getStart(),n=t(function(e,t){return t.getStart()>e.getStart()}).getEnd();return n-e},i.totalTimeSync=function(){for(var e=0,t=0;t<o.length;t++)o[t].isAsync()||(e+=o[t].totalTime());return e},i.endAll=function(){for(var e=0;e<o.length;e++)o[e].hasEnded()||o[e].end()},i.getTraces=function(){return o},i.getName=function(){return n},i.getArgs=function(){return r},i.playState=function(e){if(void 0===e)return a;for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},e.apply(null,arguments)}function sn(){function e(){i.Extends(Xt)}function n(e){for(var t=Jc(e,0,function(e,t){return t>e?t:e}),n=e.length,r=Jc(e,0,function(e,t){return e+t}),i=r/n,o=0,a=0;n>a;a++)o+=Math.pow(e[a]-i,2);return o/=n,{size:n,average:i,variance:o,max:t}}function r(e){if(e.stack){var t=e.stack.getName();o[t]||(o[t]=[]),o[t].push(e.stack.totalTimeSync()),a++,i._base.dispatch({stack:e.stack,totalStacksAnalyzed:a})}}this.LocalSVNRevision="$Rev: 4681 $";var i=new t(this),o={},a=0;i.Override("analyze",function(e){e.bind("stackComplete",r)}),i.Override("stop",function(e){e.unbind("stackComplete",r)}),i.Override("getData",function(){if(0==a)return null;var e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=n(o[t]));return e}),i.Override("clearData",function(){o={},a=0}),e.apply(null,arguments)}function un(){function e(){r.Extends(Xt)}function n(e){for(var t=0;i>t;t++)if(!o[t]||e.stack.totalTimeSync()>o[t].totalTimeSync())return o.splice(t,0,e.stack),o.length>i&&o.pop(),void r._base.dispatch(o)}this.LocalSVNRevision="$Rev: 4681 $";var r=new t(this),i=10,o=[];r.Override("analyze",function(e){e.bind("stackComplete",n)}),r.Override("stop",function(e){e.unbind("stackComplete",n)}),r.Override("getData",function(){return o}),e.apply(null,arguments)}function ln(){function e(){r.Extends(Xt)}function n(e){o.push(e)}this.LocalSVNRevision="$Rev: 4401 $";var r=new t(this),i=this,o=[];r.Override("analyze",function(e){e.bind("stackComplete",n)}),r.Override("stop",function(e){e.unbind("stackComplete",n);for(var t=0;t<o.length;t++)e.dispatch("stackComplete",o[t]);i.clearData()}),r.Override("getData",function(){return o}),r.Override("clearData",function(){o=[]}),e.apply(null,arguments)}function cn(e){var t=void 0;return mtjQuery.each(Ds,function(n,r){return e==r?(t=n,!1):void 0}),t}function dn(e){ua.createCallback(function(e,t){var n="set"+e;ia.hasOwnProperty(n)&&ia[n](t)}),Bs=ua.get("Consts"),Ws=ua.get("StepUtils"),Qs=ua.get("AuditSourceManager"),ua.initialize("Logger"),ua.initialize("HostData"),ua.initialize("ElementFinder"),ua.get("WalkmeLoader").start(function(){e&&e(ia)})}function fn(e){rc=e}function pn(){return Ns.getAllUserGuids()||il}function gn(e,t){var n=void 0;if(t)switch(e){case _s.Cookie:n=hn(t),n||(n=void 0);break;case _s.Var:n=mn(t)}return n}function hn(e){return Gu.getCookie(e)}function mn(e){for(var t=e.split("."),n=window[t[0]],r=1;r<t.length;r++){if(void 0===n||null===n)return void 0;n=n[t[r]]}return n}function vn(){var e=window.jQuery||window.$;return e&&e.fn&&e.fn.jquery?e:void 0}function yn(){return Qs.get()===Bs.SOURCES.preview}function wn(){return Qs.get()===Bs.SOURCES.play}function bn(){return Qs.get()===Bs.SOURCES.production}function Sn(e,t){void 0==e.BalloonSettings&&t.length>0&&(e.BalloonSettings=t[0].Steps[0].Configuration)}function Tn(e,t){var n=e.css(t);return n?parseFloat(n):0}function kn(e){var t=Rl;Rl=[],In({objectsArray:t,functionsToExecute:[function(e,t){e.destroy(!1,t)}],successCallback:e})}function In(e){function t(){if(0==a.length)return void(l&&l());o=u.length*a.length;for(var e=u.length-1;e>=0;e--)for(var t=a.length-1;t>=0;t--){if(d)return;var n=s?s(a[t]):a[t];u[e](n,r)}}function n(){if(0==u.length)return void(l&&l());o=u.length;for(var e=u.length-1;e>=0;e--){if(d)return;u[e](r,i)}}function r(){o--,0==o&&l&&l()}function i(){d||(d=!0,c&&c())}var o,a=e.objectsArray,s=e.selectorFunc,u=e.functionsToExecute,l=e.successCallback,c=e.failCallback,d=!1;a?t():n()}function Cn(){S.extendMtHidden()}function xn(e){var t=u(e),n=Su.get();return n&&(t.direction=n.Direction,t.showPoweredBy="1"==n.PoweredByLink,t.showPoweredByFormat=n.IsDisplayPoweredBy),t}function _n(e,t){for(var n=0;n<e.length;n++)e[n].userGuid=t}function Dn(){return ia.LibVersion}function En(){var e=Ns.getSettingsFile().LibFile,t=/http.+\/player\//.exec(e);return t[0]}function An(){var e=Uu.getData(Bl,Na.Deactive,ia.getUserGuid());return e==Na.Active||e==Na.ActiveAndReset}function Pn(){var e=Nn()||Rn();return e||wo(Ca,"Not loading test me (checked window var, query string parameter and storage entry)",1),e}function Nn(){return window.walkMeTestMeLoad?(wo(Ca,"ShouldLoadTestMe - True by window var",1),ia.rememberTestMeIsOn(),window.walkMeTestMeLoad=void 0,!0):void 0}function Rn(){var e=Uu.getData(Da,0,ia.getUserGuid());return e?(wo(Ca,"ShouldLoadTestMe - True by storage entry",1),!0):void 0}function jn(e){wo("after loading storage",4);var t=e?Mn:Ln;An()&&!ti()&&(Os.dbgr={debuggerWasLoaded:t},t=Wu.loadDebuggerFromStorage);var n=Pn();return n&&(window._walkmeInternals.testme={},window._walkmeInternals.testme.testmeLoadedCallback=t,t=ia.loadTestMe),wo("willLoadTestMe: "+n,1),t}function Mn(){wo("after loading storage for play",4),Ou.init(),On(),fl.enabled()?fl.start():Di(),wo("sending editor event: StorageManagerInitialized",4),kl("StorageManagerInitialized")}function Ln(){On();var e=ia.Logger.timer("after loading storage"),t=ia.Logger.timer("show all launchers");if(ia.showAllLaunchers(),t.stop(),Bn(),fl.enabled())try{fl.start()}catch(n){ia.Logger.customerLog(n,"failed to start pass ownership manager",1),Di()}else Di();if(bn()){var r=ia.getEndUserGuid();al.auditUniqueEndUser(nl,cl.getPermutation(),r)}var i=dl?dl.startWatching:Fn;i(function(){Ou.init(),Gn(),yn()||wn()||Mu.reportEndUser(function(){ia.removeWalkMe("reportEndUserFailed")}),setTimeout(function(){ua.get("SettingsCacheManager").start()},5e3),e.stop()})}function On(){Ru.init(),sl.init(),ml.start(),ia.setCrossDomainManager(ua.get("CrossDomainManager"))}function Gn(){try{walkme_ready()}catch(e){}try{mt_ready()}catch(e){}ia.isWalkMeVisible()&&!Un()&&(ua.get("PermalinkManager").run(),ua.get("AutoStartManager").run())}function Un(){return!!window._testMe}function Fn(e){e()}function Bn(){if(Us.isIE()){var e=mtjQuery("a[href^='javascript:']"),t="click.walkme.ignoreUnload";e.off(t),e.on(t,function(){Ol=!0})}}function Wn(e,t){for(var n=e.Steps,r=0;r<n.length;r++)Qn(n[r],r,t)}function Qn(e,t,n){e.StepIndex=t,e.Configuration&&-1!=e.Configuration?(e.End=e.Configuration.End,e.Duration=e.Configuration.Duration,e.Delay=e.Configuration.Delay,e.Position=e.Configuration.Position):e.Configuration=n.BalloonSettings,e.IgnorePosition=e.IgnorePosition||parseInt(Vo(e.Settings,"ignorePosition",0))}function Vn(e){return Hn(e,"TaskProperties","Settings"),$n(e),e}function Hn(e,t,n){void 0!==e[t]?e[n]=e[t]:e[t]=e[n]}function $n(e){e.RelatedDeployableId?e.Settings.WalkThruId=e.RelatedDeployableId:(e.RelatedDeployableType=Ds.Tutorial,e.RelatedDeployableId=Number(e.Settings.WalkThruId))}function zn(){return!hc("walkmeIE7Support")&&Us.isIEBrowser(8,"lt")&&!window.postMessage}function qn(){if(zn())return wo("WalkMe is not supported on that browser"),!1;if(ia.getBalloonDrawer(Su.get().BalloonSettings).loadResources($o().siblings("head")),Kn(),Ns.getStorageType()||(Uu=Ps.byFeature()),Uu===!1)return!1;if(hl.setFeatures(hc("blockJsonp"),hc("corsJsonpFallback")),ol=ua.get("AbTestingManager"),!ol.shouldLoadWalkme())return!1;Sl.overrideTimeouts(),ia.profilerAPI.setProfilerManager(ua.get("ProfilerManager")),ia.profilerAPI.registerProfilerCallback(So),Qu=new jt({deployables:pu});var e=Su.get();e.EndUserSettings&&ju.setEndUserSettings(e.EndUserSettings),Fu=ua.get("EndUserStorageManager"),fc=hc("oldframesets");var t=parseInt(e.TodoListSettings.isActive)&&ia.evaluateConditionTree(e.TodoListSettings.activateCondition),n=Tu.length>0;n&&(Ou.enableMultiUserStorage(),Yu=new Ft({deployables:Tu,lib:ia}),dl=new Le({deployablesGoalManager:Ou,experiments:Yu.getAll(),lib:ia,getEndUserGuid:ia.getEndUserGuid,getPermutationId:cl.getPermutation,getAuditSource:Co,serverAddress:Du.get(),storageManager:$s})),zu=new Gt({deployables:mu,lib:ia,cdnServerName:Pu,deployablesGoalsManager:Ou,clickAuditManager:sl}),qu=new Rt({deployables:Iu,lib:ia}),Xu=new Ut({deployables:Cu,lib:ia}),Ku=new Ot({deployables:vu,deployablesGoalsManager:Ou,clickAuditManager:sl,lib:ia}),Hu=new Lt({deployables:hu,lib:ia}),Ju=new Te({deployables:yu,abPermutationManager:cl,recorderServerManager:Du,permalinkManager:Eu,state:ys,lib:ia}),Zu=ua.create("ShoutOutsManager",{deployables:wu,lib:ia}),el=ua.create("ShoutOutsManager",{deployables:bu,lib:ia}),Vu=new Mt(gu,t,Du.get(),$s,ml,nl,ia.getEndUserId(),ia.Logger.error,yn(),wn(),cl.getPermutation,ia.getEndUserGuid,Co,ia,zu,Qu),Xn();var r=ua.get("AbTasksValidator");return r.shouldTrackAbTasks()?($u=new ge({todoListManager:Vu,goalsManager:As}),Vu.init(),Vu.loadTasks($u.startWatchingTasks)):(_walkmeInternals.abTasksBlocked=!0,Cl("AbTasksBlocked"),wo("Not tracking ab testing and tasks - blocked in this browser."),ol.disableReport()),ol.isAbTestingEnabled()&&ia.setAnalyticsCustomFields(0,ia.getEndUserId()),!0}function Kn(){H.setDefault(Su.get(),"TodoListSettings",{})}function Xn(){tl[Ds.Tutorial]=Qu,tl[Ds.Content]=zu,tl[Ds.Task]=Vu,tl[Ds.Launcher]=Hu,tl[Ds.Category]=qu,tl[Ds.Collection]=Xu,tl[Ds.Shuttle]=Ku,tl[Ds.AbExperiment]=Yu,tl[Ds.Survey]=Ju,tl[Ds.ShoutOut]=Zu,tl[Ds.ShoutOutBar]=el}function Yn(){this.get=function(e){return tl[e]}}function Jn(e){uc.push(e);var t=cc[cc.length-1];t&&t.Id==e.Id||cc.push(e)}function Zn(e){lc.push(e.Id)}function er(e){wo("onbeforeunload called",1),Ol?Ol=!1:(Ll=!0,Sl.pauseAllTimeouts(),fl&&fl.enabled()?fl.loseOwnership(!1,!0):hc("noUnload")&&nr())}function tr(){Ll=!1,Sl.resumeTimeoutsArray("playTimeouts")}function nr(){setTimeout(function(){Ll=!1,Sl.resumeAllTimeouts()},3e3)}function rr(e){try{e=e||0;var t=Uu.getData(Fl,{},pn()[0]),n=t[Ql],r=kc(n),i=t[Hl],o=r.Steps[i+e];return o}catch(a){return null}}function ir(){window._testMe&&(_testMe.exit(),wmjQuery("script[src*='waklme_testme']").remove(),window._testMe=void 0,window.walkMeTestMeLoad=void 0,$s.removeData(Da),window.walkMeTestMeClearStorage=void 0,window.testMeData&&(window.testMeData=void 0,wo(Ca,"Test me data cleared",1)),wo(Ca,"_testMe cleared",1))}function or(e){if(Bu.isFramesetsPage())for(var t=Bu.getAllFramesDocuments(),n=0;n<t.length;n++)wmjQuery(e,t[n]).remove()}function ar(e,t){return H.defaultValue(e,t)}function sr(e,t){Dl=-1,Al=ys.NOT_RUNNING,El=-1,Pl=[],Ru._currentPlayGUID="",oc=!1,uc=[],lc=[],cc=[],_u={},dc=-1,Ll=!1,Gl=!1,e||(Ru._currentPlayInitiator=null),t||Ci()}function ur(e,t,n,r){for(var i=t;n>i;i++)Ru.auditStep(pu[e].Steps[i],r,pu[e].Steps.length)}function lr(e){if(Nu[pu[e].TutorialId]){var t=Nu[pu[e].TutorialId].siteConfig;t&&Su.set(t)}}function cr(e){var t;return t=Vo(pu[e].Settings,"SafeStart",!1),t&&"0"!=t.enabled||(t=Vo(Su.get().Settings,"SafeStart",null)),t}function dr(e,t,n,r){for(var i=t;n>i;i++)r!=Bs.stepAction.SkippedByActionStep&&Cl("NewSkippedStep",pu[e].Steps[i])}function fr(e){var t={ClickEvent:e};Il("UserStoppedWalkthru",t),xl("UserStoppedTutorial",t);var n=-1==El;n||Ru.auditStep(Io(),Bs.stepAction.Exited,Ii().Steps.length),ia.stopTutorial(n),Il("UserStoppedWalkthruAfterStop",t),xl("UserStoppedTutorialAfterStop",t)}function pr(e,t,n,r,i){try{ia.userSawWalkMe(),oa=0,Cl("LoadWt",pu[e]),lr(e),zu.removeContent(),r=ar(r,ia.generateNewPlayGuid(pu[e].TutorialId)),n=ar(n,!0),t=ar(t,0),0==t&&(t=Li(e)),bc(e,t,r,i,[],[],[]),Co()!=Bs.SOURCES.play&&Ou.startWatchingDeployable(pu[e],r),ia.postWelcomeStep(e)}catch(o){_makeTutorial.Logger.error(o)}}function gr(e,t,n,r,i,o){function a(t){if(!Qr(t)||1!=r)return t.StepIndex;if(pu[e].Steps.length>t.StepIndex){var o=gr(e,t.StepIndex+1,n,r,i,Ra.Normal);return 0>o?o:t.StepIndex}}function s(e){var t=Hr(e);if(t.getGoToData){var o=t.getGoToData(),a=gr(o.tutorialIndex,o.stepIndex,n,r,i,Ra.Normal);if(0>a)return a}else if("stopWt"==t.type)return-2;return e.StepIndex}function u(e,n){return mr(wc,n),wo("returned checking "+t+" ("+c.Id+") result: "+e,5,Sa),e}var l=pu[e],c=l.Steps[t];r=ar(r,1),n=ar(n,0);var d=vr(wc,c.Id);if(wo("Checking if step index "+t+" ("+c.Id+") can be played. looped: "+d+" on mode:"+o,5,Sa),wc.push({id:c.Id,mode:o}),d)return u(-5,c.Id);var f=Zr(c),p=!0;f!=Cs.STICKY_CONDITION&&(p=ei(c));var g=Vo(c.Settings,"fake",!1),h=Vo(c.Settings,"skipNotExists",!1),m=h||c.IsSkippable||!p||g;if(p&&!g&&ia.findElement(c))return Ws.isActionStep(c)?u(s(c),c.Id):Ws.isPopupStep(c)?u(a(c),c.Id):u(t,c.Id);i&&i.push({stepIndex:t,stepStatus:hr(m,p)});var v=t+r;if(m){var y;if(0>v)return u(-2,c.Id);if(v==l.Steps.length){if(Pl&&Pl.length>n){var w=Pl[Pl.length-1-n];return y=gr(w.tutorialIndex,w.stepIndex,n+1,r,i,Ra.Normal),wo("Checking if step "+t+" ("+c.Id+") can be played. reached last step",5,Sa),u(y,c.Id)}return u(-2,c.Id)}return wo("Checking if step "+t+" ("+c.Id+") can be played. Skipping to: "+v,5,Sa),y=gr(e,v,n,r,i,Ra.Normal),u(y,c.Id)}return u(-1,c.Id)}function hr(e,t){return e?t?Bs.stepAction.SkippedNotFound:Bs.stepAction.SkippedByCondition:Bs.stepAction.SupposedToShow}function mr(e,t){if(!e||0==e.length)return!1;for(var n=[],r=void 0,i=!1;e.length>0;){if(r=e.pop(),r.id==t){i=!0;break}n.push(r)}if(n.length>0)for(;n.length>0;)e.push(n.pop());return i}function vr(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id==t)return!0}return!1}function yr(e){var t;return t=Nu[e]?Nu[e].siteConfig:Su.get()}function wr(e,t,n,r,i,o){var a=Do(!0),s=u(n);i&&(s.displayX=!1);var l=ia.getSiteConfig().BalloonSettings;l=u(l),wmjQuery.extend(l,o);var c=new z({element:a,forceEmbedBalloonInIframe:!1,positionHelper:S,fixedSize:{width:t,height:0},stepSettings:s,htmlContent:e.htmlContent,text:{title:e.title||"",content:e.text||"",subText:e.subText||""},data:{type:Bs.STEP_TYPE.Popup},configuration:l,logger:ia.Logger,drawer:ia.getBalloonDrawer(l),siteConfig:ia.getSiteConfig()});Rl.push(c),c.Show(!1,function(){var e=mtjQuery(c.getBalloonDiv());if(e.removeClass("walkme-custom-step-undefined"),mtjQuery("*",e).removeClass("walkme-custom-step-undefined"),e.removeClass("walkme-custom-walkthru-undefined"),mtjQuery("*",e).removeClass("walkme-custom-walkthru-undefined"),o&&o.surveyId){var t=o.surveyId;e.attr("id","walkme-survey-balloon-"+t)}r(e,l)})}function br(e){var t=mtjQuery("<div></div>");return e=H.nl2br(e),t.append(e),t}function Sr(e,t){var n=ia.getSiteConfig(),r=br(n.SafeStartPopupText),i={popupStepButtons:[{id:0,name:n.RedirectButtonText,action:5},{id:1,name:n.StayButtonText,action:6}]};wr({htmlContent:r},400,i,function(n){Ir(n,e,t)})}function Tr(e,t){var n="Sorry about that! The Walk-Thru cannot be played right now. Please try again later",r=kr();r.enabled&&(n+=l(" or contact <a href='{0}' target='_blank' style='text-decoration: underline; color: blue;'>support.</a>",r.url));var i=br(n),o={popupStepButtons:[{id:0,name:"OK",action:7}]},a=!0;wr({htmlContent:i},400,o,function(e){mtjQuery(".walkme-action-ok",e).click(function(){ia.releaseBalloons()})},a)}function kr(){var e={};return e.enabled=ia.getCommonUtils().isTrue(ia.getSiteConfig().Settings,"openATicketEnabled",!1),e.url=ia.getCommonUtils().getSettingsValue(ia.getSiteConfig().Settings,"openATicketUrl",""),e.url&&ia.getCommonUtils().isValidUrl(e.url)?e.url=encodeURI(e.url):(e.enabled=!1,e.url=null),e}function Ir(e,t,n){mtjQuery(".walkme-action-redirect",e).click(function(){xr(t,ws.RedirectClicked,n)}),mtjQuery(".walkme-action-stay",e).click(function(){_r(n)}),mtjQuery(".walkme-action-close",e).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",e).click(function(){_r(n)})}function Cr(e,t,n){void 0!=t.Id&&Ru.safeStartAudit(e,t),n&&setTimeout(n)}function xr(e,t,n){var r=pu[n],i=function(){Dr(e,n)};Cr(t,r,i)}function _r(e){Cr(ws.StayClicked,pu[e]),Er()}function Dr(e,t){El=0,Al=ys.WAITING_FOR_REDIRECT,Dl=t,Ci(),Ui(e,!0),Er()}function Er(){ia.releaseBalloons()}function Ar(e){var t=yr(e.Id),n=t.BalloonSettings,r="v3"==n.BalloonVersion,i=Vo(e.Settings,"cantPlayAlert",t.TutorialCantPlayText),o=i==t.TutorialCantPlayText,a="";if(o&&(yn()||wn())){var s=r?"14px":"15px",u="Oops, it seems that this walk-thru cannot be played from this current location.";i="Please note that your users will not be able to play the walk-thrus from this location either. In order to get this issue fixed, please enable the Safe start.";var l="http://support.walkme.com/customer/portal/articles/1178398-safe-start";a+="<h1 id='walkme-first-step-not-available-title' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-weight: bold; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word;'>"+u+"</h1>",a+="<h2 id='walkme-first-step-not-available-content' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word; font-weight: normal;'>"+i+"</h2>",a+='<a href="'+l+'" target="_blank" style="float: left; margin-left: 11px; text-decoration: underline; color: blue;">Read More</a>'}else{var s=r?"14px":"21px";i=ia.parseBBCode(i),a+="<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word;'>"+i+"</h1>"}if(r){var c={popupStepButtons:[{id:0,name:"OK",action:7}]},d=wmjQuery("<div></div>");d.append(a);var f=!0;wr({htmlContent:d},446,c,function(e){mtjQuery(".walkme-action-ok",e).click(function(){ia.releaseBalloons()})},f)}else a+="<div style='float: right'>",a+=Qi("walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",n),a+="</div>",Go("first-step-not-available",a,420,e.TutorialId,Pr)}function Pr(e){mtjQuery(".walkme-custom-first-step-not-available-ok-button",e).click(function(){Uo()})}function Nr(){if(pc){for(var e=pc.length-1;e>=0;e--)pc[e].cleanResources();pc=[]}}function Rr(){Uu.refreshGetData(),Sl.playSetTimeout(function(){var e=Uu.getData(Ul,void 0,Ii().userGuid);1==e?(wo("Other window finished. Resuming walk-thru here."),$s.saveData(Ul,0,iu,Ii().userGuid),Di()):Rr()},500)}function jr(e,t){if("number"==typeof e)return e==t;for(var n=e.split(","),r=0;r<n.length;r++)if(t+""==n[r])return!0;return!1}function Mr(e){Tc()||Pl.push({tutorialIndex:Dl,stepIndex:void 0!=e?e:El+1,playGuid:Ru._currentPlayGUID,playInitiator:Ru._currentPlayInitiator,stepPlayHistory:uc,stepCompletedHistory:lc,stepPlayStack:cc})}function Lr(e){return pu[e]}function Or(e){var t=Yc(e,function(e){wo("Check walk-thru: "+e.TutorialId+" ("+bo(e.TutorialId)+")");var t=ia.findElement(e);return wo(t?"First step found.":"First step not found."),{step:e,element:t}});return t=nd(t,function(e){return e.element}),Yc(t,function(e){return e.step})}function Gr(e){try{wo("Multiple branch: Going through all walk-thrus.");var t=Ic(e),n=Or(t);if(1==n.length)return n[0].TutorialId;if(!(n.length>1))return null;wo("can't decide which tutorial to play",5),wo(n.length+" walk-thrus match. Cannot choose which walk-thru to start.")}catch(r){ia.Logger.error(r)}}function Ur(){return Fr(Dl,El,0)}function Fr(e,t,n){if(pu[e].Steps.length>t+1){var r=pu[e].Steps[t+1];return r.TutorialIndex=e,r}if(Pl&&Pl.length>n){var i=Pl[Pl.length-1-n];return Fr(i.tutorialIndex,i.stepIndex-1,n+1)}return null}function Br(){var e=Ur();return null==e?0:e.Delay}function Wr(){var e=Ii();Ju.handleSurveyPlayThroughWalkthru(e,Zs.WalkThruInterrupted,void 0,ia.executeTutorialNextStep)}function Qr(e){return e.Type!=Bs.STEP_TYPE.Popup?!1:1==Vo(e.Settings,"popup-play-condition",0)}function Vr(e){for(var t=0;t<hu.length;t++)if(hu[t].Id==e)return hu[t]}function Hr(e){if(void 0!=_u[e.Id])return _u[e.Id];var t=Vo(e.Settings,"action",null);return t?(_u[e.Id]=ua.get("ActionsFactory").get(t.actionType,t.arguments,null,e),_u[e.Id]):(wo("No action core. aborting..."),null)}function $r(e){var t=e;return uc.length>1&&(t=Sc(uc[uc.length-2].Idx)),jr(e.End,Aa.NOTHING)||jr(t.End,Aa.NOTHING)}function zr(e){return"Func"==e.nodeType?"ElementClicked"==e.funcName:"And"==e.nodeType||"Or"==e.nodeType?zr(e.leftSon)||zr(e.rightSon):!1}function qr(){if(!Kc(uc)||uc.length<2)return!0;for(var e=0;e<uc.length-1;e++){var t=uc[e].Idx,n=pu[Dl].Steps[t];if(!Kc(n.Settings.action))return!1}return!0}function Kr(){for(var e=Su.get().StepsInfoText,t=pu[Dl].Steps,n=0,r=0,i=0;i<t.length;i++)Xr(t[i])&&(n++,El>=i&&r++);return hc("floatingsubtext")?(e=e.replace("{0}",au+r+su),e=e.replace("{1}",uu+n+lu)):(e=e.replace("{0}",r),e=e.replace("{1}",n)),e}function Xr(e){return!(e.Type==Bs.STEP_TYPE.Action||parseInt(Vo(e.Settings,"isInvisible",0))||parseInt(Vo(e.Settings,"fake",0)))}function Yr(e){if(null!=e){var t=Sc(e);return Ws.isActionStep(t)}return!1}function Jr(e){var t=Yc(e,_c),n=Ro(-1,t);return void 0==n||-1==n}function Zr(e){return Vo(e.Settings,Is,Cs.PLAY_CONDITION)}function ei(e){var t=Vo(e.Settings,"skipStepCond","");if(t.length>0)try{return ia.evaluateCondition(t)?!1:!0}catch(n){return!0}var r=Vo(e.Settings,"PSCTEnabled",0);if(1!=r)return Ws.isActionStep(e)&&"never"==Vo(e.Settings,"whenToFire","")?!1:!0;var i=Vo(e.Settings,"PSCT","");if(""==i)return!0;try{var o=ia.evaluateConditionTree(i);return Cl("PlayStepCondition",e,{playGUID:Ru._currentPlayGUID}),o}catch(n){return!1}}function ti(){return Wu.isDebuggerOnWindow()}function ni(e,t){var n=_c(t);if(n>-1){var r=Ec(e,pu[n]);if(r)return r}return null}function ri(e,t){return pu[e]&&pu[e].Steps[t]?pu[e].Steps[t]:void 0}function ii(e,t,n,r){Al=ys.WAITING_FOR_SPLIT,1!=n&&Mr(t),Nl=e,vl=r,Ci(),Fi(),ia.resumeSplit()}function oi(e,t){for(var n=0;n<t.length;n++)e.unbind(t[n]+".mt");return!1}function ai(e,t,n,r,i){ia.releaseBalloons(),n&&(ia.shouldHandlePageAsFramesets()&&Bu.checkIfAnyFrameIsUnloaded(t),null!=r&&(Ol=si(mtjQuery(r.target)))),Al=ys.RUNNING,Ci(),Fi(void 0==i),void 0!=i&&(El=i),e&&void 0==i?_makeTutorial.tutorialFinished():Sl.playSetTimeout(function(){_makeTutorial.executeTutorialNextStep()},t)}function si(e){if(Us.isIE()){var t=!1;if("a"==e[0].nodeName.toLowerCase())t=e;else{var n=e.parents("a");n.length>0&&(t=mtjQuery(n[0]))}if(t&&t.attr("href")&&0==t.attr("href").indexOf("javascript:"))return!0}return!1}function ui(e,t){var n=window._walkmeInternals;if(n){var r="LauncherIsShown";e?n.bind(r,t):n.unbind(r,t)}}function li(e,t){var n=Vo(e.Settings,tu,!1);if(n){var r=parseInt(Vo(e.Settings,nu,null));if(r==eu.soft&&t||e.isContentSecure===!1)return;ci(e,r)}}function ci(e,t){var n=function(e){var t=e.drawable&&e.drawable.isDrawn();return!e.actionInProgress&&!t},r=function(e){return ia.showLauncherForSticky(e)};Tl.registerSticky({identifier:e.Id,stickinessType:t,redrawFunction:ia.getCommonUtils().encloseCall(r,e),shouldDrawFunction:ia.getCommonUtils().encloseCall(n,e)})}function di(e,t){for(var n=[],r=0;r<e.length;r++)t!=r&&n.push(e[r]);return n}function h(e){var t=[];return wmjQuery.each(e,function(e){t.push(e)}),t}function m(e){var t=[];return wmjQuery.each(e,function(n){t.push(e[n])}),t}function fi(e){var t=e.Settings.action;switch(t.actionType){case"playWt":return null!=Qu.getById(parseInt(t.arguments.wtId));case"playContent":return null!=zu.getById(parseInt(t.arguments.contentId));case"playSurvey":return null!=Ju.getById(parseInt(t.arguments.surveyId))}return!0}function pi(e,t){e.actionInProgress=!0;var n=hc("hideLauncherWithoutLink");if(n&&!fi(e))return e.actionInProgress=!1,!1;var r=Vo(e.Settings,"PlayLauncherConditionTree",null);return e.element=void 0,"onHover"==e.Settings.displayStyle&&gi(e,t),r?mi(e,t,r):yi(e,t,!0)}function gi(e,t){var n={featureName:va,elementName:e.Name,jqueryPollingIntervalMs:700,stopPollingAfterEvaluateTrue:!1,stickySonar:!0},r=ua.create("ConditionChecker",n);e.hoverLauncherEvaluator=r,r.onValueChanged(function(n){return n?(e.hoverDestroyTimeout&&(e.hoverDestroyTimeout.clear(),e.hoverDestroyTimeout=void 0),yi(e,t,!1)):(e.hoverDestroyTimeout=Sl.libSetTimeout(function(){e.drawable&&e.drawable.isDrawn()&&(e.hoverLauncherEvaluator.getCachedValue()||e.drawable.destroy(function(){e.hoverLauncherEvaluator.cleanResources(),e.hoverLauncherEvaluator=void 0,gi(e,t)}))},750),!1)});var i,o=".walkme-launcher-id-"+e.Id;e.IdentifySettings.IsJquerySelector?i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:e.IdentifySettings.JquerySelector},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:o},nodeDepth:0},nodeDepth:0}:(identifySettings=hi(e.IdentifySettings),i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"ElementHoverSwitch",funcArgs:{IdentifySettings:identifySettings},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:o},nodeDepth:0},nodeDepth:0}),r.evaluateAsync(i)}function hi(e){var t=u(e);return t.Sensitivity=e.StepSensitivity,t.StepSensitivity=void 0,t.IgnoreId=e.IsIgnoreId,t.IsIgnoreId=void 0,t.IgnoreText=e.IsIgnoreText,t.IsIgnoreText=void 0,t}function mi(e,t,n){if(!e.evaluator){var r={featureName:va,elementName:e.Name,bypassUIChange:!0},i=ua.create("ConditionChecker",r);e.evaluator=i,i.onValueChanged(function(n){n?yi(e,t,!0):e.actionInProgress=!1}),i.evaluateAsync(n)}return e.evaluator.getCachedValue()}function vi(e){var t=ia.findElement(e.IdentifySettings);return t?(e.element=t,!0):!1}function yi(e,t,n){function r(){return e.element?!0:vi(e)}function i(){return n?!0:e.evaluator?e.evaluator.getValue():!0}function o(){return"onHover"!=e.Settings.displayStyle?!0:e.drawable&&e.drawable.isDrawn()?!1:e.hoverLauncherEvaluator.getCachedValue()}return r()&&i()&&o()?wi(e,t):(e.actionInProgress=!1,!1)}function wi(e,t){var n=e.element,r=Vo(e.Settings,"imageObject",""),i=bi(n,r,e);if(i)return e.isContentSecure=!1,wo("Launcher ["+e.Id+"] will not be displayed. Launcher URL must be https in secure page",1),Cl("LauncherInsecure",{name:e.Name}),!1;e.isContentSecure=!0,jo(n);var o=Hu.getMinClickDelay(e),a="none"!=e.Settings.action.actionType,s=new te({element:n,settings:e.Settings,lib:ia,position:e.Position,launcherId:e.Id,userGuid:e.userGuid,launcherName:e.Name,positionHelper:S,addFunctionality:a,cdnServer:Pu,clickAuditManager:sl,delayBetweenClicks:o});e.drawable=s,e.drawable.evaluator=e.evaluator;var u=function(n){return function(){n.show(function(){n.setTimeoutOn(),t&&t(),e.actionInProgress=!1})}}(s);return ki(e,u),!0}function bi(e,t,n){if(void 0===typeof n.isContentSecure)return n.isContentSecure;var r=e[0].ownerDocument.location.href;return Ti(r)&&"custom"==t.type?Ti(t.data.url)&&Si(t.data.click)&&Si(t.data.hover)?!1:!0:!1}function Si(e){return!e||Ti(e)}function Ti(e){return/^https/i.test(e)}function ki(e,t){var n=H.isTrue(e.Settings,"hasDelay",!1);if(n){var r=Vo(e.Settings,"delayInSeconds",0);Sl.libSetTimeout(t,1e3*r)}else t()}function Ii(){return pu[Dl]}function Ci(){var e=void 0,t=void 0,n=void 0,r=void 0,i=Ii(),o=i?i.TutorialId:-1,a=i?i.userGuid:nl;Al==ys.RUNNING||Al==ys.WAITING_FOR_PAGE_CHANGE?(e=El+1,i.Steps.length<=El+1&&(t=1)):Al==ys.WAITING_FOR_SPLIT?(e=El,n=Nl,r=vl):e=El;var s=xi(o,e,t,n,r);$s.saveData(Fl,s,iu,a)}function xi(e,t,n,r,i){var o={};return o[Ql]=e,o[Vl]=Al,o[Hl]=t,o[$l]=oa,o[zl]=Ru._currentPlayGUID,o[ql]=Ru._currentPlayInitiator,o[Kl]=Pl,o[Xl]=n,o[Yl]=uc,o[Wl]=r,o[Zl]=i,window._testMe&&(o[Jl]=lc),o}function _i(){for(var e=pn(),t=0;t<e.length;t++){var n=e[t];$s.removeData(Fl,n)}}function Di(){wo("Restoring cross user state",5);for(var e=pn(),t=0;t<e.length;t++){var n=e[t],r=Ni(n);if(r)return n}return!1}function Ei(e,t){return f(e)?parseInt(e,10):t}function Ai(e){var t=Pi(e),n=ri(t.tutorial,t.step);return n&&(t.isTutorialFinished||t.state!=ys.WAITING_FOR_ELEMENT_EVENT&&t.state!=ys.WAITING_FOR_NEXT_BUTTON_CLICK||Vo(n.Settings,"sticky",0)||n.IsSkippable||(wo("page change happened while waiting for element - pausing walkthru",2),t.state=ys.PAUSED)),t}function Pi(e){var t=Uu.getData(Fl,{},e),n=Ei(t[Ql],-1),r={state:Ei(t[Vl],ys.NOT_RUNNING),step:Ei(t[Hl],-1),playNum:t[$l]||oa,tutotrialGUID:t[zl],playInitiator:t[ql],splitPointStack:ar(t[Kl],[]),isTutorialFinished:ar(t[Xl],0),stepPlayHistory:ar(t[Yl],[]),stepCompletedHistory:ar(t[Jl],[]),tutorial:_c(n),splitTutorialIds:ar(t[Wl],[]),splitStartFromStepId:ar(t[Zl],[])};return r}function Ni(e){function t(){Sl.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},1e3*r.Delay)}var n=Ai(e);oa=n.playNum,Pl=n.splitPointStack,uc=n.stepPlayHistory,lc=n.stepCompletedHistory,Dl=n.tutorial,Al=n.state,El=n.step,n.tutotrialGUID&&(Ru._currentPlayGUID=n.tutotrialGUID),Ru._currentPlayInitiator=n.playInitiator;var r=ri(Dl,El);if((Al==ys.WAITING_FOR_PAGE_CHANGE||Al==ys.PASSING_OWNERSHIP)&&r){El--;var i=ri(Dl,El);i&&(i.playNumber=oa),Fi(!0),El++}if(wo("isTutorialFinished: "+n.isTutorialFinished,5),1!=n.isTutorialFinished||Al!=ys.RUNNING&&Al!=ys.WAITING_FOR_PAGE_CHANGE&&Al!=ys.PASSING_OWNERSHIP)if(wo("Continue from cookie: currentTutorial: "+Dl+" -- currentState: "+Al+" -- currentStep: "+El+" -- currentPlayGUID: "+Ru._currentPlayGUID+" -- currentUserGUID: "+e,5),!r||Al!=ys.RUNNING&&Al!=ys.WAITING_FOR_ELEMENT&&Al!=ys.WAITING_FOR_STICKY_ELEMENT&&Al!=ys.WAITING_FOR_PAGE_CHANGE&&Al!=ys.WAITING_FOR_CONDITION&&Al!=ys.PASSING_OWNERSHIP)if(r&&Al==ys.WAITING_FOR_REDIRECT)pr(Dl,0,!1,Ru._currentPlayGUID,Ru._currentPlayInitiator);
else if(r&&Al==ys.WAITING_FOR_OWNERSHIP)_makeTutorial.startNewTutorial(Dl,El,!1,Ru._currentPlayInitiator);else if(!r||Al!=ys.WAITING_FOR_ELEMENT_EVENT&&Al!=ys.WAITING_FOR_NEXT_BUTTON_CLICK)if(Al==ys.WAITING_FOR_SPLIT)Nl=n.splitTutorialIds,vl=n.splitStartFromStepId,ia.resumeSplit();else{if(Al!=ys.PAUSED)return sr(),wo("Invalid cookie data. Not running tutorial. (userGuid : "+e+")",5),!1;wo("Tutorial was paused while restoring state from cookie. This can happen if auto start is defined with sonar on an element that causes SPA page change. Please define the autostart without sonar",1),ia.releaseBalloons(),vo(),sr()}else Vo(r.Settings,"sticky",0)?(wo("Sticky - keep looking for element",5),Al=ys.WAITING_FOR_STICKY_ELEMENT,t()):r.IsSkippable&&(Ii().Steps.length==El+1?ia.tutorialFinished():(El++,Al=ys.RUNNING,t()));else t();else ia.tutorialFinished();return!0}function Ri(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].GroupType==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function ji(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].Type==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function Mi(e){return ji(e,ks.FIRST_STEP_MUST_EXIST).length>0?!0:!1}function Li(e){for(var t=pu[e],n=ji(t,ks.SKIP_FIRST_STEP),r=0;r<n.length;r++){var i=n[r];if(jc(i.Content)){var o=i.ExtraData,a=o?o-1:1;return wo("The walk-thru has a skip step condition ("+i.Content+") which is true. Skipping to: "+a),a}}return 0}function Oi(e,t){var n=pu[e],r=ji(n,ks.REDIRECT);return 0==r.length?!1:Gi(r[0],t)}function Gi(e,t){return Ui(e.Content,t)}function Ui(e,t){if(!ia.getCommonUtils().isValidUrl(e))return!1;e=yd(e,["&"]);var n=Lc(window.location.href),r=Mc(e),i=Lc(r);return n==i?!1:(t&&rd(r),!0)}function Fi(e){e=ar(e,!0);var t=Io();Cl("StepCompleted",t),Zn(t),e?(Ru.auditStep(t,Bs.stepAction.Performed,Ii().Steps.length),Bi(t)):Ru.auditStep(t,Bs.stepAction.MovedBack,Ii().Steps.length)}function Bi(e){var t=Vo(e.Settings,"resumeOtherWindow",!1);t&&$s.saveData(Ul,1,iu,Ii().userGuid)}function Wi(e,t){e[t]&&"transparent"!=e[t]||(e[t]=Us.isIE()?"#00000000":"transparent")}function Qi(e,t,n,r){n=ia.FixConfiguration(n),n.ButtonBorderColor=n.ButtonBorderColor||"#6c84a6";var i="rtl"==Su.get().Direction?"right":"left";Wi(n,"ButtonBgColor"),Wi(n,"ButtonBgColor2");var o=n.ButtonBgColor,a=n.ButtonBgColor2,s=n.ButtonShadowWidth,u=n.BalloonButtonRadius,l=o!=a,c="CSS-RESET "+(l?"background:-moz-linear-gradient(top, "+o+", "+a+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+o+"), color-stop(100%,"+a+"));background:-webkit-linear-gradient(top, "+o+" 0%,"+a+" 100%);background:-o-linear-gradient(top, "+o+" 0%,"+a+" 100%);background:-ms-linear-gradient(top, "+o+" 0%,"+a+" 100%);background:linear-gradient(to bottom, "+o+" 0%,"+a+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+o+'", endColorstr="'+a+'",GradientType=0 );':"background-color:"+o+";")+"border: 1px solid "+n.ButtonBorderColor+";color:"+n.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+i+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+u+"px;-webkit-border-radius:"+u+"px;border-radius:"+u+"px;";return o!=a&&Us.isIE()&&(c+="border-radius: 0px;"),l&&H.isGradientUsingFilter(c)&&(c+="background: url("+Pu+"/player/resources/images/spacer.gif) repeat;"),c=c.replace(/CSS-RESET/g,qs),c+=r?r:"","<button class='"+e+"' type='button' style='"+c+"'>"+t+"</button>"}function Vi(e){return e.Type==Bs.STEP_TYPE.Popup&&e.LinkedTutorialIds&&Jr(e.LinkedTutorialIds.split(";"))?(ii(e.LinkedTutorialIds.split(";")),!0):!1}function Hi(e){mtjQuery(".walkme-action-close, .walkme-action-cancel",e).click(function(e){fr(e)}),mtjQuery(".walkme-action-next, .walkme-action-start",e).click(function(e){qi()}),mtjQuery(".walkme-action-back",e).click(function(e){zi()}),mtjQuery(".walkme-action-done",e).click(function(e){Ki()}),mtjQuery(".walkme-custom-bbcode-survey",e).click(function(e){Wr()}),mtjQuery(".walkme-action-start-wt",e).each(function(e){mtjQuery(this).click(function(e){var t=parseInt(mtjQuery(this).attr("data-walkthru-id")),n=-1!=El?Sc(El).Id:-1;Cl("switchToWalkthru",t),WalkMeAPI.startWalkthruById({id:t,fromStep:0,playInitiator:{type:bs.BBCODE,objectId:n}})})})}function $i(e){e.durationHandler&&(e.durationHandler.clear(),e.durationHandler=null)}function zi(){Il("BackButtonClicked"),xl("BackButtonClicked");var e=Sc(El);$i(e),cc.pop();var t=Xi(dc-1);t||(Al=ys.RUNNING,ia.releaseBalloons(function(){Fi(!1),El=dc-1,ia.executeTutorialNextStep()}))}function qi(){Il("NextButtonClicked"),xl("NextButtonClicked");var e=Sc(El);Cl("StepWasTriggered",e),$i(e);var t=Xi();t||(Al=ys.RUNNING,ia.releaseBalloons(function(){Vi(e)||(Fi(),ia.executeTutorialNextStep())}))}function Ki(){Il("DoneButtonClicked"),xl("DoneButtonClicked");var e=Sc(El);if(Cl("StepWasTriggered",e),$i(e),!Vi(e)){var t=Xi();t||(Fi(),ia.tutorialFinished())}}function Xi(e){for(var t,n=0;n<Rl.length;n++)Rl[n].releaseEvents(e)&&(t=!0);return t}function Yi(e){return e.offset().top<=0&&"relative"==e.css("position")&&(!Us.isIE()||"visible"==e.css("overflow-x")&&"visible"==e.css("overflow-y"))&&(!Us.isIEBrowser(9)||Ji(e))}function Ji(e){try{var t=wmjQuery("<div />");t.important({position:"absolute",top:0,visibility:"hidden"}),e.append(t);var n=t.offset().top;return t.remove(),n>0}catch(r){return!1}}function Zi(e,t){return(new Date).getTime()-e<t}function eo(){return yl&&Zi(wl,fu)?yl:(yl=to(),wl=(new Date).getTime(),yl)}function to(){var e={top:0,left:0};if(!hc("collapsedMargins"))return e;var t=wmjQuery("body"),n=0;if(Yi(t)){{t.css("margin-top")}t.find("> div").each(function(){var e=wmjQuery(this),t=e.offset().top,r=e.position().top;if(parseInt(e.css("margin-top"),10)>0){var i=t-r;i>n&&(n=i)}})}return e.top+=n,e}function no(e,t){for(var n=e,r=ia.getUiUtils().getStyle(e,t);r&&"static"==r.position;)n=n.parentNode,r=ia.getUiUtils().getStyle(n,t);var i=ia.getBodyInheritedMargin();i.top=ao(i.top),i.left=ao(i.left);var o={top:i.top,left:i.left},a=eo();if(o.top+=a.top,o.left+=a.left,r)for(io(o,n,r,"margin"),oo(o,n,r),ro(o,n,r),n=n.parentNode,r=ia.getUiUtils().getStyle(n,t);r;)io(o,n,r,"margin"),io(o,n,r,"padding"),oo(o,n,r),ro(o,n,r),n=n.parentNode,r=ia.getUiUtils().getStyle(n,t);return o}function ro(e,t,n){"static"!=n.position&&(e.top+=ao(n.top),e.left+=ao(n.left))}function io(e,t,n,r){e.top+=ao(n[r+"Top"]),e.left+=ao(n[r+"Left"])}function oo(e,t,n){/(html|body)/i.test(t.tagName)||(e.top+=so(n.borderTopWidth),e.left+=so(n.borderLeftWidth))}function ao(e){return"string"==typeof e&&(e=e.replace("px","")),isNaN(e)?0:parseInt(e)}function so(e){var t=1,n=3,r=5,i=0;switch(e){case"thin":i=t;break;case"medium":i=n;break;case"thick":i=r;break;default:i=Math.round(parseFloat(e))}return i}function uo(e){var t=!0;return e.parentsUntil("html").each(function(e,n){"relative"!=mtjQuery(n).css("position")&&(t=!1)}),t}function lo(e,t,n){e.css("border",""+t.BalloonBorderWidth+"px solid "+t.BorderColor),Wi(t,"Color"),Wi(t,"BalloonColor2");var r=void 0!=t.BalloonColor2?t.BalloonColor2:t.Color,i=void 0!=t.BalloonRadius?t.BalloonRadius:15,o=""+i+"px";if(e.css("-moz-border-radius",o),e.css("-webkit-border-radius",o),e.css("border-radius",o),t.Color==r?e.css("background",t.Color):(e.css("background","-moz-linear-gradient(top, "+t.Color+", "+r+")"),e.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+t.Color+"), color-stop(100%,"+r+"))"),e.css("background","-webkit-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","-o-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","-ms-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","linear-gradient(to bottom, "+t.Color+" 0%,"+r+" 100%)"),e.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+t.Color+"', endColorstr='"+r+"',GradientType=0 )"),-1==e.css("background-image").indexOf("gradient")&&(e.css("background-image","url('"+Pu+"/player/resources/images/spacer.gif')"),e.css("background-repeat","repeat")),ra()||e.css("border-radius","0px")),!n){var a="0px 0px";switch(parseInt(t.Position)){case Ks.Top:a="-3px -3px";break;case Ks.Right:a="4px -4px";break;case Ks.Bottom:a="4px 4px";break;case Ks.Left:a="-4px 4px"}var s=" 3px rgba(0, 0, 0, 0.2)";e.css("-moz-box-shadow",a+s),e.css("-webkit-box-shadow",a+s),e.css("box-shadow",a+s)}}function co(e,t){var n=e.left+t.left,r=e.top+t.top,i=e.right-e.left,o=e.bottom-e.top,a=e.right+t.left,s=e.bottom+t.top;return{top:r,left:n,width:i,height:o,right:a,bottom:s}}function fo(e,t){if(!e)return void(t&&t());var n=mtjQuery("iframe",e);0==n.length?Sl.libSetTimeout(function(){e.remove(),t&&t()},1):(n.attr("src",""),Sl.libSetTimeout(function(){n.hide(),n.remove(),e.remove(),t&&t()},1))}function po(e){for(var t=Vc(e),n={top:0,left:0},r=0;r<t.length;r++){var i=t[r].offset();n.top+=i.top,n.top-=t[r][0].contentWindow.document.body.scrollTop||t[r][0].contentWindow.document.documentElement.scrollTop,n.left+=i.left,n.left-=t[r][0].contentWindow.document.body.scrollLeft||t[r][0].contentWindow.document.documentElement.scrollLeft}return n}function go(e){try{if("1.7.1"!=e.jquery)return;var t=e[0].ownerDocument.documentMode;if(7==t||8==t){var n=e.data("iframe");if(n&&"FRAME"==n[0].tagName)return!0}}catch(r){}}function ho(e,t){if(go(e)){var n=e[0].ownerDocument;t.top+=n.body.scrollTop||n.documentElement.scrollTop,t.left+=n.body.scrollLeft||n.documentElement.scrollLeft}}function mo(e,t){t=wmjQuery.extend({},du,t);var n=po(e),r=e.offset();n.top+=r.top,n.left+=r.left,ho(e,n);var i=Hc(hc("fixIframeScroll")?e:mtjQuery(window)),o=i.top()+t.top,a=i.left()+t.left,s=i.height()-t.bottom+(i.top()-0),u=i.width()-t.right+(i.left()-0),l=Qc(n.top,n.left+e.width(),n.top+e.height(),n.left,o,u,s,a);return l}function vo(){Sl.stopTimeoutsArray("playTimeouts"),oc=!1}function yo(){for(var e=0;e<jl.length;e++)try{jl[e].element.off(jl[e].eventName)}catch(t){}jl=new Array}function wo(e,t,n){ia.Logger.customerLog(e,t,n)}function bo(e){for(var t=0;t<pu.length;t++)if(pu[t].TutorialId==e)return pu[t].Name;return""}function So(e){ia.startNewTutorial=e.profile("startNewTutorial",ia.startNewTutorial),xc=e.profile("executeTutorialStep",xc),ia.findElement=e.profile("findElement",ia.findElement),ia.getBodyInheritedMargin=e.profile("getBodyInheritedMargin",ia.getBodyInheritedMargin),ia.evaluateAsync=e.instrument("evaluateAsync",ia.evaluateAsync)}function To(){var e="withCredentials"in new XMLHttpRequest;return e}function ko(){var e=!1,t=!!window.wm_no_audit,n=!!hn("wm-no-audit"),r=hc("blockJsonp")?To():!0;return!r||!Du.get()||hc("noAudit")||e||t||n}function Io(){var e=Ii();return e&&e.Steps[El]}function Co(){return Qs.get()}function xo(){return hc("disableWidgetOpenFullUrl")?"":window.location.href}function _o(e,t){try{if(ko())return!0;if(hc("disableAuditErrorLog"))return!0;if(sc++,sc>5)return;var n=l("_currentTutorial={0};_currentStep={1};_currentState={2};_currentPlayGUID={3};_isInRecorder={4};_userGuid={5};LibVersion={6};UA={7};",Dl,El,Al,Ru._currentPlayGUID,ic,nl,ia.SVNRevision,navigator.userAgent);wo(e+" ExtraData: "+n)}catch(r){}}function Do(e){var t=$o();if(0==t.length)return!1;var n=mtjQuery("#walkme-popup-element",t);if(n.length<=0||e){var r="walkme-popup-element";e&&(r+="-"+n.length),n=mtjQuery(t[0].ownerDocument.createElement("div")),n.attr({id:r}),n.css("width","0px;"),n.css("height","0px;"),mtjQuery(t.append(n))}return n.data("iframe",t),n}function Eo(e,t){return e.length>=t.length&&e.lastIndexOf(t)+t.length==e.length}function Ao(e,t){return 0==e.indexOf(t)}function Po(e){return void 0!=e&&e.length>0}function No(){this.NumNodeRemove=0,this.NumNodeDiff=0,this.SumNodeDiff=0}function Ro(e,t,n){var r;if(t)for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1}function jo(e,t){if(ia.isWalkMeVisible()&&Po(ia.getCustomCssProp())){var n=Oo(e);if(n){var r="wm_custom_css_set";ic&&n.data(r,!1);var i=n.data(r);return t||!i?(i&&Mo(n),Lo(n,r)):void 0}}}function Mo(e){wmjQuery("#walkme-custom-css",e).remove()}function Lo(e,t){try{var n=ia.getCustomCssProp();return n=yd(n,["&",'"',"'",">"]),ia.ResourceManager.injectCss(n,"walkme-custom-css",e,null,"walkme-player-css"),e.data(t,!0),!0}catch(r){return!1}}function Oo(e){if(!e){var t;return ia.shouldHandlePageAsFramesets()&&(t=Ho(wmjQuery(_makeTutorial.getBiggestFrame()))),wmjQuery("head",t)}return ic||e.data("iframe")?e.parents("html").children("head"):void 0}function Go(e,t,n,r,i){var o=yr(r),a=o.BalloonSettings,s='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+e+" mt-custom-popup-"+e+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+n+'px">'+t+"</div>";s=s.replace(/CSS-RESET/g,qs),s=s.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+r);var u=$o();u.append(s),md=mtjQuery("#walkme-popup-body",u),md.css({position:"fixed","z-index":Js,padding:"8px 12px 12px 12px","font-family":"Arial"}),lo(md,a,!1);var l=0;mtjQuery.each(mtjQuery("[width], [style*=width]",md),function(e,t){mtjQuery(t).width()>l&&(l=mtjQuery(t).width())}),md.width()<l&&md.css("width",l+"px"),ia.centerElementInPage(md,!1),Ml=Sl.playSetInterval(function(){ia.centerElementInPage(md,!0)},1e3),Us.isQuirksMode()||ia.shouldHandlePageAsFramesets()||$.displayOverlay(2147483630,!0),md.fadeIn("slow"),Hi(md),i&&i(md)}function Uo(e){Ml&&Ml.clear(),$.removeOverlay(),fo(md,e),md=null}function Fo(e,t){return void 0===e?t:e}function Bo(e,t,n,r,i,o){this.width=e,this.height=t,this.point_direction=Fo(n,0),this.angle=Fo(r,0),this.color=Fo(i,"red"),this.background=Fo(o,"transparent")}function Wo(e){return e?0==e.length?!1:!0:!1}function Qo(e,t){return Wo(e)&&t in e?!0:!1}function Vo(e,t,n){return Wo(e)&&Qo(e,t)?e[t]:n}function Ho(e){var t=e[0];if(void 0==t)return[];var n;try{n=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[],n=mtjQuery(n)}catch(r){H.handleCrossDomainError(r),n=[]}return n}function $o(e,t){if(window.walkme_get_top_container){var n=window.walkme_get_top_container();if(n)return mtjQuery(n)}var r;return r=e?e.parents("body"):mtjQuery("body"),(0==r.length||"FRAMESET"==ta(r[0]))&&(r=e?e.parents("html"):t||!ia.shouldHandlePageAsFramesets()?mtjQuery("html"):mtjQuery("body",Ho(mtjQuery(ia.getBiggestFrame())))),r}function zo(e,t){var n=vn(),r=e.parents("div"),i=ed(r,function(e){var e=n(e);return void 0!=e.data&&void 0!=e.data("jsp")?e:void 0});return i?wmjQuery(i).find(".jspPane"):t}function qo(){var e="Lib on "+walkme_lib_notify_ServerName+": "+ia.SVNRevision;if(window.walkme_lib_version&&(e+=", Version: "+walkme_lib_version),window.walkme_lib_upload_date&&(e+=", Uploaded On: "+walkme_lib_upload_date),window.walkme_lib_uploader&&(e+=", By: "+walkme_lib_uploader),Us.isQuirksMode())return void wo(e,5);var t=Fa.to_html("<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; background-color: {{{backgroundColor}}}; font-size: 15px; padding:0 4px;'>{{{message}}}</div>",{popupBalloonZindex:Js,backgroundColor:Ko(walkme_lib_notify_ServerName),message:e}),n=$o(null,!0);mtjQuery("#walkme-dev-mode-alert",n).remove(),n.append(t)}function Ko(e){var t,e=e.toLowerCase();switch(e){case"dev":t="lightblue";break;case"qa":t="red";break;case"test":t="yellow";break;case"local":t="lightgreen";break;default:t="pink"}return t}function Xo(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo)return 1==window.walkme_dont_use_fb_scroll?!1:!0}catch(e){return!1}}function Yo(e,t,n,r,i,o,a,s){if(void 0==a||null==a)var a={top:0,left:0};n>500&&(n=0);var u=(o-mtjQuery(e).outerHeight())/2+r+a.top,l=(i-mtjQuery(e).outerWidth())/2+n+a.left;u=Math.round(u>0?u:0),l=Math.round(l>0?l:0),Math.abs(u-mtjQuery(e).offset().top)<2&&Math.abs(l-mtjQuery(e).offset().left)<2||(u+="px",l+="px",mtjQuery(e).css({position:"absolute",margin:0}),t?(s=s?s:{duration:400},mtjQuery(e).animate({top:u,left:l},s)):mtjQuery(e).css({top:u,left:l}))}function Jo(e,t){FB.Canvas.getPageInfo(function(n){Zo(e,t,n)})}function Zo(e,t,n){Yo(e,t,n.scrollLeft,n.scrollTop,mtjQuery(window).width(),n.clientHeight)}function ea(e){this.evaluate=function(t){function n(t){if("Func"==t.nodeType){var r=e.getFunctionsByLibNameType(t.funcName),i=[];i.push(t.funcArgs);var o=r.apply(this,i);return t.result=o,o}if("And"==t.nodeType){var o=n(t.leftSon)&&n(t.rightSon);return t.result=o,o}if("Or"==t.nodeType){var o=n(t.leftSon)||n(t.rightSon);return t.result=o,o}return!1}return null==t?!0:n(t)}}function ta(e){var t=e.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function na(e,t,n,r,o){function a(){c=t.get(),f=n.getEndUserId,d=r.error}function s(e){try{if(p||ko())return!0;var t=c.Settings.abTesting.testNumber,n=void 0!=window.wm_customData?wm_customData.abTestingData:null;hl.execute({url:o.get()+"/Statistics/AddAbTestingWidgetVisible",data:{userGuid:nl,endUserId:f(),testNumber:t,isVisible:e,customDataSerialized:i(n)}})}catch(r){d(r,"Could not report ab testing result to server")}}function u(t,n,r){var i=t+c.Settings.abTesting.testNumber,o=e.getData(i);if(o===!0||o===!1)return o;var a=l(1,100);return o=n>=a,e.saveData(i,o,La),r&&r(o),o}function l(e,t){return Math.floor(Math.random()*(t-e+1)+e)}this.LocalSVNRevision="$Rev: 4006 $";var c,d,f,p,g=this,h="wm-absl-",m="wm-abss-";g.shouldLoadWalkme=function(){try{return g.isAbTestingEnabled()?u(h,c.Settings.abTesting.loadPercentage):!0}catch(e){return d(e,"Could not check if Walkme should be loaded according to AB Testing"),!0}},g.shouldShowWidget=function(){try{if(!g.isAbTestingEnabled())return!0;var e=m;return window.walkme_ab_imp_cookie&&(e+=f()+"-"),u(e,c.Settings.abTesting.showPercentage,s)}catch(t){return d(t,"Could not check if widget should be shown according to AB Testing"),!0}},g.isAbTestingEnabled=function(){var e=c.Settings&&c.Settings.abTesting&&parseInt(c.Settings.abTesting.enabled),t=hc("abtesting")&&e&&!yn()&&!wn();return t},g.disableReport=function(){p=!0},a.apply(null,arguments)}function ra(){return!Us.isIE(9,"lte")}var ia=this,oa=0,aa=0;this.MTVersion="1.0",this.SVNRevision="$MasterRev: 5303 $",this.LibVersion="628",this.LocalSVNRevision="$Rev: 5299 $",this.SpecialRevision="no";var sa=function(e){e=e||{},e.version="0.3.3";return e.logger=function(e,t){},e.log=function(t,n,r){n&&(t="[class="+n.name()+"] "+t),e.logger("DI - "+t,r||4)},e.error=function(t,n,r){e.log(t,n,r)},e.createContext=function(){function t(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}var n={map:{}};return n.entry=function(e){return n.map[e]},n.register=function(t,r,i){var o=e.entry(t,n).type(r).args(i);return n.map[t]=o,o},n.has=function(e){return null!=n.entry(e)},n.get=function(t,r){return n.has(t)||e.error("Object["+t+"] is not registered"),n.entry(t).getObject(r)},n.create=function(t,r){return n.entry(t).strategy()==e.strategy.singleton&&e.error("Attempt to create singleton object ["+t+"]"),n.has(t)?n.entry(t).create(r):void e.error("Object["+t+"] is not registered")},n.initialize=function(){function t(t){var r=n.entry(t);r?r.initialize()&&r.strategy().initialize()&&n.get(t):e.error("Object["+t+"] is not registered")}return function(e){if(e)t(e);else for(var e in n.map)t(e)}}(),n.clear=function(){this.map={}},n.resolve=function(t){var r=t.load(),i={};return n.eachDependency(t.dependencies(),function(o,a){var s=n.get(o,r);n.ready(s,n.entry(o)),null==s&&e.error("Dependency ["+t.name()+"."+a+"]->["+o+"] can not be satisfied",t),i[a]=s}),i},n.eachDependency=function(n,r){if(n)for(var i=t(n).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=e.dependencyExpression(a);try{r(s.name,s.property,o)}catch(u){throw new Error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+u.message+"\r\n inner stackTrace: \r\n"+u.stack+"\r\n==================================")}}}},n.ready=function(e,t){var r=t.wasReady();if(t.wasReady(!0),!r){var i=n.createCallback();i&&i(t.name(),e),e&&"function"==typeof e.ready&&(t.wasReady(!0),e.ready.apply(e,t.injector().ready(e,t)||[]))}return e},n.createCallback=function(){var e;return function(t){return 0==arguments.length?e:(e=t,n)}}(),n},e.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var i=e.split("=");n=i[0],r=i[1]}return t.name=r,t.property=n,t},e.entry=function(t,n){function r(e){s[e]=function(t){return arguments.length?(l[e]=t,s):l[e]}}function i(e,t){return void 0!=t&&s.type(t),s.factory(e),s}function o(e,t){return void 0!=t&&s.dependencies(t),s.load(e),s}var a,s={};s.name=function(){return t};for(var u=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],l={},c=0;c<u.length;c++){var d=u[c];r(d)}return s.depsDictionary=function(e){return arguments.length?(l.depsDictionary=e,s):(l.depsDictionary||s.depsDictionary(n.resolve(s)),l.depsDictionary)},l.strategy=e.defaults.strategy,l.factory=e.defaults.factory,l.injector=e.defaults.injector,l.load=e.defaults.load,l.wasReady=!1,l.initialize=!0,s.create=function(t,r,i){i=i||e.load.recursive;var o=l.strategy.test(a,i);if(r)return o;o&&(t=l.injector.create(t?t:l.args,s,n,i));var u=l.strategy.create(a,l.factory,l.type,t,n,s,i);return n.ready(u,s)},s.getObject=function(e){return s.create(void 0,void 0,e)},s.object=function(e){return arguments.length?(a=e,s):s.create()},s.asFunction=function(t){return i(e.factory.func,t)},s.asInstance=function(t){return i(e.factory.instance,t)},s.asCtor=function(t){return i(e.factory.constructor,t)},s.asSingleton=function(){return s.strategy(e.strategy.singleton)},s.asProto=function(){return s.strategy(e.strategy.proto)},s.injectToCtor=function(){return s.injector(e.injector.ctor)},s.injectToReady=function(){return s.injector(e.injector.ready)},s.injectToProperty=function(){return s.injector(e.injector.property)},s.flatDependencies=function(t){return o(e.load.flat,t)},s.recursiveDependencies=function(t){return o(e.load.recursive,t)},s},e.strategy={proto:{test:function(e,t){return!0&&(!t||t())},initialize:function(){return!1},create:function(e,t,n,r,i,o,a){return e=t(n,r,o),a()&&o.injector().ready(e,o),o.depsDictionary(void 0),o.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,t,n,r,i,o,a){return e||(e=t(n,r,o),o.object(e),o.wasReady(!0),a()&&o.injector().ready(e,o),o.wasReady(!1)),e}}},e.factory={constructor:function(t,n,r){return n instanceof Array?(n.length>30&&e.error("trying to create a class with too many args!",r),new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29])):new t(n)},func:function(e,t,n){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e,t,n){return e}},e.injector={property:{create:function(e,t,n){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var i=t.args();void 0==i||n.hasOwnProperty("args")||(e.args=i)}},ready:{create:function(e,t,n){return e},ready:function(e,t){var n=t.args(),r=[],i=t.depsDictionary();if(ua.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),n){n=n instanceof Array?n:[n];for(var o=0;o<n.length;o++)r.push(n[o])}return r}},ctor:{create:function(e,t,n){var r=[],i=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),e){e=e instanceof Array?e:[e];for(var o=0;o<e.length;o++)r.push(e[o])}return r},ready:function(e,t){}}},e.load={flat:function(e,t,n){return!1},recursive:function(e,t,n){return!0}},e.defaults={strategy:e.strategy.singleton,factory:e.factory.constructor,injector:e.injector.ctor,load:e.load.recursive},e}(),ua=sa.createContext();ua.register("LibInitializer").asCtor(e).dependencies("Lib,StorageManager,AbPermutationManager,EndUsersManager,ConditionTreeEvaluator,CommonUtils,SettingsFile,WmInternals,LanguageManager, WmAjax, WalkmeConfigManager");var la=null;this.Init=function(){Rs=(new Date).getTime(),la.startInitializer()},this.dataFileLoaded=function(){la.dataFileLoadedWrapper()};var ca="passOwnership",da="auditSteps",fa="goals",pa="sticky",ga="balloon",ha="resources",ma="FramesetsUtils",va="showLaunchers",ya="tasks",wa="content",ba="hl",Sa="stepCheck",Ta="autostart",ka="salesforce",Ia="superstep",Ca="loadTestMe",xa="changeTracker",_a="launchersSpaMeasurer",Da="wm-ltm",Ea={Cookies:"cookies",LocalStorage:"localStorage",IndexedDB:"indexedDB"},Aa={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6},Pa={FreeText:0,RadioButton:1,CheckBox:2},Na={Deactive:0,Active:1,ActiveAndReset:2},Ra={Normal:1,Sandbox:2},ja=86400,Ma=31536e3,La=31536e4,Oa={display:"block",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0,marginTop:0,marginLeft:0,marginBottom:0,marginRight:0,verticalAlign:"baseline",borderCollapse:"inherit",backgroundImage:"none",backgroundColor:"transparent",orderSpacing:"1px 1px",lineHeight:"normal",height:"auto",textIndent:"inherit",letterSpacing:"normal",textTransform:"none",outline:"invert none medium",width:"auto",boxShadow:"none",textShadow:"none",borderTopStyle:"none",borderTopWidth:"medium",borderRightStyle:"none",borderRightWidth:"medium",borderBottomStyle:"none",borderBottomWidth:"medium",borderLeftStyle:"none",borderLeftWidth:"medium",position:"static",top:"auto",left:"auto",transition:"none",boxSizing:"content-box",color:"#EB15E2"},Ga={Action:0,Close:1,XButton:2};ua.register("Consts").asInstance({stepAction:{SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11},STEP_TYPE:{Normal:0,Popup:1,Action:2},SOURCES:{production:0,preview:1,play:2,test:3},TIME_PERIODS:{OneHourSeconds:3600},STORAGE_KEYS:{lastGetDataTime:"wm-lgt"}});var Ua={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function r(e){return e=n(e),l.test(e)?e.replace(i,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(s,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r,this.c=r,this.options=i,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(e,t,n){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];return i?(this.c&&"string"==typeof i&&(i=this.c.compile(i,this.options)),i.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!c(r))return void n(e,t,this);for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop()},s:function(e,t,n,r,i,o,a){var s;return c(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,r,i,o,a)),s=""===e||!!e,!r&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,r){var i=e.split("."),o=this.f(i[0],t,n,r),a=null;if("."===e&&c(t[t.length-2]))return t[t.length-1];for(var s=1;s<i.length;s++)o&&"object"==typeof o&&i[s]in o?(a=o,o=o[i[s]]):o="";return r&&!o?!1:(r||"function"!=typeof o||(t.push(a),o=this.lv(o,t,n),t.pop()),o)},f:function(e,t,n,r){for(var i=!1,o=null,a=!1,s=t.length-1;s>=0;s--)if(o=t[s],o&&"object"==typeof o&&e in o){i=o[e],a=!0;break}return a?(r||"function"!=typeof i||(i=this.lv(i,t,n)),i):r?!1:""},ho:function(e,t,n,r,i){var o=this.c,a=this.options;a.delimiters=i;var r=e.call(t,r);return r=null==r?String(r):r.toString(),this.b(o.compile(r,a).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,i,o,a){var s=t[t.length-1],u=null;if(!r&&this.c&&e.length>0)return this.ho(e,s,n,this.text.substring(i,o),a);if(u=e.call(s),"function"==typeof u){if(r)return!0;if(this.c)return this.ho(u,s,n,this.text.substring(i,o),a)}return u},lv:function(e,t,r){var i=t[t.length-1],o=e.call(i);return"function"==typeof o&&(o=n(o.call(i)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(i,r):n(o)}};var i=/&/g,o=/</g,a=/>/g,s=/\'/g,u=/\"/g,l=/[&<>\"\']/,c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(Ua),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;i>r;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function i(e,t,n,r){for(var s=[],u=null,l=null;e.length>0;)if(l=e.shift(),"#"==l.tag||"^"==l.tag||o(l,r))n.push(l),l.nodes=i(e,l.tag,n,r),s.push(l);else{if("/"==l.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+l.n);if(u=n.pop(),l.n!=u.n&&!a(l.n,u.n,r))throw new Error("Nesting error: "+u.n+" vs. "+l.n);return u.end=l.i,s}s.push(l)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return s}function o(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function a(e,t,n){for(var r=0,i=n.length;i>r;r++)if(n[r].c==e&&n[r].o==t)return!0}function s(e){return e.replace(b,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(w,"\\r")}function u(e){return~e.indexOf(".")?"d":"f"}function l(e){for(var t="",n=0,r=e.length;r>n;n++){var i=e[n].tag;"#"==i?t+=c(e[n].nodes,e[n].n,u(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==i?t+=d(e[n].nodes,e[n].n,u(e[n].n)):"<"==i||">"==i?t+=f(e[n]):"{"==i||"&"==i?t+=p(e[n].n,u(e[n].n)):"\n"==i?t+=h('"\\n"'+(e.length-1==n?"":" + i")):"_v"==i?t+=g(e[n].n,u(e[n].n)):void 0===i&&(t+=h('"'+s(e[n])+'"'))}return t}function c(e,t,n,r,i,o){return"if(_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,0,'+r+","+i+',"'+o+'")){_.rs(c,p,function(c,p,_){'+l(e)+"});c.pop();}"}function d(e,t,n){return"if(!_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,1,0,0,"")){'+l(e)+"};"}function f(e){return'_.b(_.rp("'+s(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function p(e,t){return"_.b(_.t(_."+t+'("'+s(e)+'",c,p,0)));'}function g(e,t){return"_.b(_.v(_."+t+'("'+s(e)+'",c,p,0)));'}function h(e){return"_.b("+e+");"}var m=/\S/,v=/\"/g,y=/\n/g,w=/\r/g,b=/\\/g,S={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,i){function o(){v.length>0&&(y.push(new String(v)),v="")}function a(){for(var e=!0,t=T;t<y.length;t++)if(e=y[t].tag&&S[y[t].tag]<S._v||!y[t].tag&&null===y[t].match(m),!e)return!1;return e}function s(e,t){if(o(),e&&a())for(var n,r=T;r<y.length;r++)y[r].tag||((n=y[r+1])&&">"==n.tag&&(n.indent=y[r].toString()),y.splice(r,1));else t||y.push({tag:"\n"});w=!1,T=y.length}function u(e,t){var r="="+I,i=e.indexOf(r,t),o=n(e.substring(e.indexOf("=",t)+1,i)).split(" ");return k=o[0],I=o[1],i+r.length-1}var l=e.length,c=0,d=1,f=2,p=c,g=null,h=null,v="",y=[],w=!1,b=0,T=0,k="{{",I="}}";for(i&&(i=i.split(" "),k=i[0],I=i[1]),b=0;l>b;b++)p==c?r(k,e,b)?(--b,o(),p=d):"\n"==e.charAt(b)?s(w):v+=e.charAt(b):p==d?(b+=k.length-1,h=S[e.charAt(b+1)],g=h?e.charAt(b+1):"_v","="==g?(b=u(e,b),p=c):(h&&b++,p=f),w=b):r(I,e,b)?(y.push({tag:g,n:n(v),otag:k,ctag:I,i:"/"==g?w-I.length:b+k.length}),v="",b+=I.length-1,p=c,"{"==g&&("}}"==I?b++:t(y[y.length-1]))):v+=e.charAt(b);return s(w,!0),y},e.generate=function(t,n,r){var i='var _=this;_.b(i=i||"");'+l(t)+"return _.fl();";return r.asString?"function(c,p,i){"+i+";}":new e.Template(new Function("c","p","i",i),n,e,r)},e.parse=function(e,t,n){return n=n||{},i(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r)}}(Ua),function(e){e.to_html=function(t,n,r){var i=t;return"string"==typeof i?i=this.compile(t):"function"==typeof i&&(i=new e.Template(i)),
i.render(n,r)}}(Ua);var Fa=Ua;ua.register("Mustache").asInstance(Ua).asSingleton();var Ba=/["\\\x00-\x1f\x7f-\x9f]/g,Wa={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};ua.register("Logger").asCtor(w).dependencies("CookiesManager, HostData"),ua.register("WalkmeLoader").asCtor(b).dependencies("Lib, WalkmeConfigManager, Consts"),ua.register("PositionHelper").asCtor(S).dependencies("Lib"),ua.register("CookiesManager").asCtor(T),ua.register("CookiesStorageManager").asCtor(k).asProto().injectToProperty().dependencies("cookiesManager=CookiesManager"),ua.register("ExtensionStorageManager").asCtor(I).asProto().dependencies("TimerManager, Logger"),ua.register("StorageManagerFactory").asCtor(_).dependencies("StorageManagerFactoryParams, SettingsFile, FeaturesManager, Logger, HostData, CommonUtils"),ua.register("SettingsFile").asCtor(D),ua.register("MalformedStorageDataPetaSender").asCtor(A).dependencies("Lib, EndUsersManager, WmAjax, AbPermutationManager,CommonUtils, AuditSourceManager, HostData"),ua.register("GoalsCompletedPetaSender").asCtor(P).dependencies("Lib, EndUsersManager, WmAjax, AbPermutationManager,CommonUtils, AuditSourceManager, HostData"),ua.register("TimerManager").asCtor(N).asSingleton(),ua.register("TypedDataSender").asCtor(j).asProto(),ua.register("ServerDataSenderManager").asCtor(M).dependencies("Lib,Logger,RecorderServerManager,ServerDataSenderManagerParams,ClientStorageManager,WmAjax,FeaturesManager,TimerManager"),ua.register("GoalsManager").asCtor(L).dependencies("GoalsManagerParams,Logger, HostData, ClientStorageManager"),ua.register("WalkMeGoalsManager").asCtor(O).dependencies("ClientStorageManager,GoalsManager,Lib,AbPermutationManager,GetAuditSourceFunc,ServerDataSenderManager,Logger,GoalsCompletedPetaSender");mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeOutBack:function(e,t,n,r,i,o){return void 0==o&&(o=1.70158),r*((t=t/i-1)*t*((o+1)*t+o)+1)+n},easeOutElastic:function(e,t,n,r,i){var o=1.70158,a=0,s=r;if(0==t)return n;if(1==(t/=i))return n+r;if(a||(a=.3*i),s<Math.abs(r)){s=r;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*i-o)*Math.PI/a)+r+n}}),ua.register("PublishDataManager").asCtor(W).dependencies("Lib, StorageManager, Logger");var Qa=function(){function e(e,t,n,r,i){this.NEW_CONTENT_PRIORITY=1e3,this._lib=e,this._agDataManager=t,this._storageManager=n,this._publishDataManager=r,this._logger=i}return e.prototype.init=function(e){if(e.config&&e.player){this._config=e.config,this._player=e.player,this._menu=e.menu;var t=this._config.Settings.AG,n=this._config.Settings.AGs;if(n)this.initAllAGs(n);else if(t){var r=this.create(e);r.setupAttenGrab()}}},e.prototype.reset=function(){this._agData=this._agClass=this._config=this._player=this._menu=void 0},e.prototype.initAllAGs=function(e){if(0!=e.length){if(this._agDataManager.isNewSession){1===this._agDataManager.sessionCounter&&this._publishDataManager.saveDataVersion();var t=this.getPotentialAGsForNewSession(e);t=t.sort(function(e,t){return e.Priority-t.Priority}),this.updateAGForNewSession(t)}else this.updateAGForOldSession(e);this._agData?(this._logger.customerLog("Attention grabber - name: "+this._agData.Name+", settings:",3),this._logger.customerLog(this._agData.Settings,3)):this._logger.customerLog("Attention grabber: not selected",3);var n="Attention grabber data: session counter = "+this._agDataManager.sessionCounter+", selected AG = "+this._agDataManager.selectedId+", unload AG = "+this._agDataManager.unload+", event timestamp delta = "+this._agDataManager.eventTimestampDelta/1e3+"s, session = "+this._agDataManager.isNewSession;this._logger.customerLog(n,4)}},e.prototype.getPotentialAGsForNewSession=function(e){var t=[],n=this._agDataManager.sessionCounter;for(var r in e){var i=e[r].Settings;this.shouldPlayAtSession(n,i)&&(parseInt(i.newContent)?this._publishDataManager.hasNewDeployables()&&(e[r].Priority-=this.NEW_CONTENT_PRIORITY,t.push(e[r])):t.push(e[r]))}return t},e.prototype.updateAGForNewSession=function(e){for(var t in e){var n=e[t],r=n.Settings;if(!r.conditions)return this._agData=n,void this._agDataManager.updateSelection(n.Id);var i=this._lib.evaluateConditionTree(r.conditions);if(i)return this._agData=n,void this._agDataManager.updateSelection(n.Id)}},e.prototype.updateAGForOldSession=function(e){var t=this._agDataManager.sessionCounter;for(var n in e){var r=e[n],i=r.Settings;if(r.Id==this._agDataManager.selectedId){var i=r.Settings;if(this.shouldPlayAtSession(t,i)&&this.shouldReplayAG(i))if(i.conditions){var o=this._lib.evaluateConditionTree(i.conditions);o?(this._agData=r,this._agDataManager.updateSelection(r.Id)):this._logger.customerLog("Attention grabber conditions are not satisfied",5)}else this._agData=r,this._agDataManager.updateSelection(r.Id);return}}},e.prototype.shouldPlayAtSession=function(e,t){return t&&Kc(t.session)&&Kc(t.interval)?e<t.session?!1:e==t.session?!0:0==t.interval?!1:(e-t.session)%t.interval==0?!0:!1:!1},e.prototype.shouldReplayAG=function(e){if(this._agDataManager.unload)return!1;if(!e)return!1;var t=this._agDataManager.eventTimestampDelta,n=parseInt(e.replay);if(!n||!t)return!1;var r=60*n*1e3;return e.delay=t>r?0:(r-t)/1e3,!0},e.prototype.load=function(){if(this._agData){var e={config:this._config,player:this._player,menu:this._menu,agData:this._agData};this._agClass=ua.create("AttentionGrabber",e),this._agClass.setupAttenGrab()}},e.prototype.remove=function(e){return this._agClass?(this._agDataManager.updateUnload(),void this._agClass.remove(e)):void(e&&e())},e.prototype.create=function(e){return this._config=e.config,this._player=e.player,this._agClass=ua.create("AttentionGrabber",e),this._agClass},e.prototype.getImageAG=function(e){return this._config=e.config,this._player=e.player,this._agClass=ua.create("ImageAttentionGrabber",e),this._agClass},e}();ua.register("AttentionGrabberManager").asCtor(Qa).dependencies("Lib, AttentionGrabberDataManager, StorageManager, PublishDataManager, Logger");var Va=function(){function e(e,t,n){this.AG_DATA_COOKIE_NAME="wm-ag-d",this.AG_SESSION_LENGTH_NAME="wm-ag-sl",this._siteConfigManager=e,this._storageManager=t,this._commonUtils=n,this.init(),this.save()}return e.prototype.updateSelection=function(e){this.selectedId=e,this.save()},e.prototype.updateEvent=function(){this._eventTimestamp=(new Date).getTime(),this.save()},e.prototype.updateUnload=function(){this.unload=1,this.save()},e.prototype.init=function(){var e=this._storageManager.getData(this.AG_DATA_COOKIE_NAME),t=(new Date).getTime(),n=this._siteConfigManager.get().Settings,r=parseInt(n.AGDataVersion)||0;if(e){this._sessionTimestamp=t,this.sessionCounter=e.sc||1,this._version=Kc(e.v)?e.v:r,this._shouldUpdateVersion=r>this._version;var i,o=e.st?Math.abs(t-e.st):0;this._commonUtils.isLocalStorageEnabled()&&(i=window.localStorage.getItem(this.AG_SESSION_LENGTH_NAME)),this._sessionLength=parseFloat(i||n.AGSL||1440),this._shouldUpdateCounter=o/6e4>this._sessionLength,this.isNewSession=this._shouldUpdateCounter||this._shouldUpdateVersion,this.sessionCounter=this._shouldUpdateVersion?1:this._shouldUpdateCounter?this.sessionCounter+1:this.sessionCounter,this._version=this._shouldUpdateVersion?r:e.v,this.selectedId=this.isNewSession?void 0:e.id,this._eventTimestamp=this.isNewSession?t:e.et,this.unload=this.isNewSession?0:e.u,this.eventTimestampDelta=this._eventTimestamp?Math.abs(t-this._eventTimestamp):0}else this.isNewSession=!0,this._sessionTimestamp=t,this.sessionCounter=1,this._version=r,this._eventTimestamp=t,this.unload=0},e.prototype.save=function(){var e={st:this._sessionTimestamp,sc:this.sessionCounter,v:this._version,id:this.selectedId,et:this._eventTimestamp,u:this.unload};this._storageManager.saveData(this.AG_DATA_COOKIE_NAME,e,La)},e}();ua.register("AttentionGrabberDataManager").asCtor(Va).dependencies("SiteConfigManager, StorageManager, CommonUtils"),ua.register("AttentionGrabber").asFunction(Q).asProto();var Ha=function(){function e(e,t,n,r,i,o,a,s){this.AG_REPEAT_COOKIE_NAME="wm-ag-rep",this._stopAnimation=!1,this.POSITION="TrianglePosition",this._lib=e,this._commonUtils=t,this._timerManager=n,this._endUsersManager=r,this._auditSourceManager=i,this._hostData=o,this._wmAjax=a,this._config=s.config,this._player=s.player,this._menu=s.menu,this._logger=ua.get("Logger"),this._topContainer=$o(),s.agData?(this._data=s.agData,this._settings=s.agData.Settings,this._agId=this._data.Id,this._dataManager=ua.get("AttentionGrabberDataManager")):(this._oldAG=!0,this._oldAGData=this._commonUtils.getSettingsValue(this._config.Settings,"AG",!1),this._oldAGData&&(this._settings={},this._oldAGData.delay&&(this._settings.delay=this._oldAGData.delay),this._oldAGData.timeout&&(this._settings.duration=this._oldAGData.timeout),this._oldAGData.repeat&&(this._settings.repeat=this._oldAGData.repeat)))}return e.prototype.drawAttentionGrabber=function(){if(this._logger.customerLog("Start drawing attention grabber",5),this._replayTimeoutHandler&&this._replayTimeoutHandler.clear(),this._attentionGrabber=this.getHtml(),this._attentionGrabber){var e=wmjQuery.proxy(function(){this.auditToPeta("Click")},this);this._attentionGrabber.click(e),this._attentionGrabberWrapper=wmjQuery("<div id='walkme-attengrab' class='walkme-to-destroy' style='display: none;'/>"),this._attentionGrabberWrapper.append(this._attentionGrabber),this._topContainer.append(this._attentionGrabberWrapper),this._lib.getUiUtils().setLangAttribute(this._attentionGrabberWrapper),this.updateEvent(),this.auditToPeta("Shown");var t=wmjQuery.proxy(function(){this.postDrawing(),this.hideAfterTimeout()},this);this._timerManager.libSetTimeout(t,100)}},e.prototype.auditToPeta=function(e){if(!ko()&&Au&&this._agId){var t=Au+"/Analytics/AttentionGrabbers",n={userGuid:this._lib.getUserGuid(),endUserGuid:this._endUsersManager.getEndUserGuid(),datetime:this._commonUtils.getDateAtUTC(),fullUrl:xo(),source:this._auditSourceManager.get(),browser:this._hostData.browser.string,os:this._hostData.os.name,domain:window.location.host,agId:this._agId,eventName:e};this._wmAjax.execute({url:t,data:n})}},e.prototype.getHtml=function(){},e.prototype.postDrawing=function(){},e.prototype.hideAfterTimeout=function(){var e=parseInt(this._settings.duration);if(e){var t=wmjQuery.proxy(function(){this.hide(),this._stopAnimation=!0},this);this._hideTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*e)}},e.prototype.isSupportedByBrowser=function(){return!0},e.prototype.setupAttenGrab=function(){if(this.isSupportedByBrowser()&&this._settings&&!wmjQuery.isEmptyObject(this._settings)&&this.innerSetup()!==!1){if(this._settings.repeat){var e=this._lib.checkRepeatCookie(this.AG_REPEAT_COOKIE_NAME,this._settings.repeat);if(!e.shouldStart)return;e.store()}var t=wmjQuery.proxy(function(){this.drawAttentionGrabber()},this);this._delayTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*parseFloat(this._settings.delay))}},e.prototype.innerSetup=function(){return!0},e.prototype.remove=function(e){try{this._logger.customerLog("Remove attention grabber",5),this._attentionGrabberWrapper&&this._attentionGrabberWrapper.remove(),this.clearTimers(),this.updateEvent(),e&&e()}catch(t){e&&e()}},e.prototype.hide=function(){this.remove(),this.replay()},e.prototype.updateEvent=function(){this._dataManager&&this._dataManager.updateEvent()},e.prototype.replay=function(){var e=parseInt(this._settings.replay);if(e){this._logger.customerLog("Replay attention grabber",5);var t=wmjQuery.proxy(function(){this.drawAttentionGrabber()},this);this._replayTimeoutHandler=this._timerManager.libSetTimeout(t,1e3*e*60)}},e.prototype.getDirection=function(){return this._config.Direction},e.prototype.getDefaultOrFirstTab=function(){for(var e=this._lib.getUiDataProvider().uiObjectsTree(),t=0;t<e.length;t++)if(e[t].properties().hasProperty("default"))return e[t];for(var t=0;t<e.length;t++)if(e[t].properties().hasProperty("visible"))return e[t]},e.prototype.clearTimers=function(){this._delayTimeoutHandler&&this._delayTimeoutHandler.clear(),this._replayTimeoutHandler&&this._replayTimeoutHandler.clear(),this._hideTimeoutHandler&&this._hideTimeoutHandler.clear()},e}();ua.register("AttentionGrabberBase").asCtor(Ha).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},za=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._drawAGWaitForImagesFailCount=0,this._oldAG&&(this._oldAGData.id&&(this._settings.id=this._oldAGData.id),this._oldAGData.filename&&(this._settings.filename=this._oldAGData.filename),this._oldAGData.hOffset&&(this._settings.hOffset=this._oldAGData.hOffset),this._oldAGData.vOffset&&(this._settings.vOffset=this._oldAGData.vOffset))}return $a(t,e),t.prototype.getHtml=function(){return wmjQuery("<img src='"+this._settings.filename+"' />")},t.prototype.innerSetup=function(){return this._settings.filename&&(this._settings.filename=this._lib.ResourceManager.getResourcePath(this._settings.filename)),-1==parseInt(this._settings.id)?!1:!0},t.prototype.postDrawing=function(){this.drawAGWaitForImages()},t.prototype.drawAGWaitForImages=function(){function e(e){var n=t(),r="1"==e.attr("data-inanimation");return n||r}var t=wmjQuery.proxy(this.imageNotLoadedCases,this);if(e(this._player)){if(this._drawAGWaitForImagesFailCount++,this._drawAGWaitForImagesFailCount>10)return;var n=wmjQuery.proxy(this.drawAGWaitForImages,this);this._timerManager.libSetTimeout(function(){n()},500)}else this.drawAGPostLoad()},t.prototype.drawAGPostLoad=function(){var e="0px",t="0px",n="0px",r="0px",i="auto",o="auto",a="auto",s="auto",u=parseInt(this._settings.hOffset),l=parseInt(this._settings.vOffset),c=(this._player.width()-this._attentionGrabberWrapper.width())/2,d=(this._player.height()-this._attentionGrabberWrapper.height())/2;a=this.handlePosition(a,"bottom",d,l),i=this.handlePosition(i,"top",d,l),o=this.handlePosition(o,"right",c,u),s=this.handlePosition(s,"left",c,u),this._config[this.POSITION].indexOf("center")>-1&&(s="50%",r=this.buildPosition(r,"margin-left",c,u),r=this.dynamicSizeHandler("width",r)),this._config[this.POSITION].indexOf("middle")>-1&&(i="50%",e=this.buildPosition(e,"margin-top",d,l),e=this.dynamicSizeHandler("height",e)),this._attentionGrabberWrapper.css({position:"fixed",top:i,right:o,bottom:a,left:s,"margin-top":e,"margin-right":t,"margin-bottom":n,"margin-left":r}),this._attentionGrabberWrapper.show()},t.prototype.handlePosition=function(e,t,n,r){return this._config[this.POSITION].indexOf(t)>-1&&(e=this.buildPosition(e,t,n,r)),e},t.prototype.buildPosition=function(e,t,n,r){return e=parseFloat(this._player.css(t).replace("px","")),e+=n,e+=r,e+="px"},t.prototype.dynamicSizeHandler=function(e,t){return this._player.hasClass("walkme-dynamic-size")&&(t=parseFloat(t.replace("px",""))+this._player.css(e).replace("px","")/2*-1),t},t.prototype.imageNotLoadedCases=function(){return 0==this._player.width()||28==this._player.width()||0==this._attentionGrabberWrapper.width()||28==this._attentionGrabberWrapper.width()||24==this._attentionGrabberWrapper.width()&&24==this._attentionGrabberWrapper.width()},t}(Ha);ua.register("ImageAttentionGrabber").asCtor(za).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},qa=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._defaultValues={animationDuration:700},this._oldAG&&this._oldAGData.settings&&(this._oldAGData.settings.width&&(this._settings.width=this._oldAGData.settings.width),this._oldAGData.settings.right&&(this._settings.right=this._oldAGData.settings.right),this._oldAGData.settings.deg&&(this._settings.deg=this._oldAGData.settings.deg),this._oldAGData.settings.dir&&(this._settings.dir=this._oldAGData.settings.dir,this._direction=this._oldAGData.settings.dir),this._oldAGData.settings.opacity&&(this._settings.opacity=this._oldAGData.settings.opacity))}return $a(t,e),t.prototype.isSupportedByBrowser=function(){return!Us.isIE(9,"lte")},t.prototype.getHtml=function(){var e,t;this.isHorizental()?(e=this._settings.width+"px",t="130%"):(t=this._settings.width+"px",e="130%");var n=this._settings.opacity,r=this._settings.deg;return wmjQuery("<div class='wm-ag-swoosh' style='width: "+e+"; height:"+t+"; position: absolute; top:-6px; right: -6px; background-color: transparent !important; "+this.getRotateCss(r)+this.getBackgoundCss(n)+"'/>")},t.prototype.postDrawing=function(){var e=this._settings.right;this._attentionGrabberWrapper.detach().appendTo(this._player);var t=this.isHorizental()?"width":"height",n=this._player.css(t);this._attentionGrabberWrapper.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%","z-index":this._player.css("z-index"),right:"0",bottom:"auto",top:"0"}).important("background","none"),this._attentionGrabber.show(),this._attentionGrabberWrapper.show();var r=this.getProperty("animationDuration");this.animate(n,e,r)},t.prototype.animate=function(e,t,n){function r(){var e={};e[o]=a,i.animate(e,n);var s=this._stopAnimation;setTimeout(function(){var e={};e[o]=t+"px",i.animate(e,n)},1e3),s||setTimeout(r,4e3)}var i=this._attentionGrabber,o=this.isHorizental()?"right":"top";i.css(o,t+"px");var a=1.3*parseFloat(e)+"px";r()},t.prototype.isHorizental=function(){return"hoz"==this._direction},t.prototype.getProperty=function(e){return this._settings[e]||this._defaultValues[e]},t.prototype.getBackgoundCss=function(e){return"background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjkxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background: -moz-linear-gradient(left,  rgba(255,255,255,0) 0%, rgba(255,255,255,"+e+") 50%, rgba(255,255,255,0) 100%);background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255,255,255,0)), color-stop(50%,rgba(255,255,255,"+e+")), color-stop(100%,rgba(255,255,255,0)));background: -webkit-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -o-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -ms-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: linear-gradient(to right,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);"},t.prototype.getRotateCss=function(e){return"transform: rotate("+e+"deg); -moz-transform:rotate("+e+"deg); -webkit-transform:rotate("+e+"deg); -o-transform:rotate("+e+"deg);  -ms-transform:rotate("+e+"deg);"},t}(Ha);ua.register("OldSwooshAttentionGrabber").asCtor(qa).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Ka=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this.positions=["left","right","top","bottom"],this._templateId=this._data.UITemplateId,this._templateVersion=this._data.UITemplateVersion,this._templateVariations=[];for(var l in this._data.UIVariationsIds)this._templateVariations.push(ua.get("UIVariations").get(this._data.UIVariationsIds[l]));this._data.Settings.customVariation&&this._templateVariations.push(this._data.Settings.customVariation),this._setPositionProxy=wmjQuery.proxy(function(){this.setPosition()},this),this._playerMajorPosition=this._config[this.POSITION].slice(0,this._config[this.POSITION].indexOf("-"))}return $a(t,e),t.prototype.isSupportedByBrowser=function(){return!Us.isIE(7)},t.prototype.getHtml=function(){return ua.get("TemplatesFactory").get(this._templateId,this._templateVersion,this._templateVariations,this.getTemplateData())},t.prototype.getTemplateData=function(){return{}},t.prototype.getHorizontalOffset=function(){return 0},t.prototype.getVerticalOffset=function(){return 0},t.prototype.animate=function(){},t.prototype.postDrawing=function(){this.addMainClass(),this._attentionGrabber.show(),this._attentionGrabberWrapper.show(),this.setPosition(),this.bindEvents(),this.animate()},t.prototype.addMainClass=function(){this._attentionGrabber.addClass("wm-ag-"+this._mainClass)},t.prototype.copyCssProperties=function(){for(var e=0;e<this.positions.length;e++)this._attentionGrabberWrapper.css(this.positions[e],this.getCssPosition(this._player,this.positions[e])),this._attentionGrabberWrapper.css("margin-"+this.positions[e],this._player.css("margin-"+this.positions[e]))},t.prototype.fixCssMargins=function(e,t){var n=parseFloat(this._attentionGrabberWrapper.css("margin-left"))||0,r=parseFloat(this._attentionGrabberWrapper.css("margin-right"))||0,i=parseFloat(this._attentionGrabberWrapper.css("margin-top"))||0,o=parseFloat(this._attentionGrabberWrapper.css("margin-bottom"))||0;this._attentionGrabberWrapper.css("margin-left",n+e+"px").css("margin-right",r+e+"px"),this._attentionGrabberWrapper.css("margin-top",i+t+"px").css("margin-bottom",o+t+"px")},t.prototype.getCssPosition=function(e,t){var n,r=e[0].style[t];n=this._lib.getHostData().isIE(8)?e[0].currentStyle[t]:e.css(t),e.important(t,"auto");var i=e.css(t);return e.important(t,""),r&&(e[0].style[t]=r),n!=i?n:"auto"},t.prototype.setLogicCss=function(){this._attentionGrabberWrapper.css("z-index"," 2147483647"),this._attentionGrabberWrapper.css("cursor","pointer")},t.prototype.bindEvents=function(){wmjQuery(window).resize(this._setPositionProxy),this._attentionGrabberWrapper.click(this._menu.toggle)},t.prototype.unbindEvents=function(){wmjQuery(window).off("resize",this._setPositionProxy)},t.prototype.setPosition=function(){this._attentionGrabberWrapper.css("position","fixed"),this.setLogicCss();var e,t;"left"==this._playerMajorPosition||"right"==this._playerMajorPosition?(e=this._player.outerWidth()+this.getHorizontalOffset(),t=(this._player.outerHeight()-this._attentionGrabber.outerHeight())/2):("top"==this._playerMajorPosition||"bottom"==this._playerMajorPosition)&&(e=(this._player.outerWidth()-this._attentionGrabber.outerWidth())/2,t=this._player.outerHeight()+this.getVerticalOffset()),this.copyCssProperties(),this.fixCssMargins(e,t)},t.prototype.remove=function(t){try{this.unbindEvents(),e.prototype.remove.call(this,t)}catch(n){e.prototype.remove.call(this,t)}},t}(Ha);ua.register("TemplateAttentionGrabber").asCtor(Ka).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Xa=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="ag",this._animationDuration=this._settings.animationDuration||700}return $a(t,e),t.prototype.isSupportedByBrowser=function(){return!Us.isIE(9,"lte")},t.prototype.postDrawing=function(){this._attentionGrabberWrapper.detach().appendTo(this._player),this._attentionGrabberWrapper.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%","z-index":this._player.css("z-index"),right:"0",bottom:"auto",top:"0"}).important("background","none"),this._attentionGrabber.show(),this._attentionGrabberWrapper.show(),this.animate()},t.prototype.animate=function(){function e(){var o={};o[r]=a,t.animate(o,n);var s=this._stopAnimation;setTimeout(function(){var e={};e[r]=i,t.animate(e,n)},1e3),s||setTimeout(e,4e3)}var t=this._attentionGrabber,n=this._animationDuration,r=this.isHorizental()?"right":"top",i="-60px";t.css(r,i);var o=this.isHorizental()?"width":"height",a=1.3*parseFloat(this._player.css(o))+"px";e()},t.prototype.isHorizental=function(){return"top"==this._playerMajorPosition||"bottom"==this._playerMajorPosition},t}(Ka);ua.register("SwooshAttentionGrabber").asCtor(Xa).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Ya=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._oppositeDirections={left:"right",right:"left",bottom:"top",top:"bottom"}}return $a(t,e),t.prototype.getTemplateData=function(){var e=ua.get("LanguageManager");return{title:this.getBalloonTitle(),text:this.getBalloonText(),position:this.getOppositeDirection(this._playerMajorPosition),buttons:this._settings.buttons,direction:this.getDirection(),language:e.getCurrentLanguage()}},t.prototype.getBalloonText=function(){return""},t.prototype.getBalloonTitle=function(){return void 0},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this._attentionGrabberWrapper.css("direction",this.getDirection())},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this);var t=wmjQuery.proxy(this.remove,this);this._xBtn=wmjQuery(".wm-x-button",this._attentionGrabberWrapper),this._xBtn.click(function(){t()})},t.prototype.getHorizontalOffset=function(){return wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper).outerWidth()},t.prototype.getVerticalOffset=function(){return wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper).outerHeight()},t.prototype.animate=function(){function e(){if(1==a)return a=0,void s(function(){e()},3e3);a++;var u={};u[n]=i,t.animate(u,{easing:"swing",duration:700,complete:function(){s(function(){var i={};i[n]=r+5+"px",t.animate(i,{easing:"easeOutBounce",duration:700,complete:function(){o||s(function(){e()},100)}})},100)}})}var t=this._attentionGrabberWrapper,n=this._playerMajorPosition,r=parseInt(t.css(n)),i=r+30+"px",o=this._stopAnimation,a=0,s=this._timerManager.libSetTimeout;e()},t.prototype.getOppositeDirection=function(e){return this._oppositeDirections[e]},t.prototype.remove=function(t){try{if(this._attentionGrabberWrapper){this._attentionGrabberWrapper.off("click"),this._xBtn&&this._xBtn.off("click");var n=wmjQuery.proxy(e.prototype.remove,this);this._attentionGrabberWrapper.stop(!0,!0);var r={opacity:0};Us.isIE(8)?e.prototype.remove.call(this,t):this._attentionGrabberWrapper.animate(r,{duration:300,complete:function(){n(t)}})}else e.prototype.remove.call(this,t)}catch(i){e.prototype.remove.call(this,t)}},t}(Ka);ua.register("BalloonAttentionGrabber").asCtor(Ya).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Ja=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="ticker",this._textItems=[],this.MAX_DEPLOYABLES_TO_SHOW=5;var l=this.getDefaultOrFirstTab();if(l)for(var c=l.children(),d=0,f=0;f<c.length;f++){var p=c[f];if(p.properties().hasProperty("visible")&&(this._textItems.push(p.name()),d++),d==this.MAX_DEPLOYABLES_TO_SHOW)break}this._currentDeployableIndex=0}return $a(t,e),t.prototype.setupAttenGrab=function(){0!==this._textItems.length&&e.prototype.setupAttenGrab.call(this)},t.prototype.getBalloonTitle=function(){return"Help me with..."},t.prototype.getBalloonText=function(){return this._textItems[this._currentDeployableIndex]},t.prototype.getDeployableText=function(){var e=this._textItems[this._currentDeployableIndex];return this._currentDeployableIndex<Math.min(this.MAX_DEPLOYABLES_TO_SHOW,this._textItems.length)-1?this._currentDeployableIndex++:this._currentDeployableIndex=0,e},t.prototype.animate=function(){if(Us.isIE(8))this.innerAnimate();else{this._attentionGrabberWrapper.css({opacity:0});var e={opacity:1},t=wmjQuery.proxy(this.innerAnimate,this);this._attentionGrabberWrapper.animate(e,{duration:300,complete:t})}},t.prototype.innerAnimate=function(){var e=wmjQuery(".wm-title",this._attentionGrabber),t={opacity:1};this.fixOpacityForIe8(t),e.css(t);var n=this._stopAnimation;e.text(yd(this.getDeployableText(),["&",'"',"'",">","<"]));var r=wmjQuery.proxy(this.innerAnimate,this),i=this._timerManager.libSetTimeout;e.animate(t,{duration:700,complete:function(){i(function(){var t={opacity:0};e.animate(t,{duration:700,complete:function(){n||r()}})},2e3)}})},t.prototype.getDirection=function(){return"ltr"},t.prototype.fixOpacityForIe8=function(e){Us.isIE(8)&&(e.opacity=.99)},t}(Ya);ua.register("TickerAttentionGrabber").asCtor(Ja).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},Za=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="custom-text"}return $a(t,e),t.prototype.getBalloonText=function(){return this._settings.text||""},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this);var t=wmjQuery(".wm-title",this._attentionGrabber);t.css("width","auto")},t}(Ya);ua.register("CustomTextAttentionGrabber").asCtor(Za).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},es=function(e){function t(t,n,r,i,o,a,s,u,l){e.call(this,t,n,r,i,o,a,s,l),this._mainClass="custom-image",this._resourceManager=u}return $a(t,e),t.prototype.getHtml=function(){var e=this._resourceManager.getResourcePath(this._settings.image.url);if(this.isHttpOverHttps(e))return this._logger.customerLog("Attention Grabber - Could not load Custom Image because source is http over https",3),Cl("AGDataInsecure",{name:"Custom Image"}),null;var t=ua.get("TemplatesFactory").get(this._templateId,this._templateVersion,this._templateVariations,{src:e});return t.height(this._settings.image.height).width(this._settings.image.width),t},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this._attentionGrabberWrapper.height(this._settings.image.height).width(this._settings.image.width)},t.prototype.isHttpOverHttps=function(e){return e?0!=window.location.href.indexOf("https://")?!1:-1==e.indexOf("https://"):!1},t}(Ka);ua.register("CustomImageAttentionGrabber").asCtor(es).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax, ResourceManager");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},ts=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._balloonsData={0:{classType:"3.sub",title:"Meet WalkMe!",text:"Your New Personal Assistant.",buttonText:"Start",position:"bottom-center",firstBalloon:!0},1:{classType:"3.sub",text:"The WalkMe menu is the place to get all the help you might need.",boldText:'Click "Next" and take a look...',
buttonText:"Next",position:"bottom-center",delay:1,marginBottom:3},2:{classType:"3.sub",text:"Here you can select your preferred language.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"bottom-center",attachedToElementSelector:"#walkme-languages",moveArrow:!0},3:{classType:"3.sub",text:"Quickly find answers to your support issue by using the search bar.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"right-middle",attachedToElementSelector:".walkme-search-box-container",marginRight:12},4:{classType:"3.sub",text:"All the Walk-Thrus and help resources are located here, click them to start your online guidance.",boldText:'Click "Next" to continue...',buttonText:"Next",position:"right-middle",attachedToElementSelector:".walkme-deployables-list .walkme-tab .walkme-deployable",marginRight:14},5:{classType:"3.sub",text:"Couldn't find what you want? this link takes you to the support page.",boldText:"To learn more about WalkMe, click here.",buttonText:"Next",position:"bottom-center",attachedToElementSelector:".walkme-open-ticket",moveArrow:!0},6:{classType:"3.sub",title:"Thank You!",text:"We're here to help.",buttonText:"Done",position:"bottom-center",marginBottom:3}},this._stepIndex=0,this._themeVariation=this._data.ExtraUIVariationsIds[0],this._balloonsData[0].position=this._config[this.POSITION],this._balloonsData[0].delay=this._settings.delay;var l=wmjQuery.proxy(this.updateJqueryMenu,this);this._menu.bind("build-menu-end",function(e,t){l(t.menu)})}return $a(t,e),t.prototype.updateJqueryMenu=function(e){this._jQueryMenu=e},t.prototype.createAg=function(e,t){var n=wmjQuery.proxy(this.showNextBalloon,this),r=wmjQuery.proxy(function(){var e=wmjQuery.proxy(function(){n(),1==this._stepIndex&&WalkMePlayerAPI.toggleMenu()},this);o.remove(e)},this),i={config:{Direction:this._config.Direction},player:e,menu:this._menu,onClickFunc:r,agData:{Id:t.firstBalloon?this._agId:null,ClassType:t.classType,UITemplateId:this._data.UITemplateId,UITemplateVersion:this._data.UITemplateVersion,UIVariationsIds:[this._themeVariation,this._data.ExtraUIVariationsIds[this._stepIndex+1]],Settings:{delay:t.delay,text:t.text,title:t.title,boldText:t.boldText,buttons:[{text:t.buttonText}],firstBalloon:t.firstBalloon,attachedToElementSelector:t.attachedToElementSelector,jQueryMenu:this._jQueryMenu,moveArrow:t.moveArrow,marginRight:t.marginRight,marginBottom:t.marginBottom}}};i.config[this.POSITION]=t.position;var o=ua.create("AttentionGrabber",i);this._currentAg=o,o.setupAttenGrab()},t.prototype.showNextBalloon=function(){if(!this._stopPlaying&&(this._stepIndex++,this._balloonsData[this._stepIndex])){if(!this.shouldPlay())return void this.showNextBalloon();if(this._jQueryMenu)this.createAg(this._jQueryMenu,this._balloonsData[this._stepIndex]);else{var e=wmjQuery.proxy(function(e){this._jQueryMenu=e,this.createAg(e,this._balloonsData[this._stepIndex])},this);this._menu.bind("on-open-end",function(t,n){t.target.unbind("on-open-end"),e(n.menu)})}}},t.prototype.shouldPlay=function(){var e=this._balloonsData[this._stepIndex].attachedToElementSelector;return e?wmjQuery(e+":visible",this._jQueryMenu).length>0:!0},t.prototype.setupAttenGrab=function(){if(this.isWalkthrusTab()&&"iOS"!=Us.os.name&&"Android"!=Us.os.name){var e=wmjQuery.proxy(this.stopAll,this);this._menu.bind("on-close-begin",function(t){e()}),this.createAg(this._player,this._balloonsData[0])}},t.prototype.isWalkthrusTab=function(){var e=this.getDefaultOrFirstTab(),t=e.properties().getAll();return wmjQuery.inArray("contains-walkthru",t)>-1},t.prototype.stopAll=function(){this._stopPlaying=!0,this._currentAg.remove()},t.prototype.remove=function(t){this._currentAg&&this._currentAg.remove(),e.prototype.remove.call(this,t)},t}(Ha);ua.register("MenuOverviewAttentionGrabber").asCtor(ts).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},ns=function(e){function t(t,n,r,i,o,a,s,u){e.call(this,t,n,r,i,o,a,s,u),this._mainClass="menu-overview",this._arrowOffset=0,this._onClickFunc=u.onClickFunc}return $a(t,e),t.prototype.getTemplateData=function(){return{title:this._settings.title,"bold-text":this._settings.boldText,text:this._settings.text,position:this.getOppositeDirection(this._playerMajorPosition),buttons:this._settings.buttons}},t.prototype.setLogicCss=function(){e.prototype.setLogicCss.call(this),this.moveArrow(),this._data.Settings.firstBalloon||this._attentionGrabberWrapper.css("cursor","auto")},t.prototype.moveArrow=function(){if(this._data.Settings.moveArrow){{var e=wmjQuery(".wm-outer-arrow",this._attentionGrabberWrapper),t=wmjQuery(".wm-inner-arrow",this._attentionGrabberWrapper),n=e.offset().left;e.css("left")}e.css("left","85%"),t.css("left","85%");var r=e.offset().left,i=r-n;this._arrowOffset=i,this._data.Settings.moveArrow=!1}},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this._attentionGrabberWrapper.off("click"),wmjQuery(".wm-button",this._attentionGrabberWrapper).click(this._onClickFunc),this._fixPositionProxy=wmjQuery.proxy(this.fixPosition,this),wmjQuery(window).resize(this._fixPositionProxy),this._data.Settings.firstBalloon&&this._attentionGrabberWrapper.click(this._onClickFunc)},t.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),wmjQuery(window).off("resize",this._fixPositionProxy)},t.prototype.animate=function(){this.fixPosition(),this._data.Settings.firstBalloon&&e.prototype.animate.call(this)},t.prototype.fixPosition=function(){var e=this._attentionGrabberWrapper.css("margin-bottom"),t=this._attentionGrabberWrapper.css("margin-right"),n=this._data.Settings.marginRight||0,r=this._data.Settings.marginBottom||0;if(this._data.Settings.attachedToElementSelector){var i=this._data.Settings.jQueryMenu,o=wmjQuery(this._data.Settings.attachedToElementSelector,i),a=o.offset().left-i.offset().left,s=o.offset().top-i.offset().top;if("bottom"==this._playerMajorPosition){var u=(this._attentionGrabberWrapper.width(),i.width()),l=this._attentionGrabberWrapper.css("margin-bottom"),c=o.width(),d=(o.css("margin-right"),o.css("margin-top"),parseFloat(t)+u/2-a-c/2+this._arrowOffset+n);this._attentionGrabberWrapper.css("margin-right",d+"px").css("margin-bottom",parseFloat(l)-s+r+"px")}else{var f=i.height(),p=(i.css("border-left-width"),o.css("margin-right"),o.height()),d=parseFloat(e)+f/2-s-p/2+r;this._attentionGrabberWrapper.css("margin-right",parseFloat(t)-a+n+"px").css("margin-bottom",d+"px")}}else this._attentionGrabberWrapper.css("margin-right",parseFloat(t)+n+"px").css("margin-bottom",parseFloat(e)+r+"px")},t}(Za);ua.register("MenuOverviewSubAttentionGrabber").asCtor(ns).asProto().dependencies("Lib, CommonUtils, TimerManager, EndUsersManager, AuditSourceManager, HostData, WmAjax"),ua.register("CommonEvents").asCtor(V).dependencies("Logger").asSingleton(),ua.register("CommonUtils").asCtor(H).dependencies("TimerManager, HostData");var H,$=new $(ia);ua.register("Balloon").asCtor(z).asProto(),ua.register("DrawableLauncher").asCtor(te).asProto(),ua.register("AuditStepsManager").asCtor(ne).dependencies("Lib,ServerDataSenderManager,AbPermutationManager,Logger,HostData,WmAjax,Consts,StepUtils,AuditSourceManager,CommonUtils"),ua.register("EndUsersManager").asCtor(re).dependencies("ClientStorageManager,Logger,JQueryElementFinder,Lib,GenerateGuidFunc"),ua.register("EndUserLoggerManager").asCtor(ie).dependencies("StorageManager, Logger, EndUsersManager, SiteConfigManager, AbPermutationManager, Lib, RecorderServerManager, HostData, FeaturesManager");var rs={};rs.fixed=function(e){var t=new rs.regular;return t.setValue(e),t},rs.noMemory=function(){function e(e){n=e}var t,n,r,i=this;i.onGotValue=function(e){},i.getValue=function(e){return e?r:r=n()},i.hasValue=function(){return!0},i.onResourceClean=function(e){t=e},i.cleanResources=function(){t&&t()},i.onRefresh=function(){},i.refresh=function(){},e.apply(null,arguments)},rs.regular=function(){function e(){}var t,n,r,i,o=this,a=!1;o.onGotValue=function(e){n=e},o.setValue=function(e){t=e,a=void 0!==e,n&&n(o.getValue())},o.getValue=function(){return t},o.hasValue=function(){return a},o.onResourceClean=function(e){r=e},o.cleanResources=function(){r&&r(),n=void 0},o.onRefresh=function(e){i=e},o.refresh=function(){i&&i()},e.apply(null,arguments)},rs.complex=function(){function e(e,n,a){r=e,i=n,o=a,r.onGotValue(t),i.onGotValue(t)}function t(){var e=s.hasValue()&&n?!0:!1;e&&n(s.getValue())}var n,r,i,o,a,s=this;s.getValue=function(e){return e?a:a=o(r.getValue,i.getValue)},s.onGotValue=function(e){n=e},s.hasValue=function(){return o(r.hasValue,i.hasValue)},s.cleanResources=function(){r.cleanResources(),i.cleanResources(),n=void 0},s.refresh=function(){r.refresh(),i.refresh()},e.apply(null,arguments)},this.ConditionFunctions=function(e,t,n,r,a,s){function u(e,t){return e=c(e),t=c(t),e=parseFloat(e),t=parseFloat(t),f(e)&&f(t)?e>t:!1}function l(e,t){return e=c(e),t=c(t),e=parseFloat(e),t=parseFloat(t),f(e)&&f(t)?t>e:!1}function c(e){return e&&"string"==typeof e&&e.replace?e.replace(/,|\$|\u20AC|\u20AA|||/g,""):e}function d(e,t){return n.isLike(e,t)}function p(e){var t=e.split(":"),n=Number(t[0]),r=Number(t[1]);return 60*n+r}function g(e){var t=new RegExp("[ 	"+String.fromCharCode(160)+"\r\n\f]+","gi");return e=e.replace(t," "),e=wmjQuery.trim(e)}function h(e){return element=t.findElementsByjQueryComplexSelector(e.jQuerySelector),0===element.length&&(element=!1),element}function m(e,t,n){var r=function(){return h(e)};return w(t,n,r)}function v(e,t,n,r){var i=function(){return h(e)};return T(e,t,n,r,i)}function y(e){var t=D();return e.IdentifySettings?(t.ElementDescription=o(i(e.IdentifySettings.ElementDescription)),t.IsIgnoreText=parseInt(e.IdentifySettings.IgnoreText),t.StepSensitivity=parseInt(e.IdentifySettings.Sensitivity),t.IsIgnoreId=parseInt(e.IdentifySettings.IgnoreId),t.IgnorePosition=parseInt(e.IdentifySettings.IgnorePosition),t.IsIdentifyByText=parseInt(e.IdentifySettings.IsIdentifyByText)):t.ElementDescription=o(i(e.ElementDescription)),t}function w(e,t,n){function r(){o&&o.clear();var a=n();return a?(t=-1,S(e,i,a,n)):0>t?i:(i.setValue(!1),o=Sl.libSetTimeout(r,t),i)}var i=new rs.regular;i.onResourceClean(function(){t=-1}),i.onRefresh(function(){r()});var o;return r()}function b(e){var t;try{t=e[0].ownerDocument}catch(n){return!1}var r=t.defaultView||t.parentWindow;return r&&r.top==window.top&&e.is("mt_visible")?!0:!1}function S(e,t,n,r){function i(){wo("Listening to event on element. (event:'"+e+"', element specified below) ",5),wo(n,5),n&&n.on(e+a,s)}function o(){try{wo("Stopped listening for event in condition checker result. (event:'"+e+"', element specified below) ",5),wo(n,5),n&&n.off(e+a,s)}catch(t){}}var a=".mtCond",s=function(){wo("An event was fired for condition checker result. (event:'"+e+"', element specified below) ",3),wo(n[0],3),t.setValue(!0)};return i(),t.onResourceClean(o),t.onRefresh(function(){var e=n&&b(n);e||(n=r(),n&&i())}),t}function T(e,t,n,r,i){var o,a=function(e){return e?o:o=i()},s=new rs.regular,u=w(t,r,function(){return a(!1)}),l=w(n,r,function(){return a(!0)});return u.onGotValue(function(e){e&&s.setValue(!0)}),l.onGotValue(function(e){e&&s.setValue(!1)}),s.onResourceClean(function(){u.cleanResources(),l.cleanResources()}),s}function k(t){var n=y(t),r=e.findElement(n,null);return r}function I(e,t,n){var r=function(){return k(e)};return w(t,n,r)}function C(e,t,n,r){var i=function(){return k(e)};return T(e,t,n,r,i)}function x(e,t){return e/=t,e--,Math.sqrt(1-e*e)}this.LocalSVNRevision="$Rev: 5186 $";var _=this,D=function(){var e={Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0};return e};this.getElementTextForEditor=function(e){var t=o(e);return _.getElementText(t)},this.getElementStrength=function(t){var n=o(t),r=y(n),i={score:-1},a=e.findElement(r,null,i);return a?i.score:void 0},this.getElementText=function(t){var r=y(t),i=e.findElement(r,!1);return i===!1?!1:n.checkElementText(wmjQuery(i))};var E=function(e,t,n){return m(e,"hover",n)},A=function(e,t,n){return m(e,"click",n)},P=function(e,t,n){return v(e,"mouseenter","mouseleave",n)},N=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>0},R=function(e){return 0==t.findElementsByjQueryComplexSelector(e.jQuerySelector).length},j=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>parseInt(e.jQueryLength)},M=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length<parseInt(e.jQueryLength)},L=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length==parseInt(e.jQueryLength)},O=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length!=parseInt(e.jQueryLength)},G=function(e){for(var t=parseInt(e.StepId),n=0;n<uc.length;n++)if(uc[n].Id==t)return!0;return!1},U=function(e){return!G(e)},F=function(e){for(var t=parseInt(e.StepId,10),n=0;n<lc.length;n++)if(lc[n]==t)return!0;return!1},B=function(e){return!F(e)},W=function(e){var t=new Date(yd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t-n==0},Q=function(e){return!W(e)},V=function(e){var t=new Date(yd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),n>=t},H=function(e){var t=new Date(yd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t>=n},$=function(e){var t=new Date;return Number(e.DateInput)==t.getDay()},z=function(e){var t=new Date;return Number(e.DateInput)==t.getMonth()},q=function(e){var t=new Date;return Number(e.DateInput)==t.getFullYear()},K=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n>=p(e.TimeInput)},X=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n<=p(e.TimeInput)},Y=function(e){var t=yd(e.UrlInput,["&"]);return Lc(t.toLowerCase())==Lc(vc().toLowerCase())},J=function(e){return!Y(e)},Z=function(e){var t=yd(e.UrlInput,["&"]);return Lc(vc()).toLowerCase().indexOf(Lc(t).toLowerCase())>=0},ee=function(e){return!Z(e)},te=function(t){var n=y(t);return 0!=e.findElement(n,!1)},ne=function(e,t,n){return I(e,"hover",t)},re=function(e,t,n){return I(e,"click",t)},ie=function(e,t,n){return C(e,"mouseenter","mouseleave",t)},oe=function(e){return!te(e)},ae=function(t){var n=y(t);return 0!=e.findElement(n,!0)},se=function(e){return!ae(e)},ue=function(e){var t=_.getElementText(e),n=yd(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:g(t.toLowerCase())==g(n.toLowerCase())},le=function(e){return!ue(e)},ce=function(e){var t=_.getElementText(e);return t===!1?!1:u(t,e.ElementText)},de=function(e){var t=_.getElementText(e);return t===!1?!1:l(t,e.ElementText)},fe=function(e){var t=_.getElementText(e),n=yd(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:d(g(t),g(n))},pe=function(e){return!fe(e)},ge=function(e){var t=yd(e.UrlInput,["&"]);if(0==t.indexOf("regexp:"))return jc(t);var n=Lc(vc()),r=Lc(t);return d(n,r)},he=function(e){return!ge(e)},me=function(e){var n=yd(e.jQueryText,["&",'"',"'"]);return g(t.getjQueryElementText(e.jQuerySelector).toLowerCase())==g(n.toLowerCase())},ve=function(e){return!me(e)},ye=function(e){return u(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},we=function(e){return l(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},be=function(e){var n=yd(e.jQueryText,["&",'"',"'"]);return d(g(t.getjQueryElementText(e.jQuerySelector)),g(n))},Se=function(e){return!be(e)},Te=function(e){var t=yd(e.UrlInput,["&"]);return Lc(t.toLowerCase())==Lc(yc().toLowerCase())},ke=function(e){return!Te(e)},Ie=function(e){var t=yd(e.UrlInput,["&"]);return Lc(yc().toLowerCase()).indexOf(Lc(t.toLowerCase()))>=0},Ce=function(e){return!Ie(e)},xe=function(e){var t=yd(e.UrlInput,["&"]),n=Lc(yc()),r=Lc(t);return d(n,r)},_e=function(e){return!xe(e)},De=function(e){return d(r.browser.string,"*"+e.BrowserName+"*")},Ee=function(e){return!De(e)},Ae=function(e){return window.self!==window.top},Pe=function(e){return!Ae(e)},Ne=4e3,Re=function(e){var t=Uu.getData(ec);if(!t)return!1;var n=((new Date).getTime()-t)/2,r=n>Ne?Ne:x(n,Ne)*Ne;return Rs+r>t},je=function(e){return!Re(e)},Me=function(e){var t=Gu.getCookie(e.CookieName),n=yd(e.CookieInput,["&",'"',"'"]);return t===!1?!1:t.toLowerCase()==n.toLowerCase()},Le=function(e){return!Me(e)},Oe=function(e){var t=Gu.getCookie(e.CookieName);return t===!1?!1:u(t,e.CookieInput)},Ge=function(e){var t=Gu.getCookie(e.CookieName);return t===!1?!1:l(t,e.CookieInput)},Ue=function(e){var t=Gu.getCookie(e.CookieName),n=yd(e.CookieInput,["&",'"',"'"]);return t===!1?!1:d(t,n)},Fe=function(e){return!Ue(e)},Be=function(e){var t=Gu.getCookie(e.CookieName);return t!==!1},We=function(e){return!Be(e)},Qe=function(e){var t=Uu.getData(e.DataKey,void 0);if(void 0===t)return!1;null===t&&(t="null");var n=yd(e.DataValue,["&",'"',"'"]);return t.toString().toLowerCase()==n.toLowerCase()},Ve=function(e){return!Qe(e)},He=function(e){var t=Uu.getData(e.DataKey,void 0);return void 0===t?!1:u(t,e.DataValue)},$e=function(e){var t=Uu.getData(e.DataKey,void 0);return void 0===t?!1:l(t,e.DataValue)},ze=function(e){var t=Uu.getData(e.DataKey,void 0);if(void 0===t||null===t)return!1;var n=yd(e.DataValue,["&",'"',"'"]);return d(t,n)},qe=function(e){return!ze(e)},Ke=function(e){var t=Uu.getData(e.DataKey,void 0);return void 0!==t},Xe=function(e){return!Ke(e)},Ye=function(e){var t=gn(_s.Var,e.WindowVarName),n=yd(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:t.toString().toLowerCase()==n.toLowerCase()},Je=function(e){return!Ye(e)},Ze=function(e){var t=gn(_s.Var,e.WindowVarName);return void 0===t?!1:u(t,e.WindowVarInput)},et=function(e){var t=gn(_s.Var,e.WindowVarName);return void 0===t?!1:l(t,e.WindowVarInput)},tt=function(e){var t=gn(_s.Var,e.WindowVarName),n=yd(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:d(t.toString(),n)},nt=function(e){return!tt(e)},rt=function(e){var t=gn(_s.Var,e.WindowVarName);return void 0===t||null===t?!1:!0},it=function(e){return!rt(e)},ot=function(e){var t=s.getCurrentLanguage();""===t&&(t="default");var n=yd(e.LanguageName,["&",'"',"'"]);return n.toLowerCase()==t.toLowerCase()},at=function(e){return!ot(e)},st=function(e){var t=s.getCurrentLanguage();""===t&&(t="default");var n=yd(e.LanguageName,["&",'"',"'"]);return d(t,n)},ut=function(e){return!st(e)},lt=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),i=_c(r),o=Dc(n,r);if(i>-1&&o>-1){var a=pu[i].Steps[o];return e.findElement(a,!1)!==!1}return!1},ct=function(e){return!lt(e)},dt=function(e){var t=parseInt(e.StepId),n=parseInt(e.TutorialId),r=_c(n),i=Dc(t,n);if(i>-1&&r>-1){var o=gr(r,i,void 0,void 0,void 0,Ra.Sandbox);if(o>=0)return!0}return!1},ft=function(e){return!dt(e)},pt=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),i=_c(r),o=Dc(n,r);if(i>-1&&o>-1){var a=pu[i].Steps[o];return e.findElement(a,!0)!==!1}return!1},gt=function(e){return!pt(e)},ht=function(e){var t=parseInt(e.GoalId);return dl&&dl.isGoalReached(t)},mt=function(e){return!ht(e)},vt=function(e){return wt(e)},yt=function(e){return!wt(e)},wt=function(e){var t=parseInt(e.TaskId),n=parseInt(e.GoalId);return Vu.isTaskGoalReached(t,n)},bt=function(e){var t=wmjQuery("#tsidLabel"),n=yd(e.SfTabInput,["&",'"',"'",">","<"]);return 0==t.length?!1:g(t.text().toLowerCase())==g(n.toLowerCase())},St=function(e){return!bt(e)},Tt=function(e){var t=wmjQuery("#tsidLabel"),n=yd(e.SfTabInput,["&",'"',"'",">","<"]);return 0==t.length?!1:g(t.text().toLowerCase()).indexOf(g(n.toLowerCase()))>=0},kt=function(e){return!Tt(e)},It={Accounts:"salesforce.com/001/",Contacts:"salesforce.com/003/",Opportunities:"salesforce.com/006/",Documents:"salesforce.com/015/",Cases:"salesforce.com/500/",Solutions:"salesforce.com/501/",Contracts:"salesforce.com/800/",Reports:"salesforce.com/00O/",Leads:"salesforce.com/00Q/",Dashboards:"salesforce.com/01Z/",CustomTabs1:"salesforce.com/a00/",Products:"salesforce.com/a01/"},Ct={MainPage:"o",New:"e"},xt=function(e){var t={};return t.UrlInput=""+It[e.SfType]+Ct[e.SfModoule],Z(t)},_t=function(e){return!xt(e)},Dt={jQueryTrue:N,jQueryFalse:R,jQueryLengthBigger:j,jQueryClicked:A,jQueryHovered:E,jQueryHoverSwitch:P,jQueryLengthSmaller:M,jQueryLengthEquals:L,jQueryLengthNotEquals:O,jQueryTextEquals:me,jQueryTextNotEquals:ve,jQueryTextBigger:ye,jQueryTextSmaller:we,jQueryTextLike:be,jQueryTextNotLike:Se,StepPlayed:G,StepNotPlayed:U,StepCanPlay:dt,StepCannotPlay:ft,StepIsVisible:pt,StepIsNotVisible:gt,StepExists:lt,StepNotExists:ct,StepCompleted:F,StepNotCompleted:B,UrlEquals:Y,UrlNotEquals:J,UrlContains:Z,UrlNotContains:ee,UrlLike:ge,UrlNotLike:he,DateEquals:W,DateNotEquals:Q,DateFrom:V,DateUntil:H,DateIsDay:$,DateIsMonth:z,DateIsYear:q,TimeFrom:K,TimeUntil:X,ReferrerUrlEquals:Te,ReferrerUrlNotEquals:ke,ReferrerUrlContains:Ie,ReferrerUrlNotContains:Ce,ReferrerUrlLike:xe,ReferrerUrlNotLike:_e,ElementExists:te,ElementNotExist:oe,ElementVisible:ae,ElementNotVisible:se,ElementClicked:re,ElementHovered:ne,ElementHoverSwitch:ie,ElementTextEquals:ue,ElementTextNotEquals:le,ElementTextBigger:ce,ElementTextSmaller:de,ElementTextLike:fe,ElementTextNotLike:pe,BrowserEquals:De,BrowserNotEquals:Ee,ContainerIsIframe:Ae,ContainerNotIframe:Pe,WindowIsNew:Re,WindowIsNotNew:je,CookieExists:Be,CookieNotExists:We,CookieEquals:Me,CookieNotEquals:Le,CookieBigger:Oe,CookieSmaller:Ge,CookieLike:Ue,CookieNotLike:Fe,WalkMeDataExists:Ke,WalkMeDataNotExists:Xe,WalkMeDataEquals:Qe,WalkMeDataNotEquals:Ve,WalkMeDataBigger:He,WalkMeDataSmaller:$e,WalkMeDataLike:ze,WalkMeDataNotLike:qe,LanguageEquals:ot,LanguageNotEquals:at,LanguageLike:st,LanguageNotLike:ut,WindowVarEquals:Ye,WindowVarNotEquals:Je,WindowVarBigger:Ze,WindowVarSmaller:et,WindowVarLike:tt,WindowVarNotLike:nt,WindowVarExists:rt,WindowVarNotExists:it,TaskGoalReached:vt,TaskGoalNotReached:yt,ExperimentGoalReached:ht,ExperimentGoalNotReached:mt,SalesforceTabEquals:bt,SalesforceTabNotEquals:St,SalesforceTabContains:Tt,SalesforceTabNotContains:kt,SalesforceUrlEquals:xt,SalesforceUrlNotEquals:_t},Et=[];Et.StepPlayed=!1,Et.StepNotPlayed=!1,Et.StepCanPlay=!1,Et.StepCannotPlay=!1,Et.StepCompleted=!1,Et.StepNotCompleted=!1,Et.LanguageEquals=!1,Et.LanguageNotEquals=!1,Et.LanguageLike=!1,Et.LanguageNotLike=!1,Et.TaskGoalReached=!1,Et.TaskGoalNotReached=!1,Et.jQueryClicked=!1,Et.jQueryHovered=!1,Et.ElementClicked=!1,Et.ElementHovered=!1,Et.ExperimentGoalReached=!1,Et.ExperimentGoalNotReached=!1;var At=["ElementClicked","ElementHovered","ElementHoverSwitch","jQueryClicked","jQueryHovered","jQueryHoverSwitch"];this.isFuncAsync=function(e){return wmjQuery.inArray(e,At)>=0},this.getFunctionsByLibNameType=function(e){return Dt[e]},this.canAssertFunction=function(e){return void 0==Et[e]||0!=Et[e]},this.evaluationPreviewForEditor=function(e){Uu||(Uu=getStorageManager());var t=o(e);return _.evaluationPreview(t)},this.evaluationPreview=function(e){var t=this.getFunctionsByLibNameType(e.funcName),n=[];return n.push(e.funcArgs),this.canAssertFunction(e.funcName)?t.apply(this,n)?xs.TRUE:xs.FALSE:xs.CANNOT_ASSERT},this.evaluationTreePreviewForEditor=function(e){var t=o(e);return _.evaluationTreePreview(t)},this.evaluationTreePreview=function(e){function t(e){if("Func"==e.nodeType)return _.evaluationPreview(e);var n=t(e.leftSon),r=t(e.rightSon);return"And"==e.nodeType?n==xs.TRUE&&r==xs.TRUE?xs.TRUE:n==xs.CANNOT_ASSERT||r==xs.CANNOT_ASSERT?xs.CANNOT_ASSERT:xs.FALSE:"Or"==e.nodeType?n==xs.TRUE||r==xs.TRUE?xs.TRUE:n==xs.CANNOT_ASSERT||r==xs.CANNOT_ASSERT?xs.CANNOT_ASSERT:xs.FALSE:void 0}return null==e?xs.TRUE:t(e)}},ua.register("ConditionFunctions").asCtor(this.ConditionFunctions).asSingleton().dependencies("Lib, JQueryElementFinder, CommonUtils, HostData, TimerManager, LanguageManager"),ua.register("ConditionEvaluator").asCtor(oe).initialize(!1);var is=function(){function e(e){var t=new RegExp("^\\[\\d+\\]$","i");if(t.test(e)){var n=parseInt(e.substring(1,e.length-1));return d.functions.length>=n&&void 0!=d.functions[n]?new c(d.functions[n]):(d.errorStack.push("Function id doesn't exist!"),!1)}return d.errorStack.push("function token isn't in the form [funcId]. recieved:"+e),!1}function t(e){return e?new l(e):(d.errorStack.push("Failed to create NOT node."),!1)}function n(e,t,n){if(t&&n){if("OR"==e.toUpperCase())return new u(t,n);if("AND"==e.toUpperCase())return new s(t,n)}return d.errorStack.push("Failed to create "+e.toUpperCase()+" node."),!1}function r(e){for(var t=Array(),n=0;n<e.length;n++)if("("==e.charAt(n))t.push("(");else if(")"==e.charAt(n)){if(0==t.length)return!1;t.pop()}return 0==t.length}function i(e){if(e=mtjQuery.trim(e),e=e.replace("  "," "),e=e.replace("( ","("),e=e.replace(/not\(/gi,"not ("),e=e.replace(/and\(/gi,"and ("),e=e.replace(/or\(/gi,"or ("),"("!=e.charAt(0)||")"!=e.charAt(e.length-1))return e;var t=e.substring(1,e.length-1);return r(t)?t:e}function o(r){var s=i(r),u=s.split(" ");switch(u.length){case 0:d.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return e(u[0]);case 2:return"NOT"==u[0].toUpperCase()?t(o(u[1])):(d.errorStack.push("Ilegal expression"),!1);case 3:return"NOT"==u[0].toUpperCase()?t(o(u[1]+" "+u[2])):n(u[1],o(u[0]),o(u[2]));default:for(var l=Array(),c=0;c<u.length;c++){if(0==c&&u[c].length>=3&&"NOT"==u[c].substr(0,3).toUpperCase())return t(o(u.join(" ").substr(3)));for(var f=!1,p=0;p<u[c].length;p++)"("==u[c].charAt(p)?(f=!0,l.push("(")):")"==u[c].charAt(p)&&(f=!0,l.pop());if(!f&&0==l.length&&a(u[c]))return n(u[c],o(u.splice(0,c).join(" ")),o(u.splice(1,u.length-1).join(" ")))}return d.errorStack.push("Ilegal expression"),!1}}function a(e){return e.match(/not/i)||e.match(/or/i)||e.match(/and/i)?!0:!1}function s(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate()}}function u(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate()}}function l(e){this.son=e,this.evaluate=function(){return!this.son.evaluate()}}function c(e){this.func=e,this.evaluate=function(){return this.func()}}this.LocalSVNRevision="$Rev: 1318 $",this.functions=Array(),this.treeNode=null,this.errorStack=Array();var d=this;this.setFunction=function(e,t){if(void 0==e||void 0==t||0>t)throw"Wrong arguments.";return this.functions[t]=e,!0},this.evaluate=function(){if(null!=this.treeNode)return this.treeNode.evaluate();throw"Evaluation tree doesn't exist - No expression was set."},this.setExpression=function(e){if(void 0!=e&&e.length>0&&r(e)){if(this.treeNode=o(e),this.treeNode)return!0;var t=this.errorStack.join("\n");throw this.errorStack=this.errorStack.splice(),t}return this.errorStack.push("Ilegal expression!"),!1}};ua.register("ClientStorageManager").asFunction(function(e){return e.bySettingsFile()}).dependencies("StorageManagerFactory"),ua.register("EndUserStorageManager").asCtor(le).dependencies("ClientStorageManager, EndUsersManager"),ua.register("FramesetsUtils").asCtor(he).dependencies("Logger, HostData, TimerManager");var ke=new ke;ua.register("PlayManager").asCtor(Ie).dependencies("PlayManagerParams, TimerManager"),ua.register("StepUtils").asCtor(Ce).dependencies("Consts"),ua.register("PassOwnershipManager").asCtor(xe).initialize(!1),ua.register("TabbedOwnershipManager").asCtor(_e).initialize(!1),ua.register("FramedOwnershipManager").asCtor(De).initialize(!1),ua.register("StickinessManager").asCtor(Ee).asSingleton().dependencies("TimerManager"),ua.register("AbPermutationManager").asCtor(Re).dependencies("ClientStorageManager,EndUsersManager,Lib,AbPermutationManagerServerCaller"),ua.register("AbPermutationManagerServerCaller").asCtor(je).dependencies("RecorderServerManager, WmAjax, HostData"),ua.register("HostData").asFunction(Me).dependencies("win");var os=function(){function e(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n}var t,n=function(){function e(e,t){this.Ra=t,this.hasData=!1,this.context=e}return e.prototype.get=function(){return this.hasData||(this.data=this.Ra.apply(this.context),this.hasData=!0),this.data},e}();!function(e){function t(){for(var e=0;e<arguments.length;e++);return r.$.apply(r.$,arguments)}function n(e,t,n){if(n)for(t=e.length-1-t;t>=0&&-1==l.inArray(e[t].tag,o);t--);else for(;t<=e.length-1&&-1==l.inArray(e[t].tag,o);t++);return t}function i(e,r){var o=n(e,0,!1);if(o>=e.length-1)return r;var s=e.slice(0,o+1),o=e.slice(o+1),u=t(a,l.s(r));return 0==u.length?null:(u=1==u.length?u[0]:l.min(u,function(e){return e=l.ka(t(e)),f.F(e,s,f.j).m()}),r&&0<r.length&&t(u).data("iframe",r),i(o,t(u)))}var o=["IFRAME","FRAME"],a=o.join(":mt_visible,")+":mt_visible";e.getContext=function(e){if(1==e.length)return null;var t=n(e,1,!0);return-1==t?null:(t=e.slice(0,t+1),(t=f.G(t))&&t.is(":mt_visible")||(t=null),t?t:i(e,null))},e.getXpathUpToIframe=function(e){if(1==e.length)return e;var t=n(e,1,!0);return-1==t?e:e.slice(t+1)}}(t||(t={}));var r;!function(e){e.$,e.h,e.setJQuery=function(t){e.$=t,e.h=t,l.setJQuery(t),a.setJQuery(t)},e.pb=function(e){return new h(1).recognize(e)};var r=function(){return function(e){var t=this;this.totalScore=0,this.width=new n(this,function(){return t.element.width()}),this.height=new n(this,function(){return t.element.height()}),this.parents=new n(this,function(){return l.sa(t.element)}),this.text=new n(this,function(){return d.qa(t.element)}),this.n=function(e){return this.o.hasOwnProperty(e)||(this.o[e]=this.element.attr(e)),this.o[e]},this.T=new n(this,function(){return l.la(t.element,t.parents.get())}),this.element=e,this.details=[],this.o={}}}();e.ScoredElement=r;var c=function(){return function(){this.elements=[],this.losers=void 0}}();e.RecognitionResult=c;var p=function(){function e(){this.attributes={},this.complexAttributes={},this.B("style",";",":"),this.B("class"," ",null)}return e.prototype.B=function(e,t,r){var i=this;this.complexAttributes[e]=new n(this,function(){return l.S(i.attributes[e],t,r)})},e}();e.ElementDescription=p,function(e){e[e.Efficient=0]="Efficient",e[e.Verbouse=1]="Verbouse",e[e.Fast=2]="Fast"}(e.U||(e.U={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low"}(e.AlgorithmSensitivity||(e.AlgorithmSensitivity={})),function(e){e[e.IGNORE_ALL=4294967295]="IGNORE_ALL",e[e.IGNORE_NOTHING=0]="IGNORE_NOTHING",e[e.IGNORE_ID=1]="IGNORE_ID",e[e.IGNORE_POSITION=2]="IGNORE_POSITION",e[e.IGNORE_NAME=4]="IGNORE_NAME",e[e.IGNORE_TEXT=8]="IGNORE_TEXT",e[e.IDENTIFY_TEXT=32]="IDENTIFY_TEXT",e[e.IDENTIFY_ID_AND_NAME=64]="IDENTIFY_ID_AND_NAME",e[e.IDENTIFY_WALKME_ID=128]="IDENTIFY_WALKME_ID"}(e.SearchOptions||(e.SearchOptions={}));var g=function(){function e(e){this.list=[],this.g=e}return e.prototype.ha=function(e){return this.list.push(e),this},e.prototype.d=function(e,t,n){var r=!1;return void 0!==n&&(r=0<(this.g&n)),r||this.list.push(new s.ea(e,t)),this},e.prototype.Da=function(){return this.list.sort(function(e,t){return t.weight-e.weight}),this.list},e}(),h=function(){function n(e){this.g=0,this.C=1,this.mode=e}return n.prototype.setSearchOptions=function(e){this.g=e},n.prototype.setAlgorithmSensitivity=function(e){this.C=e},n.prototype.K=function(e,t){return f.F(e,t,f.j)},n.prototype.recognize=function(e){this.b=e,e=t.getContext(this.b.xpathArrayOriginal);var n=this.ua(l.s(e)),n=this.Wa(n),n=this.Sa(n),r=this.ta(n),i=new c;return i.elements=r,i.losers=this.ra(i,n),i.context=e,i},n.prototype.ua=function(t){var n=this.b.customSelector||this.b.elementType.replace(":","\\:");this.b.visibilityFilter&&(n+=this.b.visibilityFilter);var r=null;return r=t?e.$(n,t):e.$(n)},n.prototype.na=function(t){for(var n=new o(t.length),i=0;i<t.length;i++){var a=new r(e.$(t[i]));n.push(a)}return n},n.prototype.Wa=function(e){var t=this.na(e),n=this.Ca(e.length);e=new o(e.length);for(var r=0;r<t.count;r++){var i=t.getItem(r),a=this.Va(i,n),s=1&a;2&a||!s||e.push(i)}return e;

},n.prototype.Ea=function(){var e,t={32:function(){return[new u.w(1,2)]},64:function(){return[new u.i("id",1,0),new u.i("name",1,0)]},128:function(){return[new u.i("data-walkmeid",1,0)]}};for(e in t)if(this.k(e))return t[e]();return null},n.prototype.xa=function(e){var t=[],n=new u.i("src",1,0);return t.push(n),n=new u.w(1,0),!this.k(8)&&t.push(n),void 0!=this.b.attributes.id&&(n=new u.X(!this.k(1)&&0<this.b.attributes.id.length,!this.k(161)),t.push(n)),n=new u.i("name",1,0),!this.k(4)&&t.push(n),n=new u.ga(1,0,this),2e3>e&&t.push(n),n=new u.W(this.b.xpathArrayOriginal,1,0),e>=2e3&&t.push(n),t},n.prototype.Ca=function(e){var t=this.Ea();return t||(t=this.xa(e)),t},n.prototype.Va=function(e,t){for(var n=0,r=0;r<t.length;r++){var i=t[r].screen(e,this.b),n=n|i;if(2==i)break}return n},n.prototype.Sa=function(e){var t=this.Ba(),n=l.reduce(t,function(e,t){return e+t.weight},0),r=e,i=new o(e.count);e=new o(e.count);for(var a=0,s=this.I(),u=0;u<t.length&&!(2==this.mode&&1==r.count&&a>s);u++){for(var c=t[u],d=0;d<r.count;d++){var f=r.getItem(d);if(n+f.totalScore<a&&0==this.mode?(f.oa=!0,i.push(f)):e.push(f),!f.oa||0!=this.mode){var p=l.bb(),g=c.c(f,this.b),p=p.cb();f.totalScore+=g,f.details.push({scorerName:c.name,scorerWeight:c.weight,relativeScore:g/c.weight,absoluteScore:g,timeTaken:p}),f.totalScore>a&&(a=f.totalScore)}}n-=c.weight,n=Math.max(n,0),c=r,r=e,e=c,e.clear()}return r.za()},n.prototype.k=function(e){return!!(this.g&e)},n.prototype.Ba=function(){var e=new g(this.g);return e.ha(new i.aa(this.b,this.g)).d(new s.da,3,8).d(new a.Z,1,2).d(new s.fa(this),1).d(new s.ca,.7).d(new s.v("class"," ",null),.7).d(new s.v("style",";",":"),.5).d(new s.V("href","#"),3),e.Da()},n.prototype.ta=function(e){for(var t=0,n=0;n<e.length;n++)var r=e[n].totalScore,t=t>=r?t:r;if(r=[],t>this.I())for(n=0;n<e.length;n++)e[n].totalScore==t&&r.push(e[n]);return r},n.prototype.ra=function(e,t){if(1==this.mode){var n=[];if(0<e.elements.length)for(var r=e.elements[0].totalScore,i=0;i<t.length;i++)t[i].totalScore<r&&n.push(t[i]);else n=t;return n}},n.prototype.I=function(){var e={2:0,1:1.45,0:3},t=e[this.C];return void 0==t&&(t=e[1]),t},n}();e.ElementRecognizerSession=h}(r||(r={}));var i,o=function(){function e(e){this.data=Array(e),this.size=e,this.count=0}return e.prototype.getItem=function(e){if(0>e||e>=this.count)throw"Out of range exception";return this.data[e]},e.prototype.clear=function(){this.count=0},e.prototype.push=function(e){if(this.count==this.size)throw"FastArray exceeded it's limits";this.data[this.count]=e,this.count++},e.prototype.za=function(){return this.data.splice(0,this.count)},e}();!function(e){var t={value:10,src:3,title:3,colspan:.3,cellpadding:.3,cellspacing:.3,border:.3,dir:.3,width:.3,placeholder:3,"data-walkmeid":1e3,id:10,name:8,alt:1},n={id:1,name:4,title:8},r=function(){function e(e,t){this.u=[],this.name="Multiple attributes",this.options=t,this.description=e,this.weight=this.ja()}return e.prototype.ja=function(){var e,t=0;for(e in this.description.attributes)this.description.attributes.hasOwnProperty(e)&&this.Ya(e)&&this.t(this.description.attributes[e])&&(t+=this.r(e),this.u.push(e));return t},e.prototype.Ya=function(e){var t=0!==this.r(e);return!(n.hasOwnProperty(e)&&n[e]&this.options)&&t},e.prototype.c=function(e,t){for(var n=0,r=0;r<this.u.length;r++){var i=this.u[r],o=t.attributes[i],a=e.n(i);this.t(a)&&this.t(o)&&a==o&&(n+=this.r(i))}return n},e.prototype.t=function(e){return void 0!=e&&null!=e&&""!=e},e.prototype.r=function(e){return t.hasOwnProperty(e)?t[e]:0},e}();e.aa=r}(i||(i={}));var a;!function(e){e.$,e.h,e.setJQuery=function(t){e.$=t,e.h=t};var t=function(){function t(){this.name="PositionScorer"}return t.prototype.c=function(e,t){return this.Ta(e,t)},t.prototype.Ta=function(e,t){var n=t.centeredElementWidth,r=0;if(n){var r=t.relativeLeft,i=this.Aa(e),r=Math.abs(r-i),n=n/5;if(r>(30>n?30:n))return 0;n=1-r/20,r=t.absY,i=e.element.offset().top,r=1-Math.abs(r-i)/20,i=.3,n>.9&&(i=.9),r=n*(1-i)+r*i,r=0>r?0:r}return r},t.prototype.Aa=function(e){var t=this.va(e),t=t?t.offset().left:0;return e.element.offset().left-t},t.prototype.va=function(t){t=t.parents.get();for(var n=null,r=t.length-1;r>=0;r--)try{if(this.Ia(t[r])){var i=e.$(t[r]),o=e.$(window).width(),a=i.width(),s=i.offset().left,u=o-a;if(u>0&&u/2==s){n=i;break}if(0>u&&u==s){n=i;break}if(this.Ka(i)){n=e.$(i);break}}}catch(l){}return n},t.prototype.Ia=function(t){var n=e.$(t),r=n.data("mt_isElementFixedWidth");return 1==r?!0:0==r?!1:(t=this.Ha(t),n.data("mt_isElementFixedWidth",t),t)},t.prototype.Ka=function(t){var n=e.$(t),r=n.data("mt_isElementMarginAuto");return 1==r?!0:0==r?!1:(t=this.Ja(t),n.data("mt_isElementMarginAuto",t),t)},t.prototype.L=function(t,n){for(var r=!1,i=0;i<n.length&&(r=n[i],!(r=e.$(t).is(e.$(r))));i++);return r},t.prototype.Ha=function(e){return this.M(e.style)?!0:this.L(e,this.wa())},t.prototype.$a=function(e){return 0==e.indexOf("0")},t.prototype.pa=function(e){return 4<=e.length&&e.lastIndexOf("auto")+4==e.length},t.prototype.N=function(t){if(t){var n=e.$.trim(t.margin),r=e.$.trim(t.marginLeft);if(t=e.$.trim(t.marginRight),(n=this.$a(n)&&this.pa(n))||"auto"==r&&"auto"==t)return!0}return!1},t.prototype.Ja=function(e){return this.N(e.style)?!0:this.L(e,this.ya())},t.prototype.ya=function(){return void 0==this.p&&(this.p=[],this.H(this.R)),this.p},t.prototype.R=function(e){try{var t=e.cssRules||e.rules;for(e=0;e<t.length;e++){var n=t[e];n.type&&n.type==window.CSSRule.IMPORT_RULE?this.R(n.styleSheet):this.N(n.style)&&this.p.push(n.selectorText)}}catch(r){}},t.prototype.H=function(e){for(var t=document.styleSheets,n=0;n<t.length;n++)e.call(this,t[n])},t.prototype.Q=function(e){try{var t=e.cssRules||e.rules;for(e=0;e<t.length;e++){var n=t[e];n.type&&n.type==window.CSSRule.IMPORT_RULE?this.Q(n.styleSheet):this.M(n.style)&&this.q.push(n.selectorText)}}catch(r){}},t.prototype.wa=function(){return void 0==this.q&&(this.q=[],this.H(this.Q)),this.q},t.prototype.M=function(e){if(e=e.width){for(var t="",n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n]);if(t&&700<parseInt(t)&&(-1!=e.indexOf("p")||-1!=e.indexOf("e")||-1!=e.indexOf("m")||-1!=e.indexOf("i")))return!0}},t}();e.Z=t}(a||(a={}));var s;!function(t){var n=function(){function e(e,t){this.Ua=e,this.weight=t,this.name=e.name}return e.prototype.c=function(e,t){var n=this.Ua.c(e,t);return this.weight*n},e}();t.ea=n,n=function(){function e(e){this.attributeName=e,this.name="Attribute Scorer : "+e}return e.prototype.c=function(e,t){var n=e.element.attr(this.attributeName),r=t.attributes[this.attributeName];return n&&r&&n.toLowerCase()===r.toLowerCase()?1:0},e}(),t.fb=n,n=function(t){function n(e,n){t.call(this,e),this.eb=n}return e(n,t),n.prototype.c=function(e,n){return n.attributes[this.attributeName]==this.eb?0:t.prototype.c.call(this,e,n)},n}(n),t.V=n,n=function(){function e(e){this.name="XpathScorer",this.Xa=e}return e.prototype.c=function(e,t){var n=e.T.get(),n=this.Xa.K(n,t.xpathArrayToIframe);return n.a>f.j?0:(n=1-.1*(n.a+n.f/10),0>n?0:n)},e}(),t.fa=n,n=function(){function e(){this.name="ShapeProportionScorer"}return e.prototype.c=function(e,t){if(!this.La(e.element))return 0;var n=e.width.get(),r=e.height.get();return 0!=n*r?(n=this.J(n,t.width)/2+this.J(r,t.height)/2,n>=.6?n:0):0},e.prototype.J=function(e,t){var n=e/t;return n>1&&(n=1/n),Math.pow(n,4)},e.prototype.La=function(t){return t=t.prop("tagName"),-1!==l.indexOf(e.ab,t)},e.ab="DIV TABLE TR TD TBODY TH".split(" "),e}(),t.ca=n,n=function(){function e(e,t,n){this.name="ComplexAttributeScorer",this.name=this.name+" : "+e,this.attributeName=e,this.Qa=t,this.Fa=n}return e.prototype.c=function(e,t){if(!t.attributes[this.attributeName]||!e.element.attr(this.attributeName))return 0;var n=t.complexAttributes[this.attributeName].get(),r=l.S(e.element.attr(this.attributeName),this.Qa,this.Fa);return 1==this.ma(n,r)?1:0},e.prototype.ma=function(e,t){var n,r=0,i=0;for(n in e)e.hasOwnProperty(n)&&(i++,e[n]==t[n]&&r++);return n=0,i>0&&(n=r/i),n},e}(),t.v=n,n=function(){function e(){this.name="TextScorer"}return e.prototype.c=function(e,t){return t.text&&e.text.get()==t.text?1:0},e}(),t.da=n}(s||(s={}));var u;!function(t){!function(e){e[e.Indifferent=0]="Indifferent",e[e.Accepted=1]="Accepted",e[e.Rejected=2]="Rejected"}(t.ba||(t.ba={}));var r=function(){function e(e,t){this.O=e,this.Pa=t,this.isEqual=e===t}return e.prototype.e=function(){throw"childScreen must be overriden by subclass"},e.prototype.screen=function(e,t){return this.isEqual?this.O:this.e(e,t)?this.O:this.Pa},e}();t.hb=r;var i=function(){function e(){}return e.prototype.P=function(){throw"rejectFn must be overriden by subclass"},e.prototype.A=function(){throw"acceptFn must be overriden by subclass"},e.prototype.screen=function(e,t){return this.P(e,t)?2:this.A(e,t)?1:0},e}();t.gb=i,i=function(t){function n(e,n){t.call(this),this.Ga=e,this.Ma=n,this.D=new o("id",0,0)}return e(n,t),n.prototype.P=function(e,t){if(this.Ma){var n=e.n("id");return!n||30<=n.length?!1:!this.D.e(e,t)}},n.prototype.A=function(e,t){return this.Ga?this.D.e(e,t):void 0},n}(i),t.X=i;var o=function(t){function n(e,n,r){t.call(this,n,r),this.attrName=e}return e(n,t),n.prototype.e=function(e,t){var n=e.n(this.attrName),r=t.attributes[this.attrName];return!(!r||!n)&&n===r},n}(r);t.i=o,i=function(t){function n(e,n,r){t.call(this,e,n),this.ia=r}return e(n,t),n.prototype.e=function(e,t){var n=e.T.get(),r=f.j;return this.ia.K(n,t.xpathArrayToIframe).a<=r},n}(r),t.ga=i,i=function(t){function r(e,r,i){var o=this;t.call(this,r,i),this.Za=e,this.Na=new n(this,function(){return f.G(o.Za)})}return e(r,t),r.prototype.e=function(e){var t=this.Na.get();return t&&t[0]==e.element[0]},r}(r),t.W=i,r=function(t){function n(e,n){t.call(this,e,n)}return e(n,t),n.prototype.e=function(e,t){return t.text&&0!==t.text.length?e.text.get()===t.text:!1},n}(r),t.w=r}(u||(u={}));var l,c=function(){function e(){this.buffer=[]}return e.prototype.append=function(e){this.buffer.push(e)},e.prototype.toString=function(){return this.buffer.join("")},e}();!function(e){function t(e){return e=e.tagName,e.toUpperCase&&(e=e.toUpperCase()),e}function n(e,n){for(var r,i=[],o=0,a=0;a<n.length;a++){r=n[a];var s=1;if("HTML"!=t(e))for(var u=r.childNodes,l=0;l<u.length&&u[l]!=e;l++)u[l].tagName==e.tagName&&s++;i[o]={tag:e.tagName.toUpperCase(),index:s},o++,e=r}return i=i.reverse()}function r(e){for(var t=["HTML","BODY"],n=0;n<e.length&&-1<i(e[n].tag,t);n++);return e.slice(n)}function i(e,t,n){var r;if(t)for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1}e.$,e.h,e.setJQuery=function(t){e.$=t,e.h=t},e.sa=function(e){e=e[0].parentNode;for(var t=[];e&&1==e.nodeType;e=e.parentNode)t.push(e);return t},e.kb=n,e.ka=function(e){e=e[0];for(var n=[],r=0;e&&1==e.nodeType;e=e.parentNode){var i=1;if("HTML"!=t(e))for(var o=e.parentNode.childNodes,a=0;a<o.length&&o[a]!=e;a++)o[a].tagName==e.tagName&&i++;n[r]={tag:e.tagName,index:i},r++}return n=n.reverse()},e.la=function(e,t){var i=n(e[0],t);return i=r(i)},e.removeHtmlAndBodyFromXpathArray=r,e.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},e.reduce=function(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r]);return n},e.xpathStringToArray=function(t){var n=[];return e.$.each(t.split("/"),function(e,t){if(0!=e){var r=t.indexOf("[");n[e-1]={tag:t.substring(0,r),index:parseInt(t.substring(r+1,t.length-1))}}}),n},e.mb=function(e){var t={};e=e.prop("attributes");for(var n=0;n<e.length;n++){var r=e[n];t[r.name]=r.value}return t},e.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n},e.filter=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},e.S=function(t,n,r){t=e.filter(t.split(n),function(t){return e.$.trim(t)}),t=e.map(t,function(e){return e.split(r)}),n={};for(var i=0;i<t.length;i++){var o=t[i],a=e.$.trim(o[0]),s="";o[1]&&(s=e.$.trim(o[1])),n[a]=s}return n};var o=function(){function e(){this.start=this.now()}return e.prototype.now=function(){return(new Date).getTime()},e.prototype.cb=function(){return this.now()-this.start},e}();e.ib=o,e.bb=function(){return new o},e.nb=function(){for(var e=0;e<arguments.length;e++);for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(new RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.ob=function(e){return void 0!=e&&0<e.length},e.s=function(t){if(void 0!=t){if(t=t[0],void 0==t)return e.$();var n;try{n=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[],n=e.$(n)}catch(r){return H.handleCrossDomainError(r),e.$()}return n}},e.inArray=i,e.min=function(e,t){var n=null;if(0<e.length)for(var r=t(e[0]),n=e[0],i=1;i<e.length;i++){var o=t(e[i]);r>o&&(r=o,n=e[i])}return n}}(l||(l={}));var d;!function(e){function t(i){var o="";if(3===i.nodeType||4===i.nodeType){o=i.nodeValue,i=[160,10,13,9];for(var a=new c,s=0;s<o.length;s++)0>l.indexOf(i,o.charCodeAt(s))&&a.append(o.charAt(s).toLowerCase());if(o=a.toString().replace(/ /g,""),o=r.$.trim(o),o=o.substring(0,e.Oa),null!=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.exec(o)){for(i=-1,a=o.length,s=new c;++i<a;){var u=o.charAt(i);s.append(/[\uD800-\uDBFF]/.test(u)||/[\uDC00-\uDFFF]/.test(u)?n(u):u)}o=s}}else if(1===i.nodeType&&!i.tagName.match(/^(script|style)$/i))for(i=i.childNodes,a=0,s=i.length;s>a&&!(o=t(i[a]));a++);return o}function n(e){e=e.charCodeAt(0).toString(16).toUpperCase();var t=2<e.length;return"\\"+(t?"u":"x")+("0000"+e).slice(t?-4:-2)}e.Oa=70;var i;!function(e){e[e.ElementNode=1]="ElementNode",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection"}(i||(i={})),e.qa=function(e){return t(e[0])},e.lb=t}(d||(d={}));var f;return function(e){e.j=1,e.Y=1;var t=function(){function e(e,t,n){this.f=this.l=this.a=0,this.a=e,this.l=t,this.f=n}return e.prototype.clone=function(){return new e(this.a,this.l,this.f)},e.prototype.m=function(){return this.a+this.l/4+this.f/10},e.max=function(){return new e(1e4,0,0)},e.m=function(e){return e.m()},e}();e.jb=t,e.F=function(n,r,i){function o(n,r,a,s,u){if(Math.abs(r-s)>i||u.a>i)return t.max();if(0==r||0==s)return u=u.clone(),u.a+=Math.max(r,s,0),u.a>i?t.max():u;var c,d=n[r-1],f=a[s-1],p=0;if(d.tag!==f.tag)p=e.j,c=t.max();else{if(d.index===f.index)return o(n,r-1,a,s-1,u);p=e.Y}var g=u.clone();g.a+=p;var p=o(n,r-1,a,s,g),h=o(n,r,a,s-1,g);return c||(d=Math.abs(d.index-f.index),g=u.clone(),d>0&&(g.l++,g.f+=d),c=o(n,r-1,a,s-1,g)),l.min([p,h,c],t.m)}return o(n,n.length,r,r.length,new t(0,0,0))},e.G=function(e){if(0>=e.length)return null;for(var t,n=r.$(document),i=0;i<e.length;i++){var o=e[i],n=n.children(o.tag).eq(o.index-1);if(-1!=l.inArray(o.tag,["IFRAME","FRAME"])&&e.length>i+1&&(0<n.length&&(t&&n.data("iframe",t),t=n),n=l.s(n)),!n||0==n.length||!n.get(0)){n=null;break}}return n&&0<n.length&&t&&n.data("iframe",t),n}}(f||(f={})),{ElementRecognition:r,TempUtils:l,ContextUtils:t,TextUtils:d}}();ua.register("ElementFinder").asCtor(Oe).dependencies("JQueryElementFinder, StepUtils, PositionHelper, DecodeHtmlFunction"),ua.register("ElementTextExtractor").asCtor(Ge),ua.register("ElementLastKeeper").asCtor(Ue).asSingleton().dependencies("TimerManager"),ua.register("AnalyticsManager").asCtor(Fe).dependencies("StorageManager,GenerateGuidFunc,Logger,WmAjax"),ua.register("ClickAuditManager").asCtor(Be).dependencies("Lib,ServerDataSenderManager,AbPermutationManager,Logger, HostData,GenerateGuidFunc,DeployableTypes"),ua.register("DebuggerAuditManager").asCtor(We).dependencies("Lib,ServerDataSenderManager,HostData,AbPermutationManager"),ua.register("JQueryElementFinder").asCtor(Qe).dependencies("CommonUtils, PositionHelper"),ua.register("WmAjax").asCtor(Ve).dependencies("CommonEvents"),ua.register("AbTasksValidator").asCtor(He).dependencies("Lib, HostData"),ua.register("ResourceManager").asCtor($e).dependencies("Logger, CommonUtils, HostData"),ua.register("UIChangeTracker").asCtor(ze).injectToReady().dependencies("Lib,SiteConfigManager,HashChangeNotifier,HistoryChangeNotifier,IFrameLoadChangeNotifier,ClickChangeNotifier,AjaxCallsChangeNotifier,UserInputChangeNotifier,ElementsRedrawer,ElementsRedrawerLegacy,CommonUtils,Logger"),ua.register("HashChangeNotifier").asCtor(qe).injectToReady().dependencies("UIChangeTracker"),ua.register("HistoryChangeNotifier").asCtor(Ke).injectToReady().dependencies("UIChangeTracker"),ua.register("IFrameLoadChangeNotifier").asCtor(Xe).injectToReady().dependencies("UIChangeTracker"),ua.register("ClickChangeNotifier").asCtor(Ye).injectToReady().dependencies("UIChangeTracker"),ua.register("UserInputChangeNotifier").asCtor(Je).injectToReady().dependencies("UIChangeTracker"),ua.register("AjaxCallsChangeNotifier").asCtor(Ze).injectToReady().dependencies("UIChangeTracker"),ua.register("ElementsRedrawer").asCtor(et).injectToReady().dependencies("Lib,TimerManager,UIChangeTracker, CommonUtils, Logger"),ua.register("ElementsRedrawerLegacy").asCtor(tt).injectToReady().dependencies("Lib,TimerManager,UIChangeTracker"),ua.register("AutoStartHelper").asCtor(nt).dependencies("DeployableTypes"),ua.register("AutoStartManager").asCtor(rt).dependencies("StorageManager, Logger, AutoStartHelper, DeployablesManagerFactory, DeployableTypes, TimerManager"),ua.register("PermalinkManager").asCtor(it).dependencies("CrossDomainManager, DeployablesManagerFactory, Lib, DeployableTypes, CommonUtils");var as=function(){var e=function(t,n,r,i,o,a,s,u){function l(t){B=s,t=t||{},A=t.evaluationPollingIntervalMs||-1,N=t.elementPollingIntervalMs||-1,R=t.jqueryPollingIntervalMs||2e3,a.isFeatureEnabled("stickySonar")||t.stickySonar||(R=-1),P=void 0!==t.stopPollingAfterEvaluateTrue?t.stopPollingAfterEvaluateTrue:!0,D=t.featureName,E=t.elementName,G=t.bypassUIChange,W=o.wrapCustomerLog(D+"Measurer"),o=o.wrapCustomerLog("ConditionChecker"),e.registerInstance(Q)}function c(){C&&C.cleanResources(),_&&_.clear()}function d(){A=-1,P=-1,N=-1,R=-1}function f(e,t){L&&(t=void 0===t?!1:t,o(E+" - ConditionChecker calls onValueChanged",4,D),L(e,t))}function p(e,t){j&&(t=void 0===t?!1:t,o(E+" - ConditionChecker calls onPreEvaluation",5,D),j(e,t))}function g(e,t){M&&(t=void 0===t?!1:t,o(E+" - ConditionChecker calls onEvaluated",5,D),M(e,t))}function h(){O&&(o(E+" - ConditionChecker calls onResourcesClean",4,D),O())}function m(e){v(e),y(e)}function v(e){o(E+" - ConditionChecker evaluates async tree",5,D),p(void 0,!0),C=k(e),C.onGotValue(function(e){p(e,!0),P&&e&&Q.cleanResources(),e!==x&&(f(e,!0),x=e),g(e,!0)}),F=!I(e),f(Q.getValue(),!0),g(Q.getCachedValue(),!0),x=Q.getCachedValue()}function y(){Q.isPollingEvaluation()&&(F?_=t.libSetTimeout(function(){w()},A):o(E+" will not be polled, since its' conditions are only asynchrnous ",3,D))}function w(e){var n=b(e),r=S(n);T(n,e),!Q.isPollingEvaluation()||r||e?r&&Q.cleanResources():_=t.libSetTimeout(function(){w()},A)}function b(e){p(void 0,e),o(E+" - ConditionChecker reevaluating tree conditions",5,D);var t=Q.getValue();return t}function S(e){return e&&(o(E+" - ConditionChecker reevaluating tree conditions",5,D),P)?!0:!1}function T(e,t){x!==e&&(f(e,t),x=e),g(e,t)}function k(e){function t(e){function i(){return o.apply(this,a)}if("Func"==e.nodeType){var o=r.getFunctionsByLibNameType(e.funcName),a=[];a.push(e.funcArgs),a.push(N),a.push(R);var s=null;return s=r.isFuncAsync(e.funcName)?i():new rs.noMemory(i),n(s,e),s}if("And"==e.nodeType){var u=t(e.leftSon,N,R),l=t(e.rightSon,N,R),s=new rs.complex(u,l,function(e,t){return e()&&t()});return n(s,e),s}if("Or"==e.nodeType){var u=t(e.leftSon,N,R),l=t(e.rightSon,N,R),s=new rs.complex(u,l,function(e,t){return e()||t()});return n(s,e),s}return!1}function n(e,t){var n=e.hasValue;e.hasValue=function(){return t.result=n(),t.result};var r=e.getValue;e.getValue=function(e){return t.result=r(e),t.result}}var i;return i=null==e?rs.fixed(!0):t(e,N,R)}function I(e){return"Func"==e.nodeType?r.isFuncAsync(e.funcName):"And"==e.nodeType||"Or"==e.nodeType?I(e.leftSon)&&I(e.rightSon):!1}this.LocalSVNRevision="$Rev: 5215 $";var C,x,_,D,E,A,P,N,R,j,M,L,O,G,U,F,B,W,Q=this;Q.getValue=function(e){function t(e){W(e,5)}if(e)return C.getValue(!0);var n=B.getTimer(t),r=C.getValue();return n("Finished evaluation of condition related to "+D+", subject is "+E),r},Q.getCachedValue=function(){return Q.getValue(!0)},Q.isPollingElement=function(){return N>=0},Q.isPollingJquery=function(){return R>=0},Q.isPollingEvaluation=function(){return A>=0},Q.isPollingEvaluationNeeded=function(){return F},Q.getElementPollingInterval=function(){return N},Q.getJqueryPollingInterval=function(){return R},Q.getEvaluationPollingInterval=function(){return A},Q.getStopPollingAfterEvaluateTrue=function(){return P},Q.cleanResources=function(){o(E+" - ConditionChecker cleans resources",5,D),c(),d(),i.unbind(U),h(),e.unregisterInstance(Q)},Q.onValueChanged=function(e){L=e},Q.onPreEvaluation=function(e){j=e},Q.onEvaluated=function(e){M=e},Q.onResourcesClean=function(e){O=e},this.evaluateAsync=function(e){U=function(){"ElementsRedrawerLegacy"==i.getElementRedrawerType()?(c(),m(e)):(C.refresh(),w(!0))},"ElementsRedrawerLegacy"!=i.getElementRedrawerType()&&G||i.bindToTracker(U),m(e)},l.apply(null,[u])};return e.instances={},e.sequence=0,e.registerInstance=function(t){t._id=e.sequence,++e.sequence,e.instances[t._id]=t},e.unregisterInstance=function(t){delete e.instances[t._id]},e.cleanResources=function(){for(var t in e.instances)e.instances.hasOwnProperty(t)&&e.instances[t].cleanResources();instances={}},e}();ua.register("ConditionChecker").asCtor(as).asProto().dependencies("TimerManager,DebuggerManager,ConditionFunctions,UIChangeTracker,Logger,FeaturesManager, CommonUtils"),ua.register("SiteConfigManager").asCtor(ot).args([[]]),ua.register("RecorderServerManager").asCtor(ot).args([""]),ua.register("AuditSourceManager").asCtor(ot).args(ua.get("Consts").SOURCES.production),ua.register("LanguageManager").asCtor(at).dependencies("win, Lib, StorageManager"),ua.register("OverlayManager").asCtor(st).asSingleton().dependencies(),ua.register("ServerStorageAjaxCaller").asCtor(ut).dependencies("Lib, AuditSourceManager, RecorderServerManager, Logger, WmAjax"),ua.register("ServerStorageManager").asCtor(lt).dependencies("Consts, Lib,EndUserStorageDataSender, ClientStorageManager, AuditSourceManager, ServerStorageAjaxCaller, CommonUtils, SettingsFile"),ua.register("EndUserStorageDataSender").asCtor(ct).dependencies("Lib, CommonUtils, AuditSourceManager, ServerDataSenderManager, Logger"),ua.register("SettingsCacheManager").asCtor(dt).asSingleton().dependencies("Lib,SettingsFile,Logger,CommonUtils,WmAjax"),ua.register("EndUserDataConverter").asCtor(ft).dependencies("Lib, ServerStorageManager, DeployablesManagerFactory, CommonUtils, StepUtils"),ua.register("WalkmeConfigManager").asCtor(pt).dependencies("WmAjax, SettingsFile"),ua.register("ActionsFactory").asCtor(gt).dependencies("Lib, StorageManager,Consts, ClientStorageManager"),ua.register("SalesForceManager").asCtor(ht).dependencies("SalesForceVarsExtractor,SalesForceSearcher"),ua.register("SalesForceConnectionUtils").asCtor(mt),ua.register("SalesForceVarsExtractor").asCtor(vt).dependencies("Lib,ClientStorageManager,SiteConfigManager,SalesForceConnectionUtils"),ua.register("SalesForceSearcher").asCtor(yt).dependencies("Lib,SiteConfigManager,SalesForceConnectionUtils");var ss={Visible:"visible",Invisible:"invisible",Completed:"completed",Uncompleted:"uncompleted",StrikedOut:"strike-out",Active:"active",Inactive:"inactive",ProgressBar:"progress-bar",Default:"default",Search:"search",SearchProviders:"search-providers",Video:"video",Article:"article",Accessible:"accessible"},bt=new bt(ia);ua.register("UiDataProvider").asCtor(Pt).dependencies("Lib");var Pt;ua.register("ShoutOutsManager").asCtor(Bt).asProto().dependencies("Lib, UIComponentsFactory, WalkMeGoalsManager, ClickAuditManager, StorageManager"),ua.register("BBCodeParser").asCtor(Wt).dependencies("CommonUtils,SiteConfigManager,RecorderServerManager"),ua.register("Positions").asInstance({Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8}),ua.register("FontsData").asFunction(function(){var e=new Qt;return e.concat({"walkme-opensans":{id:"opensans",name:"opensans",url:"/player/resources/fonts/opensans"}}),e}),ua.register("UIVariationsAdapter").asCtor(Ht).dependencies("ResourceManager"),ua.register("UITemplatesAdapter").asCtor($t).dependencies("ResourceManager"),ua.register("UITemplates").asCtor(Qt).dependencies("UITemplatesAdapter"),ua.register("UIVariations").asCtor(Qt).dependencies("UIVariationsAdapter"),ua.register("UIDisplayers").asFunction(function(){var e=new Qt;return e.concat({1:"PopupDisplayer",2:"BarDisplayer"}),e}).asSingleton(),ua.register("UIComponents").asFunction(function(){var e=new Qt;return e.concat({1:"ShoutOut"}),e}).asSingleton();var us=function(){function e(){this.LocalSVNRevision="$Rev: 5083 $",this.eventBase=wmjQuery({})}return e.prototype.once=function(e,t){this.eventBase.one(e,t)},e.prototype.bind=function(e,t){this.eventBase.bind(e,t)},e.prototype.unbind=function(e,t){this.eventBase.unbind(e,t)},e.prototype.trigger=function(e,t){this.eventBase.trigger(e,t)},e}(),$a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},ls=function(e){function t(t){e.call(this),this.LocalSVNRevision="$Rev: 4206 $",this._uiComponent=t,this._variations=this.createVariations(),this.createUi()}return $a(t,e),t.prototype.getComponent=function(){return this._uiComponent},t.prototype.createUi=function(){this._displayer=ua.get("DisplayersFactory").get(this._uiComponent.DisplayerId,[this._uiComponent.Settings]);var e=this._displayer.getContainer();this._ui=ua.get("TemplatesFactory").get(this._uiComponent.UITemplateId,this._uiComponent.UITemplateVersion,this._variations,this.createConfig(),e?e[0].document:document),this._displayer.setUiObject(this._ui)},t.prototype.createVariations=function(){for(var e=ua.get("UIVariations"),t=[],n=this._uiComponent.UiVariationsIds||[],r=0;r<n.length;r++)t.push(e.get(n[r]));return t},t.prototype.createConfig=function(){return{}},t.prototype.append=function(){var e=this;this.trigger("append-begin"),ua.get("TemplatesFactory").addResources(this._uiComponent.UITemplateId,this._uiComponent.UITemplateVersion,this._variations,wmjQuery.proxy(function(){e._displayer.append(wmjQuery.proxy(function(){return e.trigger("append-end")},e))},this))},t.prototype.destroy=function(){var e=this;this._isDead||(this.trigger("destroy-begin"),this._displayer.remove(wmjQuery.proxy(function(){e._isDead=!0,e.trigger("destroy-end")},this)))},t.prototype.show=function(){this.trigger("show-begin"),this._displayer.show(wmjQuery.proxy(function(){this.trigger("show-end")},this))},t.prototype.hide=function(){this.trigger("hide-begin"),this._displayer.hide(wmjQuery.proxy(function(){this.trigger("hide-end")},this))},t.prototype.toggle=function(){this._displayer.isVisible()?this.hide():this.show()},t}(us),$a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},cs=function(e){function t(t,n,r,i){this.CLASS_X_BUTTON="walkme-x-button",this.CLASS_ACTION_PREFIX="walkme-action-",this._actionsFactory=t,this._commonUtils=n,this._bbCodeParser=r,this._settings=i.Settings||{},this._actions=this.getActions(i),e.call(this,i)}return $a(t,e),t.prototype.getActions=function(e){var t=[];if(e.Actions){for(var n=0,r=e.Actions.length;r>n;n++){var i=e.Actions[n];i.IsActive&&(i[i.Type]=!0,i.CssClass=this.generateActionClass(t.length,e.Actions[n]),t.push(e.Actions[n]))}return t}},t.prototype.createUi=function(){e.prototype.createUi.call(this),this.registerXButton(),this.registerActions()},t.prototype.registerXButton=function(){this._ui.find("."+this.CLASS_X_BUTTON).click(wmjQuery.proxy(function(){this.trigger("x-clicked"),this.destroy()},this))},t.prototype.registerActions=function(){for(var e=0,t=this._actions.length;t>e;e++)this._ui.find("."+this.generateActionClass(e,this._actions[e])).click(wmjQuery.proxy(function(e){this.trigger("action-start",e.Type),e.Args=e.Args||{},e.Args.uiComponent=this,this._actionsFactory.get(e.Type,e.Args,bs.SHOUTOUT,this._uiComponent).doAction(),this.destroy()},this,this._actions[e]))},t.prototype.generateActionClass=function(e,t){return this.CLASS_ACTION_PREFIX+t.Type+"-"+e},t.prototype.createConfig=function(){return{Id:this._uiComponent.Id,Name:this._uiComponent.Name,Title:this.handleText(this._uiComponent.Title),Description:this.handleText(this._uiComponent.Description),XButtonClass:this.CLASS_X_BUTTON,Actions:this._actions}},t.prototype.handleText=function(e){return this._bbCodeParser.parse(this._commonUtils.nl2br(e))},t.prototype.createVariations=function(){var t=e.prototype.createVariations.call(this);return this._settings.variation&&t.push(this._settings.variation),t},t}(ls);ua.register("ShoutOut").asCtor(cs).asProto().dependencies("ActionsFactory,CommonUtils,BBCodeParser");var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},ds=function(e){function t(t){e.call(this),this._isVisible=!1;var n=ua.get("Lib"),r=n.shouldHandlePageAsFramesets()?n.getBiggestFrame().contentWindow:window;this._lib=n,this._topWindow=wmjQuery(r),this._topContainer=wmjQuery(r.document.body),this._settings=t}return $a(t,e),t.prototype.setUiObject=function(e){this._uiObject=e},t.prototype.getContainer=function(){return this._topWindow},t.prototype.append=function(e){try{this._topContainer.append(this._uiObject)}catch(t){alert(t.message)}e&&e()},t.prototype.remove=function(e){this._uiObject.remove(),this._isVisible=!1,e&&e()},t.prototype.show=function(e){this._uiObject.show(),this._isVisible=!0,e&&e()},t.prototype.hide=function(e){this._uiObject.hide(),this._isVisible=!1,e&&e()},t.prototype.isVisible=function(){return this._isVisible},t}(us),$a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},fs=function(e){function t(t,n){e.call(this,t,n),this.DEFAULT_Z_INDEX=2147483631,this._overlayManager=ua.get("OverlayManager"),this._positions=ua.get("Positions"),this._canDisplayOverlay=$.canDisplayOverlay()}return $a(t,e),t.prototype.show=function(e){if(this._isVisible)return void(e&&e());this.unbindEvents();var t,n=parseInt(this._settings.position,10),r=n==this._positions.Center;this._settings["z-index"]?t=this._settings["z-index"]:(t=this.DEFAULT_Z_INDEX,this._canDisplayOverlay&&this._settings.overlay&&(t+=1)),this._uiObject.css("z-index",t);var i=wmjQuery.proxy(function(){this._isVisible=!0,e&&e()},this);r?this.popCenter(i):this.popCorner(n,i)},t.prototype.popCorner=function(e,t){this._uiObject.css({position:"fixed"}),this.handleOverlay();var n=(this._settings.marginV||0)+"px",r=(this._settings.marginH||0)+"px";switch(e){case this._positions.Top:this._uiObject.css({top:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginTop:n});break;case this._positions.Right:this._uiObject.css({right:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginRight:r});break;case this._positions.Bottom:this._uiObject.css({bottom:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginBottom:n});break;case this._positions.Left:this._uiObject.css({left:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginLeft:r});break;case this._positions.TopLeft:this._uiObject.css({left:0,top:0,marginTop:n,marginLeft:r});break;case this._positions.TopRight:this._uiObject.css({right:0,top:0,marginTop:n,marginRight:r});break;case this._positions.BottomRight:this._uiObject.css({right:0,bottom:0,marginBottom:n,marginRight:r});break;case this._positions.BottomLeft:this._uiObject.css({left:0,bottom:0,marginBottom:n,marginLeft:r})}this._uiObject.stop(!0,!1).css("opacity",1).hide().fadeIn(400,t)},t.prototype.handleOverlay=function(){if(this._canDisplayOverlay&&this._settings.overlay){var e=this._settings.overlay.opct,t=this._settings.overlay.color;this._overlay=this._overlay||this._overlayManager.create(this._uiObject,e,t),
this._overlay.show()}},t.prototype.popCenter=function(e){this._lib.centerElementInPage(this._uiObject,!1),this.handleOverlay(),this._uiObject.stop(!0,!1).css("opacity",1).hide().fadeIn(400,e),this._resizeHandler=wmjQuery.proxy(function(){this._uiObject.stop(!1,!0),this._lib.centerElementInPage(this._uiObject,!0)},this),this._topWindow.bind(t.MOVEMENT_EVENTS,this._resizeHandler)},t.prototype.hide=function(e){return this._isVisible?(this.unbindEvents(),this.removeOverlay(),void this._uiObject.stop(!0,!1).css("opacity",1).show().fadeOut(200,wmjQuery.proxy(function(){this._isVisible=!1,e&&e()},this))):void(e&&e())},t.prototype.remove=function(e){this.hide(wmjQuery.proxy(function(){this._uiObject.remove(),e&&e()},this))},t.prototype.unbindEvents=function(){this._resizeHandler&&this._topWindow.unbind(t.MOVEMENT_EVENTS,this._resizeHandler),this._resizeHandler=null},t.prototype.removeOverlay=function(){this._canDisplayOverlay&&this._overlay&&this._overlay.remove()},t.EVENT_SUFFIX="walkmeDisplayer",t.MOVEMENT_EVENTS="scroll."+t.EVENT_SUFFIX+", resize."+t.EVENT_SUFFIX,t}(ds);ua.register("PopupDisplayer").asCtor(fs).asProto();var $a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},ps=function(e){function t(t,n){e.call(this,t,n),this._element=this._settings.IdentifySettings?this._lib.findElement(this._settings.IdentifySettings):this._topContainer}return $a(t,e),t.prototype.show=function(t){this._contentPusher.show(),e.prototype.show.call(this,t)},t.prototype.hide=function(t){this._contentPusher.hide(),e.prototype.hide.call(this,t)},t.prototype.append=function(e){this._element&&(this._element.append(this._uiObject),this.createContentPusher(this._uiObject.height()),this._uiObject.css({position:"fixed",top:0,left:0,width:"100%"}),e&&e())},t.prototype.remove=function(t){this.removeContentPusher(),e.prototype.remove.call(this,t)},t.prototype.createContentPusher=function(e){this._contentPusher=wmjQuery('<div style="position: relative;" />'),this._contentPusher.css({height:e,display:"none"}),this._element.prepend(this._contentPusher)},t.prototype.removeContentPusher=function(){this._contentPusher.remove(),this._contentPusher=null},t}(ds);ua.register("BarDisplayer").asCtor(ps).asProto(),ua.register("TemplatesFactory").asCtor(zt).asSingleton().dependencies("Logger, Mustache, UITemplates, ResourceManager, FontsData, SiteConfigManager, HostData, CommonUtils"),ua.register("UIComponentsFactory").asCtor(qt).asSingleton().dependencies("Logger, UIComponents"),ua.register("DisplayersFactory").asCtor(qt).asSingleton().dependencies("Logger, UIDisplayers"),ua.register("DebuggerManager").asCtor(Kt).dependencies("Lib,WmInternals,DebuggerAuditManager"),ua.register("Profiler").asCtor(Zt).asProto().dependencies("TimerManager"),ua.register("ProfilerAPI").asCtor(tn),ua.register("ProfilerManager").dependencies("ClientStorageManager, EndUsersManager, HostData, TimerManager, CommonUtils, Profiler, ServerDataSenderManager").asCtor(nn).initialize(!1),ua.register("Lib").asInstance(ia);var S=ua.get("PositionHelper"),gs="wm-dmn",hs="displayWidgetCondition",ms=!1;window.walkme_lib_in_dev&&(ms=!0);var vs=70,ys={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12},ws={PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4,FailOnUrl:5},bs={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8,CHAT_AGENT:9,SHOUTOUT:10},Ss={Widget:0,LightBox:1,NewTab:2,SameTab:3},Ts={Show:1,Action:2},ks={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4},Is="PSCTMode",Cs={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2},xs={TRUE:0,FALSE:1,CANNOT_ASSERT:2},_s={Cookie:0,Var:1},Ds={Tutorial:0,Task:1,Launcher:2,LabelGroup:3,Survey:4,AbExperiment:5,Category:6,Content:7,Collection:8,Shuttle:9,ShoutOut:14,ShoutOutBar:15};ua.register("DeployableTypes").asInstance(Ds);var Es,As,Ps,Ns,Rs,js,Ms,Ls,Os,Gs,Us,Fs,Bs,Ws,Qs,Vs,Hs,$s,zs={Cookie:"cookie",CrossDomain:"crossdomain",JStorage:"jstorage",HiddenIframe:"hiddeniframestorage",CrossDomainLocalStorage:"crossdomain_ls",CrossDomainCookies:"crossdomain_ck",Extension:"extension"},qs="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;",Ks={Top:0,Right:1,Bottom:2,Left:3},Xs=["top","right","bottom","left"],Ys={Center:0,Start:1,End:2},Js=2147483631,Zs={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3},eu={soft:0,strong:1},tu="isSticky",nu="stickinessType",ru=Ks.Bottom,iu=60,ou=2e3,au="##START_OF_CURRENT##",su="##END_OF_CURRENT##",uu="##START_OF_TOTAL##",lu="##END_OF_TOTAL##",cu=6e3,du={top:0,left:0,bottom:0,right:0},fu=5e3,pu=[],gu=[],hu=[],mu=[],vu=[],yu=[],wu=[],bu=[],Su=null,Tu=[],ku=[],Iu=[],Cu=[],xu={},_u={},Du=null,Eu=null,Au="",Pu="",Nu={},Ru=null,ju=null,Mu=null,Lu=null,Ou=null,Gu=null,Uu=null,Fu=null,Bu=null,Wu=null,Qu=null,Vu=null,Hu=null,$u=null,zu=null,qu=null,Ku=null,Xu=null,Yu=null,Ju=null,Zu=null,el=null,tl={},nl=null,rl={},il=[],ol=null,al=null,sl=null,ul=null,ll=null,cl=null,dl=null,fl=null,pl=null,gl=null,hl=null,ml=null;ia.ConditionFunctionsObj=null;var vl,yl,wl,bl,Sl,Tl,kl,Il,Cl,xl,_l,Dl=-1,El=-1,Al=ys.NOT_RUNNING,Pl=[],Nl=[],Rl=[],jl=Array(),Ml=null,Ll=!1,Ol=!1,Gl=!1,Ul="wm-wfow",Fl="wm-prsst",Bl="wm-dbg",Wl="sti",Ql="tId",Vl="stt",Hl="step",$l="spn",zl="plgd",ql="pint",Kl="splt",Xl="fnsh",Yl="sph",Jl="sch",Zl="ssi",ec="wm-cond-win",tc=1e3,nc=60*tc,rc=900,ic=!1,oc=(Array(),!1),ac=Array(),sc=0,uc=[],lc=[],cc=[],dc=-1,fc=!1,pc=[];ia.releaseLibTimeouts;var gc;ua.register("win").asInstance(window),window._walkmeInternals=window._walkmeInternals||{},ua.register("WmInternals").asInstance(window._walkmeInternals);var hc;ia.setCookiesManager=function(e){Gu=e},ia.setLogger=function(e){ia.Logger=e},ia.setFramesetsUtils=function(e){Bu=e},ia.setSettingsFile=function(e){Ns=e},ia.setAutoStartHelper=function(e){Gs=e},ia.setJQueryElementFinder=function(e){ll=e},ia.setElementFinder=function(e){gl=e},ia.setConditionFunctions=function(e){ia.ConditionFunctionsObj=e},ia.setConditionTreeEvaluator=function(e){Lu=e},ia.setBBCodeParser=function(e){Ls=e},ia.setResourceManager=function(e){ia.ResourceManager=e},ia.setStorageManagerFactory=function(e){Ps=e},ia.setStorageManager=function(e){Uu=e},ia.setEndUsersManager=function(e){ju=e},ia.setAbPermutationManager=function(e){cl=e},ia.setLibInitializer=function(e){la=e},ia.setWmAjax=function(e){hl=e},ia.setSiteConfigManager=function(e){Su=e},ia.setEndUserLoggerManager=function(e){Mu=e},ia.setUiDataProvider=function(e){Pt=e},ia.setAnalyticsManager=function(e){al=e},ia.setRecorderServerManager=function(e){Du=e},ia.setPermalinkManager=function(e){Eu=e},ia.setServerDataSenderManager=function(e){ml=e},ia.setClickAuditManager=function(e){sl=e},ia.setAuditStepsManager=function(e){Ru=e},ia.setDebuggerAuditManager=function(e){ul=e},ia.setGoalsManager=function(e){As=e},ia.setWalkMeGoalsManager=function(e){Ou=e},ia.setDebuggerManager=function(e){Wu=e},ia.setWmInternals=function(e){Os=e},ia.setPlayManager=function(e){pl=e},ia.setCrossDomainManager=function(e){ia.crossDomainManager=e,fl||(fl=e)},ia.setFeaturesManager=function(e){hc=e.isFeatureEnabled},ia.setHostData=function(e){Us=e},ia.setSalesForceManager=function(e){Fs=e},ia.setCommonEvents=function(e){bl=e,kl=bl.sendEditorEvent,Il=bl.sendApiEvent,Cl=bl.sendInternalEvent,xl=bl.oldSendApiEvent,_l=bl.sendAutomationEvent},ia.setTimerManager=function(e){Sl=e,ia.releaseLibTimeouts=function(){Sl.releaseTimeoutsArray("libTimeouts")},gc=Sl.libSetTimeout},ia.setStickinessManager=function(e){Tl=e},ia.getHostData=function(){return Us},ia.setLanguageManager=function(e){Vs=e},ia.setClientStorageManager=function(e){$s=e},ia.getAttentionGrabberManager=function(){return Hs=ua.get("AttentionGrabberManager")},ia.getStorageType=function(){return Uu.getStorageType()},ia.getDebuggerAuditManager=function(){return ul},ia.getClientStorageManager=function(){return $s},ua.register("StorageManagerFactoryParams").asInstance({getAllUserGuids:pn,setAuditStepCookieSeconds:fn}),ia.getMustache=function(){return Fa},ia.elkState=function(e){H.elementLastKeeper.setState(e)},this.getStorageManagerInstance=function(e){return e?Ps.byType(e):Uu},this.getAnimator=function(){return B},ia.getABPermutationId=function(){return cl.getPermutation()},ia.getAllPermutations=function(){return cl.getPermutations()},ia.getEndUserGuid=function(){return ju.getEndUserGuid()},ia.getDataFileExtraData=function(){return rl},ia.setCustomCssProp=function(e){Ms=e,Cl("NewCustomCss",Ms)},ia.getCustomCssProp=function(){return Ms},ia.getUiTracker=function(){return ua.get("UIChangeTracker")},ia.getSalesForceManager=function(){return Fs},this.getTodoListManager=function(){return Vu},this.setPlayInitiator=function(e){},this.getPlayInitiatorEnum=function(){return bs},this.UiProperties=function(){return ss},ia.getUiUtils=function(){return $},ia.getCommonUtils=function(){return H},ia.getFramesetsUtils=function(){return Bu},ia.getPositionHelper=function(){return S},this.removeAllStepAuditsLogs=function(){Ru&&Ru.removeAllStepAuditsLogs()},this.releaseAllElements=function(e){In({functionsToExecute:[ia.releaseBalloons,ia.releaseLaunchers,ia.releaseShoutOuts,ia.releaseAGs],successCallback:e})},ia.releaseShoutOuts=function(e){Zu?Zu.releaseAll(e):e&&e()},ia.releaseAGs=function(e){Hs?Hs.remove(e):e&&e()},this.releaseBalloons=function(e){wo("Releasing balloons",5,ga),Nr(),In({functionsToExecute:[kn,Uo,function(e){$.removeOverlay(),e&&e()}],successCallback:e})},this.releaseLaunchers=function(e,t,n){var r=function(e,t){e.drawable?e.drawable.destroy(t):t&&t()};In({objectsArray:ia.getLaunchers(),functionsToExecute:[r],successCallback:function(){n||ia.setLaunchers([]),e&&e()}})},ia.getUserGuid=function(){return nl},ia.setUserGuid=function(e){e=ar(e,"No-User-Guid"),-1==Ro(e,il)&&il.push(e),nl=e},this.setUserGuidForEditor=function(e){il=[e],nl=e},this.setTutorialsForEditor=function(e,t){try{for(var n=o(e),r=0;r<n.length;r++)n[r].userGuid=t;ia.setTutorials(n)}catch(i){ia.Logger.error(i)}},this.setSurveysForRecorder=function(e){var t=o(e);yu=t},this.getLaunchers=function(){return hu},this.setLaunchers=function(e){xu={},hu=e},this.setTutorials=function(e){pu=e,_u={};for(var t=0;t<pu.length;t++)Wn(pu[t],Su.get())},this.getTutorials=function(){return pu},this.getSiteConfig=function(e){return e&&Es?Es:Su.get()},this.getWalkthrusLabels=function(){var e=Vo(Su.get().Settings,"labels",null);return e&&1==e.useLabels?ku:null},this.getSurveys=function(){return yu},this.setSiteConfig=function(e){return Su.set(e),ia.setCustomCssProp(Su.get().CustomCss),jo(null)!==!1||hc("loadNoStyle")?void Cn():void _makeTutorial.removeWalkMe("set custom css failed")},ia.setSiteConfigForEditor=function(e){var t=o(e);ia.setSiteConfig(t)},ia.getBalloonDrawer=function(e){var t,n=xn(e),r={lib:ia,resourceManager:ia.ResourceManager,logger:ia.Logger,balloonSettings:n};return t="v3"==n.BalloonVersion?new Z(r):new J(r)},this.resetBalloonDrawer=function(){js=null},this.appendWalkMeConfigData=function(e){Tu=Tu.concat(e.Experiments)},this.appendDataPackage=function(e,t){var n=e;void 0===e.Tutorials&&(n={Tutorials:e,SiteConfig:t});var r=n.Tutorials,i=n.SiteConfig,o=ar(n.Tasks,[]),a=ar(n.Labels,[]),s=ar(n.Surveys,[]),u=ar(n.Launchers,[]),l=ar(n.Shuttles,[]),c=ar(n.Contents,[]),d=ar(n.Categories,[]),f=ar(n.Collections,[]),p=ar(n.ShoutOuts,[]),g=ar(n.Bars,[]);rl=ar(n.ExtraData,{isOldDataFile:!0}),ia.setUserGuid(n.UserGuid),la.isNewLanguage()&&(pu=[],Su.set([]),ku=[],gu=[],hu=[],vu=[],mu=[],yu=[],Iu=[],Cu=[],wu=[],bu=[]),Sn(i,r),i&&0==Su.get().length&&(Es=i,ia.setSiteConfig(i));for(var h=0;h<r.length;h++)Wn(r[h],i),Nu[r[h].TutorialId]={siteConfig:i,isPackageHidden:la.isNextDataPackageIsHidden()},r[h].userGuid=nl;for(var h=0;h<o.length;h++)Vn(o[h]);_n(u,nl),_n(c,nl),_n(s,nl),_n(l,nl),_n(p,nl),_n(g,nl),pu=pu.concat(r),ku=ku.concat(a),gu=gu.concat(o),hu=hu.concat(u),vu=vu.concat(l),mu=mu.concat(c),yu=yu.concat(s),Iu=Iu.concat(d),Cu=Cu.concat(f),wu=wu.concat(p),bu=bu.concat(g),ua.get("UITemplates").concat(n.UITemplates),ua.get("UIVariations").concat(n.UIVariations)},ia.appendTemplates=function(e){ua.get("UITemplates").concat(e)},ia.appendVariations=function(e){ua.get("UIVariations").concat(e)},ia.createUiComponent=function(e,t){return ua.get("UIComponentsFactory").get(e,t)},this.generateVariation=function(e){return ua.get("UIVariations").get(e)},this.generateTemplate=function(e,t,n,r,i,o){var a=ua.get("TemplatesFactory");a.addResources(e,t,n,function(){var o=a.get(e,t,n,r);i&&i(o)},o)},this.getBaseVariation=function(e,t){return ua.get("UITemplates").get(e,t).Css},this.isTutorialPackageHidden=function(e){var t=Nu[e.TutorialId];return t?t.isPackageHidden:!1},this.setRecorderServer=function(e){Du.set(e);var t=la.getPlayerServer();null!==t&&void 0!==t&&Du.set(t)},this.setPetaServerName=function(e){void 0!=e&&(Au=e)},this.getPlayerServer=function(){return Du.get()},this.setCdnServer=function(e){Pu=e},this.setInRecorder=function(e){ic=e},this.setAnalyticsCustomFields=function(e,t){return ac[e]=t,!0},this.getSupportedLanguages=function(){return Vs.getMenuLanguages()},this.getCurrentLanguage=function(){return Vs.getCurrentLanguage()},this.changeLanguage=function(e,t){la.changeLanguage(e,function(n){n&&Cl("languageChanged",{language:e}),t&&t(n)})},this.tempClearUserCompletedTasks=function(e,t){Vu.tempClearUserCompletedTasks(e,t)},this.loadTasks=function(e,t){Vu.loadTasks(e,t)},this.getApiTasks=function(e){return Vu.getApiTasks(e)},this.getWalkmeOOP=function(){return t},ia.launchDebuggerForEditor=function(e,t){var n=o(e);Wu.launchDebugger(n,t)},ia.loadDebuggerForEditor=function(){Wu.loadDebuggerForEditor()},ia.launchDebugger=function(e,t){Wu.isDebuggerEnalbled()&&Wu.launchDebugger(e,t)},ia.closeDebugger=function(){Wu.closeDebugger()},ia.clearDebuggerState=function(){Wu&&Wu.clearDebuggerState()},ia.loadTestMe=function(e){var t,n;t||(t=En()+"testme/"),n||(n="walkme_testme_"+Dn()+".js"),H.addScript(t+n,e)},ia.searchTermChangedOnWidget=function(e){"walkmetracker"!=e||ti()||ia.launchDebugger()},this.widgetLoaded=function(e){e&&e.bind("on-activate",function(){ia.getUiUtils().fixFlash()})},this.triangleLoaded=function(e){this.dataFinishedLoading(e)};var mc;this.dataFinishedLoading=function(e){var t=ia.Logger.timer("lib init");if(hc("sfVars")&&Fs.extractSalesForceVars(),window.walkme_data_finished_loading_callback&&walkme_data_finished_loading_callback(),void 0===mc&&(mc=window.onbeforeunload,window.onbeforeunload=function(e){return er(e),mc?mc(e):void 0}),!qn())return ia.removeWalkMe("initWalkMeClassesFailed"),ia.initFailed=!0,!1;var n=ua.get("EndUserDataConverter");n.convertData();var r=jn(e);return t.stop(),Uu.init(r)===!1?(ia.removeWalkMe("storageManagerInitFailed"),!1):!0},ia.rememberTestMeIsOn=function(){$s.saveData(Da,1,172800)},this.initWalkmeClassesForCustomizePlayer=function(){Uu=Ps.byType(zs.Cookie)},ua.register("ServerDataSenderManagerParams").asInstance({defaultDataStorageLifeSeconds:rc,dateSenderLogFeature:"serverDataSender"}),ua.register("GoalsManagerParams").asInstance({checkInterval:ou}),ua.register("PlayManagerParams").asInstance({checkIfExists:gr,getTutorialByIndex:Lr}),ua.register("CrossDomainManager").dependencies("FeaturesManager,ClientStorageManager").initialize(!1).asFunction(function(e,t){var n;return n=e.isFeatureEnabled("po_frames")||e.isFeatureEnabled("passOwnership")?"FramedOwnershipManager":e.isFeatureEnabled("po_tabs")?"TabbedOwnershipManager":"PassOwnershipManager",ua.entry(n).args({storageManager:t,errorHandler:ia.Logger.error,userGuid:nl,owner:window,terminateTutorialFunction:function(){cc=[],ia.releaseBalloons(),vo()},restoreStateFunc:Ni,isFeatureEnabled:hc,allUserGuids:pn(),topWindow:top,isPlayMode:wn(),resumeAfterUnloadFunc:tr,getStepFunc:ni,peekNextCookieStepFunc:rr}),ua.get(n)}),ua.register("DeployablesManagerFactory").asCtor(Yn),ia.startContentById=function(e){return zu?(zu.activateById(e),!0):!1},ia.startSurveyById=function(e){return Ju?Ju.activateById(e):!1},ia.getDeployablesManager=function(e){return tl[e]},ia.getUiDataProvider=function(){return Pt},ua.register("FeaturesManager").dependencies("SiteConfigManager").asCtor(function(e){var t=this;t.isFeatureEnabled=function(t){var n=e.get();return"undefined"!=n.Features&&n.Features?n.Features.indexOf(t)>-1:!1}}),ia.auditClick=function(e,t){t=Kc(t)?t:-1,sl&&e&&sl.SendClickAudit(e,t)},ia.isFeatureActive=function(e){return hc(e)},ia.getWmAjax=function(){return hl},ia.getClickAuditManager=function(){return sl},ia.userSawWalkMe=function(){yn()||wn()||Mu.reportEndUser(void 0,!0)},ia.getServerDataSenderManager=function(){return ml},ia.getEnvId=Co,this.getEndUserId=function(){var e=!ol.isAbTestingEnabled();return ju.getEndUserGuid(e)},this.playerCreationComplete=function(e){if(!e){var t=mtjQuery("#mt-menu-closed, #walkme-menu-closed"),n={config:Su.get(),player:t},r=ia.getCommonUtils().attentionGrabberClass(n);r.setupAttenGrab()}},this.destroyAll=function(e){wo("destroyAll - begin",1),Nu={},Sl.releaseAllTimeouts(),oc=!1,yo(),as.cleanResources(),ir(),As&&As.cleanResources(),ia.releaseAllElements(function(){wo("destroyAll - releaseAllElements finished",1);var t=Pu.replace("http://","").replace("https://","");mtjQuery("script[src*='"+t+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove(),mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove(),or(".mt-to-destroy, .walkme-to-destroy"),window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer&&window._walkmePlayer.destroyWalkMePlayer(),window.walkmeWidget&&window.walkmeWidget.destroyWalkMePlayer&&window.walkmeWidget.destroyWalkMePlayer(),e&&(wo("destroyAll - calling user callback",1),e())})},this.removeWalkMe=function(e){wo(l("removeWalkMe called with reason {0}",e)),window._walkmeInternals&&(window._walkmeInternals.removeWalkMeReason=e);try{window.walkme_remove_walkme_callback&&walkme_remove_walkme_callback(e)}catch(t){}ia.destroyAll(function(){Sl.clearGlobalTimeouts(),fl&&fl.stop(),ua.get("ResourceManager").emptyStyleSheets(),window._walkMe=window._makeTutorial=window.MakeTutorialAPI=window.WalkMeAPI=window.WalkMeDataClass=window.WalkmeWidget=window.WalkmeSnippet=void 0,window.wmPreviewSnippet=void 0,window.wmSnippet=void 0,window.walkme_lib_in_dev=void 0,window.walkme_lib_notify_ServerName=void 0,window.walkme_lib_upload_date=void 0,window.walkme_lib_uploader=void 0,window.walkme_lib_version=void 0;var e=Pu.replace("http://","").replace("https://","");wmjQuery("script[src*='"+e+"']").remove(),wmjQuery("script[src*='maketutorial']").remove(),wmjQuery("script[src*='wmjQuery']").remove(),wmjQuery("link[id^='mt-css']").remove(),mt_cdn_server_name=void 0,mt_get_user_settings_url=void 0;$o();wmjQuery(".walkme-to-remove").remove(),or(".walkme-to-remove "),S.removeScrollAndResizeEvents();var t=ua.get("UIChangeTracker");t&&(t.stop(),t=null),wmjQuery=mtjQuery=void 0})};var vc=function(){return window.location.href},yc=function(){return document.referrer};this.startNewTutorial=function(e,t,n,r){try{wo("startNewTutorial : Index = "+e+". From Step = "+t+" testMode: "+n),ia.getUiUtils().fixFlash(),lr(e);var i=!1;if(Ru._currentPlayInitiator=r,t=ar(t,0),n=ar(n,!1),!n){if(!fl.canStartPlaying(Al))return Al=ys.WAITING_FOR_OWNERSHIP,Dl=e,El=t,Ci(),fl.walkthruStarted(function(){Al=ys.NOT_RUNNING,fl.reset()}),!0;sr(!0,!0),fl.enabled()||_i(),Uo()}Cl("StartNewWt",pu[e]);var o=[],a=t;t=pl.findFirstStep(e,t,o);var s=0==t;if(t>0&&!n){var u=Co();u==Bs.SOURCES.play||u==Bs.SOURCES.preview?dr(e,a,t,Bs.stepAction.SkippedStartedFromBiggerStep):(i=!0,ur(e,0,t,Bs.stepAction.SkippedStartedFromBiggerStep))}else 0==t&&(t=Li(e),t>0&&!n&&(i=!0,ur(e,0,t,Bs.stepAction.SkippedByTutorialCondition)));if(!Oi(e,!1)&&0>t){if(n)return!1;var l=cr(e);if(null!=l&&1==l.enabled){var c,d=!1,f=l.url;1==l.autoRedirect?(c=ws.AutoRedirect,d=!0):Ui(f,!1)?(c=ws.PopupShown,Sr(f,e)):(c=ws.FailOnUrl,Tr()),Cr(c,pu[e]);for(var p=0;p<o.length;p++)Ru.auditStep(pu[e].Steps[o[p].stepIndex],o[p].stepStatus,pu[e].Steps.length,!1);d&&xr(f,ws.AutoRedirect,e)}else{for(var p=0;p<o.length;p++){var g=o[p].stepStatus==Bs.stepAction.SupposedToShow;Ru.auditStep(pu[e].Steps[o[p].stepIndex],o[p].stepStatus,pu[e].Steps.length,g),dr(e,o[p].stepIndex,o[p].stepIndex+1,o[p].stepStatus)}sr(),Ar(pu[e])}}else{if(n)return!0;pr(e,t,s,i?Ru._currentPlayGUID:void 0,r)}}catch(h){return ia.Logger.error(h),!1}return Cl("WtHasGuid",pu[e],{playGuid:Ru._currentPlayGUID}),Cl("WalkthruGuid",{playGuid:Ru._currentPlayGUID}),!0},this.stopTutorial=function(e,t){ti()&&Cl("TutorialStopped",Sc(El)),vo(),yo(),ia.releaseBalloons(),Al=ys.NOT_RUNNING;var n=El;if(El=-1,e||Ci(),fl&&fl.enabled()&&fl.reset(),!t){var r=Ii();r&&Ju.handleSurveyPlayThroughWalkthru(r,Zs.WalkThruExited,n)}},this.postWelcomeStep=function(e){-1==El&&Oi(e,!0)||ia.executeTutorialNextStep()};var wc=[],bc=function(e,t,n,r,i,o,a){vo(),yo(),ia.releaseBalloons(),Al=ys.RUNNING,Dl=e,El=t-1,Ru._currentPlayGUID=n,Ru._currentPlayInitiator=r,uc=i,lc=a,cc=o,Ci()};this.lib_error=function(e,t){ia.Logger.error(e,t)},this.executeTutorialNextStep=function(){if(Bu.isLoadingFrames())return void Sl.playSetTimeout(ia.executeTutorialNextStep,200);if(oc)return void wo("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep",5);if(Gl)return Gl=!1,wo("executeTutorialNextStep: waiting for other window",5),wo("Waiting for other window..."),void Rr();if(Ll)return void wo("executeTutorialNextStep: not executing, dontContinueTutorial=true",5);if(Ii().Steps.length-1==El)return void ia.tutorialFinished();oc=!0;var e=Br();wo(l("Next step including split is: {0} seconds",e),5,ga),Sl.playSetTimeout(function(){function e(){oc=!1,ia.executeCurrentStep()}El++,El>0&&!jr(Sc(El-1).End,Aa.NOTHING)?ia.releaseBalloons(e):e()},1e3*e)},this.executeCurrentStep=function(){var e=Sc(El);xc(e)};var Sc=function(e){return Ii()&&Ii().Steps[e]},Tc=function(){return Ii().Steps.length<=El+1},kc=function(e){var t=_c(e);return pu[t]},Ic=function(e){var t=Yc(e,function(e){return kc(e).Steps[0]});return t},Cc=function(){return Pl&&Pl.length>0?Pl.pop():null};this.tutorialFinished=function(){ia.releaseBalloons(),Al=ys.NOT_RUNNING,Ci();var e=Cc(),t={hadSplit:!!e};Il("WalkthruCompleted",t),xl("TutorialCompleted",t);var n=Ii();Cl("WalkthruCompleted",n,t),Vu.updateDeployableCompleted(n.TutorialId,Ds.Tutorial),Ju.handleSurveyPlayThroughWalkthru(n,Zs.WalkThruCompleted,El),e?(Cl("switchToWalkthru",pu[e.tutorialIndex].Id),Cl("BackFromBranch",pu[e.tutorialIndex]),bc(e.tutorialIndex,e.stepIndex,e.playGuid,e.playInitiator,e.stepPlayHistory,e.stepPlayStack,e.stepCompletedHistory),ia.executeTutorialNextStep()):fl.loseOwnership()},this.checkRepeatCookie=function(e,t){return ua.get("AutoStartManager").checkRepeatCookie(e,t)},this.getLauncherAction=function(e){if(void 0!=xu[e])return xu[e];var t=Vr(e),n=Vo(t.Settings,"action",null);return n?(xu[e]=ua.get("ActionsFactory").get(n.actionType,n.arguments,bs.LAUNCHER,t),xu[e]):(wo("No action core. aborting..."),null)};var xc=function(e){function t(e){wo(e,5,ga)}aa!=e.Id&&oa++,e.playNumber=oa,aa=e.Id,Cl("StepPlayNum",{playNum:oa});var n=l("Processing step # {0} . Step title: {1}. Walkthru: {2}",e.StepIndex+1,e.StepTitle,pu[Dl].Name);if(wo(n),Cl("NewStepStarted",e),hc("highPerf")||Bn(),Al!=ys.WAITING_FOR_STICKY_ELEMENT&&Al!=ys.WAITING_FOR_ELEMENT&&Al!=ys.WAITING_FOR_CONDITION){var r=Ws.isActionStep(e)?Bs.stepAction.Shown:Bs.stepAction.SupposedToShow;Ru.auditStep(e,r,Ii().Steps.length)}var i=Zr(e),o=ei(e);if(!o&&(i==Cs.PLAY_CONDITION||i==Cs.BOTH&&Al!=ys.WAITING_FOR_STICKY_ELEMENT))return wo("Play step condition is false. Skipping step."),Ru.auditStep(e,Bs.stepAction.SkippedByCondition,Ii().Steps.length),Cl("StepWasSkipped",e),void ia.executeTutorialNextStep();if(Qr(e)){var a=gr(Dl,e.StepIndex,0,1,void 0,Ra.Normal);if(-1==a)return wo("Keep looking for element after popup."),Cl("LookingForElement",e,{playGUID:Ru._currentPlayGUID}),Al=ys.WAITING_FOR_ELEMENT,Sl.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),void Ci();if(-2==a||-5==a){var s="Play condition isn't met, skipping the popup.";return-5==a&&(s="Loop detecetd"),wo(s),Ru.auditStep(e,Bs.stepAction.SkippedNotFound,Ii().Steps.length),Cl("StepWasSkipped",e),void ia.executeTutorialNextStep()}}var u=void 0;if(o||Al!=ys.WAITING_FOR_STICKY_ELEMENT){var c={},d=H.getTimer(t);u=ia.findElement(e,null,c),d("Done looking for sticky step named "+(e.StepTitle||e.StepText)+" with id "+aa),e.Score=c.score}else wo("Sticky PlayCondition isn't met."),u=!1;if(u){u&&u!==!0&&(wo("Element found:"),wo(u)),Cl("ElementFound",e),Il("BeforeNewStepShown"),xl("BeforeNewStepShown");var f=cc[cc.length-1]?cc[cc.length-1].Idx:null;if(Jn({Idx:e.StepIndex,Id:e.Id}),Vo(e.Settings,"fake",!1))return wo("This is a fake step. Continue to next step."),Ci(),Ru.auditStep(e,Bs.stepAction.FakeFound,Ii().Steps.length),Cl("StepIsFaked",e),void ia.executeTutorialNextStep();var p=!1;if(Al=ys.RUNNING,Ws.isActionStep(e))return void Sl.playSetTimeout(function(){Hr(e).doAction(),Cl("StepPerforming",e)},100);var g=e.StepTitle,h=e.StepText,m=Sc(El),v=1e3,y=m.LinkedTutorialIds?!0:!1,w=[];if(y){var b=m.LinkedTutorialIds.split(";"),T=Jr(b);T?(wo("This is a branched step. Branched walk-thru's: "+m.LinkedTutorialIds),w.push(Ac(u,["click","mousedown"],b,v))):(wo("Branch walk-thru id, not found: "+m.LinkedTutorialIds),y=!1)}var k=!1,I=!1,C=-1,x=Ur(),_=null==x;jr(m.End,Aa.NEXT_BUTTON)&&(Al=ys.WAITING_FOR_NEXT_BUTTON_CLICK,_?I=!0:(x.IsSkippable||Vo(x.Settings,"skipNotExists",!1)||Zr(x)!=Cs.STICKY_CONDITION&&!ei(x)||Vo(x.Settings,"fake",!1))&&-2==gr(x.TutorialIndex,x.StepIndex,void 0,void 0,void 0,Ra.Normal)?I=!0:k=!0);var D;if(jr(m.End,Aa.NOTHING)?_||(p=!0):jr(m.End,Aa.HOVER)?(D=["mouseenter"],w.push(Nc(u,e,D,_,500))):jr(m.End,Aa.CLICK)&&!y?(D=["click","mousedown","mouseup"],hc("noFocusTrigger")||D.push("focus"),w.push(Nc(u,e,D,_,v))):jr(m.End,Aa.KEY_PRESSED)?(D=["keydown","paste","change"],w.push(Nc(u,e,D,_,2e3))):jr(m.End,Aa.PAGE_CHANGED)?(Al=ys.WAITING_FOR_PAGE_CHANGE,Ll=!0):jr(m.End,Aa.DURATION)&&(m.durationHandler=Sl.playSetTimeout(function(){Fi(),ia.executeTutorialNextStep()},1e3*m.Duration)),m.Settings.additionalTriggers){Cl("StepAdditionalTriggerCBSet",m);var E={elementName:g||h,jqueryPollingIntervalMs:500,elementPollingIntervalMs:500,stickySonar:!0},A=ua.create("ConditionChecker",E);A.onValueChanged(function(e){if(Cl("StepAdditionalTriggered",m),e){Ll=!1,m.durationHandler&&(m.durationHandler.clear(),m.durationHandler=null);var t=zr(m.Settings.additionalTriggers);ai(_,v,t)}}),A.evaluateAsync(m.Settings.additionalTriggers),pc.push(A)}if(El>0&&jr(m.End,Aa.NEXT_BUTTON)&&!Yr(f)){if(C=gr(Dl,El-1,0,-1,void 0,Ra.Normal),C>=0){var P=Sc(C);jr(P.End,Aa.NEXT_BUTTON)||(C=-1)}dc=C}Vo(e.Settings,"waitOtherWindow",!1)&&(Gl=!0);var N=new z({element:u,forceEmbedBalloonInIframe:!1,positionHelper:S,dontShowIoBalloon:$r(e),isFirstStep:qr(),stepSettings:e.Settings,text:{title:g,content:h,subText:Kr()},end:e.End,position:e.Position,buttons:{next:k,done:I,back:C>=0},data:{stepId:e.Id,tutorialId:e.TutorialId,type:e.Type},configuration:e.Configuration,logger:ia.Logger,drawer:ia.getBalloonDrawer(e.Configuration),siteConfig:ia.getSiteConfig()});N.onDestroy(function(){oi(u,D)}),N.setReleaseEvents(w),Rl.push(N),Ci(),Ru.auditStep(e,Bs.stepAction.Shown,Ii().Steps.length),N.Show(!0,function(){Cl("NewStepShown",e),Cl("StepPerforming",e),Il("NewStepShown",{Element:u}),xl("NewStepShown"),N.SetTimeoutOn(),p&&(Fi(),ia.executeTutorialNextStep())})}else wo("Element not found."),Cl("ElementNotFound",e,{playGUID:Ru._currentPlayGUID}),Al==ys.WAITING_FOR_STICKY_ELEMENT?(wo("Step was sticky. Keep looking for the element."),Cl("StickyStepWaiting",e),Al=ys.WAITING_FOR_STICKY_ELEMENT,Sl.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),Ci()):e.IsSkippable||Vo(e.Settings,"skipNotExists",!1)?(Ws.isActionStep(e)?(wo("Action step isn't valid. Skipping to next step."),Ru.auditStep(e,Bs.stepAction.NonValidActionStep,Ii().Steps.length)):(wo("Skippable step. Skip to next step."),Ru.auditStep(e,Bs.stepAction.SkippedNotFound,Ii().Steps.length)),Cl("StepWasSkipped",e),ia.executeTutorialNextStep()):(wo("Keep looking for the element."),Cl("LookingForElement",e,{playGUID:Ru._currentPlayGUID}),Al=ys.WAITING_FOR_ELEMENT,Sl.playSetTimeout(function(){_makeTutorial.executeCurrentStep()},500),Ci())};_walkmeInternals.bind=function(e,t){wmjQuery(_walkmeInternals).bind(e,t)},_walkmeInternals.unbind=function(e,t){wmjQuery(_walkmeInternals).unbind(e,t)};var _c=function(e){for(var t=-1,n=0;n<pu.length;n++)if(pu[n].TutorialId==e){t=n;break}return t},Dc=function(e,t){var n=ni(e,t);return n?n.StepIndex:-1},Ec=function(e,t){for(var n=t.Steps,r=0;r<n.length;r++)if(n[r].Id==e)return n[r];return null};this.resumeSplit=function(){try{var e,t,n=1e3,r=0;if(1==Nl.length){if(t=Nl[0],void 0!=vl){var i=Dc(vl,t);-1!=i&&(r=i),wo(l("Resuming split, walkthru id: {0}, step index: {1}",t,r))}}else t=Gr(Nl);t?(Cl("switchToWalkthru",t),e=_c(t),Sl.playSetTimeout(function(){var t={type:bs.BRANCHING,objectId:Sc(El).Id};pr(e,r,!1,void 0,t)},n),Ci()):(wo("Try again in "+n+"ms."),Sl.playSetTimeout(function(){_makeTutorial.resumeSplit()},n))}catch(o){ia.Logger.error(o)}};var Ac=function(e,t,n,r){Al=ys.WAITING_FOR_ELEMENT_EVENT,oi(e,t);for(var i=function(r){wo("Clicked the branched walk-thru."),oi(e,t),ii(n)},o=Pc(i),a=Pc(function(){oi(e,t)}),s=0;s<t.length;s++)$c(e,t[s]+".mt",function(e){o(e)});return function(){return a()}},Pc=function(e){function t(t,r){var i;return n||(i=e(t,r),n=!0),i}var n=!1;return t},Nc=function(e,t,n,r,i){Al=ys.WAITING_FOR_ELEMENT_EVENT;for(var o=function(t,o){wo("Step event triggered.");for(var a=!1,s=0;s<n.length;s++)e.unbind(n[s]+".mt"),"click"==n[s]&&(a=!0);return ai(r,i,a,t,o),!0},a=Pc(o),s=0;s<n.length;s++)$c(e,n[s]+".mt",function(e){a(e)});return function(e){return a(null,e)}};this.showStepForRecorder=function(e,t){var n=o(e);Qn(n,0,Su.get());var r=ia.findElement(n);if(wo("element:",5),wo(r,5),!r)return!1;var i=new z({element:r,forceEmbedBalloonInIframe:t,positionHelper:S,stepSettings:n.Settings,text:{title:n.StepTitle,content:n.StepText,subText:""},position:n.Position,data:{stepId:n.Id,type:n.Type},configuration:n.Configuration,logger:ia.Logger,drawer:ia.getBalloonDrawer(n.Configuration),isViewStep:!0,siteConfig:ia.getSiteConfig()});return Rl.push(i),i.Show(!0,function(){i.SetTimeoutOn()}),i},this.elementExistsForRecorder=function(e){try{var t=o(e);return this.elementExists(t)}catch(n){ia.Logger.error(n)}return!1},this.elementExists=function(e){try{var t=ia.findElement(e);if(t)return!0}catch(n){ia.Logger.error(n)}return!1},this.showAllLaunchers=function(){function e(){try{n()}catch(e){}}function t(n,o){i++,i>=r&&(e(),ui(!1,t))}if(ia.isWalkMeVisible())try{if(Bu.isLoadingFrames())return void Sl.libSetTimeout(ia.showAllLaunchers,200);var n,r=0,i=0;try{window._walkmeInternals&&(n=ia.profilerAPI.startProfile("showAllLaunchers"),n&&ui(!0,t))}catch(o){ui(!1,t)}for(var a=0;a<hu.length;a++){var s=hu[a],u=pi(s);u&&r++,wo(l("willDrawLauncher={0} for launcher with id {1}",u,s.Id),1,va),li(s,u)}n&&0==r&&(e(),ui(!1,t))}catch(c){ia.Logger.error(c)}},ia.showLauncherForSticky=function(e){return e.actionInProgress=!0,e.element=null,yi(e)},this.updateLauncherOffset=function(e,t){if(hu&&1==hu.length){var n=hu[0];n.drawable.updateOffset(e,t)}},this.viewLauncherForRecorder=function(e,t,n){try{var r=o(e);

hu.push(r);var i=ia.findElement(r.IdentifySettings);if(!i)return void n();var a=new te({element:i,settings:r.Settings,lib:ia,position:r.Position,launcherId:r.Id,launcherName:r.Name,isCapturingMode:!1,positionHelper:S,cdnServer:Pu,clickAuditManager:sl});r.drawable=a,r.drawable.evaluator=r.evaluator;var s=function(){a.show(function(e){a.setTimeoutOn(),n&&n(!1,e)})};t?ki(r,s):s()}catch(u){ia.Logger.error(u)}},this.showCapturedLauncherForEditor=function(e){try{var t=o(e);hu.push(t);var n={score:-1},r=ia.findElement(t.IdentifySettings,null,n);if(!r)return!1;var i=new te({element:r,settings:t.Settings,html:t.html,lib:ia,position:t.Position,launcherId:t.Id,launcherName:t.Name,isCapturingMode:!0,positionHelper:S,cdnServer:Pu,clickAuditManager:sl});t.drawable=i,i.show(function(e){var t=e[0].ownerDocument;(t.CaptureLauncherHandler||window.top.document.CaptureLauncherHandler).postShowLauncher(r,t,n.score)})}catch(a){ia.Logger.error(a)}},this.showCaptureBallonForEditor=function(e,t,n,r){function i(e){return null==s.getElementById("maketutorial_stepTitle")?void e():void setTimeout(function(){i(e)},20)}Qn(e,0,Su.get());var o={score:-1},a=ia.findElement(e,null,o);if(!a)return!1;var s=$o(null,!0)[0].ownerDocument,u=wmjQuery.extend(e.Configuration,{BalloonBorderWidth:1,ShadowType:0,BalloonVersion:"v3"}),l=new z({element:a,forceEmbedBalloonInIframe:!1,positionHelper:S,fixedSize:{width:t,height:n},innerHtml:e.innerHtml,outterHtml:e.outterHtml,stepSettings:e.Settings,position:e.Position,data:{stepId:e.Id},configuration:e.Configuration,isCaptureBalloon:!0,logger:ia.Logger,drawer:ia.getBalloonDrawer(u),siteConfig:ia.getSiteConfig()});return Rl.push(l),i(function(){l.Show(!0,function(){s.CaptureBalloonHandler.postBallonShow(a,s,o.score,r)})}),!0},ia.getState=function(){return Al},this.canShowTutorialForEditor=function(e){var t=o(e);return ia.canShowTutorial(t)},this.canShowTutorial=function(e){if(0==e.IsVisible)return!1;for(var t=ji(e,ks.URL),n=!1,r=0;r<t.length;r++)if(Rc(e,t[r])){n=!0;break}if(t.length>0&&!n)return!1;var i=Vo(e.Settings,"DOCTEnabled",0);if(1==i){var o=Vo(e.Settings,"DOCT","");if(""!=o)try{var a=ia.evaluateConditionTree(o);if(Cl("WtConditionEvaluated",e),!a)return Cl("CannotShowWt",e),!1}catch(s){}}return Mi(e)?0==e.Steps.length?!1:ia.findElement(e.Steps[0]):(Cl("CanShowWt",e),!0)},this.evaluateCondition=function(e){var t=new oe;return e=e.replace(/&quot;/gi,'"'),e=e.replace(/&apos;/gi,"'"),e=e.replace(/&#39;/gi,"'"),e=e.replace(/&amp;/gi,"&"),t.setExpression(e),t.evaluate()},this.evaluateConditionTree=function(e){var t=Lu.evaluate(e);return t};var Rc=function(e,t){switch(t.Type){case ks.URL:return jc(t.Content)?!0:!1;default:ia.Logger.error(new Error("Invalid condition type: "+t.Type))}};this.runTutorialsActionConditions=function(){};var jc=function(e){var t,n,r="regexp:";if(Ao(e,r)){e=e.substr(r.length),n=vc();try{t=n.match(e)}catch(i){return!1}}else{e=e.replace(new RegExp("[*]","g"),".*"),e=e.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),n=Lc(vc()),e=Lc(e),n=n.toLowerCase(),e=e.toLowerCase();try{t=n.match(e)}catch(i){return!1}}return null==t?!1:t[0]==n},Mc=function(e){return 0==e.length?e:"/"==e.charAt(0)?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+e:e},Lc=function(e){return e=e.replace("http://",""),e=e.replace("https://",""),e=e.replace("www.",""),"/"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e};this.checkShowOnlyInUrl=function(){var e=!0,t=Su.get(),n=Vo(t.Settings,hs,null);return n?(e=ia.evaluateConditionTree(n),Cl("WidgetConditionEvaluated",Su.get())):null!=t.ShowInUrl&&0!=t.ShowInUrl.length&&(e=jc(t.ShowInUrl)),e||wo("Display on URL condition failed. Not showing player."),e},this.FixConfiguration=function(e){return e.BalloonColor2=Kc(e.BalloonColor2)?e.BalloonColor2:e.Color,e.ButtonBgColor2=Kc(e.ButtonBgColor2)?e.ButtonBgColor2:e.ButtonBgColor,e.BalloonBorderWidth=Kc(e.BalloonBorderWidth)?parseInt(e.BalloonBorderWidth):1,e.BalloonButtonRadius=Kc(e.BalloonButtonRadius)?parseInt(e.BalloonButtonRadius):15,e.ButtonShadowWidth=Kc(e.ButtonShadowWidth)?parseInt(e.ButtonShadowWidth):0,e.BalloonRadius=Kc(e.BalloonRadius)?parseInt(e.BalloonRadius):15,e.FooterTextColor=Kc(e.FooterTextColor)?e.FooterTextColor:e.HeaderColor,e};var Oc=function(e,t,n){try{var r=t.body,i=t.documentElement,o=r.scrollTop||i.scrollTop,a=r.scrollLeft||i.scrollLeft,s=no(r,n);return o-=s.top,a-=s.left,{top:Math.round(o),left:Math.round(a)}}catch(u){ia.Logger.error(u)}};this.getBodyInheritedMargin=function(){var e={top:0,left:0};if(hc("ignoreBodyInheritedMargin"))return e;var t=!1,n=mtjQuery("body").find("div").filter(function(){if(t)return!1;var e=mtjQuery(this);if("relative"!=e.css("position"))return!1;var n=null,r=null,i=parseInt(e.css("margin-top")),o=0!=i&&parseInt((r=e.position()).top)==-1*parseInt((n=e.offset()).top),a=!1;if(!o){var s=parseInt(e.css("margin-left"));a=0!=s&&parseInt(null!=r?r.left:e.position().left)==-1*parseInt(null!=n?n.left:e.offset().left)}return t=(o||a)&&uo(e)}).eq(0);return n.length>0&&(e={top:parseInt(n.css("margin-top")),left:parseInt(n.css("margin-left"))}),e};var Gc=function(e,t){var n=parseInt(Vo(t,"leftOffset",0)),r=parseInt(Vo(t,"topOffset",0));return e.top=e.top+r,e.left=e.left+n,e.right=e.right+n,e.bottom=e.bottom+r,e},Uc=function(e){var t=e.body.scrollTop?e.body.scrollTop:e.documentElement.scrollTop,n=e.body.scrollLeft?e.body.scrollLeft:e.documentElement.scrollLeft;return{Top:t,Left:n}};this.decideWhereToPopForCaptureBalloon=function(e,t,n,r,i){var o=wmjQuery(Su.get().BalloonSettings,{BalloonVersion:i});return ia.getBalloonDrawer(o).decideWhereToPopForCaptureBalloon(e,t,n,r)};var Fc=function(e){var t=document;try{if(e.data("iframe")){t=e.data("iframe")[0];var n=t.contentWindow?t.contentWindow.document:null;t=t.contentDocument||n}}catch(r){}return t},Bc=function(e,t){e.css("position","absolute"),e.css("z-index",t),e.addClass("SkipThisFixedPosition")},Wc=function(e,t){e.css("background-color","red"),Bc(e,t),e.css("display","inline")},Qc=function(e,t,n,r,i,o,a,s){return a>=n&&e>=i&&r>=s&&o>=t},Vc=function wd(e,t){var n=e.data("iframe");return t||(t=[]),n&&(t.push(n),wd(n,t)),t},Hc=function(e){var t;t=mtjQuery(e.data("iframe")?e.data("iframe"):window);var n=Fc(e);return t.left=function(){return Uc(n).Left},t.top=function(){return Uc(n).Top},t},$c=function(e,t,n){e.on(t,n),jl.push({element:e,eventName:t})};this.mt_log=function(e){wo(e,5)};var f=function(e){return"boolean"==typeof e?!1:!isNaN(e-0)},zc=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},qc=function(){return zc()+zc()+"-"+zc()+"-"+zc()+"-"+zc()+"-"+zc()+zc()+zc()};ua.register("GenerateGuidFunc").asInstance(qc),ua.register("GetAuditSourceFunc").asInstance(Co),this.setAuditSource=function(e){var t=Bs.SOURCES[e],n=void 0!=t?t:parseInt(e);Qs.set(n)},this.generateNewPlayGuid=function(e){var t=qc();return t=(new Date).getTime()+"-"+e+"-"+t},this.generateNewGuid=function(e){return qc()},this.sendWidgetOpenLogToServer=function(){return ko()?!0:void sl.SendWidgetOpen()},this.sendSearchResultClickedToServer=function(e,t,n,r,i,o){if(!hc("noAudit")){var a=ia.getPlayerServer(),s=hl.execute({url:a+"/Search/SearchResultClicked",dataType:"jsonp",data:{userGuid:e,searchGuid:t,resultSearchProvider:n,selectedItem:r,permutationId:ia.getABPermutationId(),endUserGuid:ia.getEndUserGuid(),source:Co()}});s.success(i),s.error(o)}},this.getSearchResultsFromServer=function(e,t,n,r,i){var o=ia.getPlayerServer(),a=hl.execute({url:o+"/Search/Search",data:{userGuid:e,query:t,permutationId:ia.getABPermutationId(),endUserGuid:ia.getEndUserGuid(),source:Co(),saveSearch:!i},timeout:cu});return a.success(n),a.error(r),a},this.saveSearchToServer=function(e,t,n,r){if(!hc("noAudit")){var i=ia.getPlayerServer(),o=hl.execute({url:i+"/Search/SaveSearch",dataType:"jsonp",data:{userGuid:e,query:t,permutationId:ia.getABPermutationId(),endUserGuid:ia.getEndUserGuid(),source:Co()},timeout:cu});o.success(n),o.error(r)}},this.sendResultClickedBeforeSearchToServer=function(e,t,n,r,i){var o=ia.getPlayerServer(),a=hl.execute({url:o+"/Search/ResultClickedBeforeSearch",dataType:"jsonp",data:{userGuid:t,searchQuery:e,selectedItem:n,permutationId:ia.getABPermutationId(),endUserGuid:ia.getEndUserGuid(),source:Co()}});a.success(r),a.error(i)},ia.getBrowser=function(){return Us.browser.string},ia.isQuirksMode=function(e){return Us.isQuirksMode(e)};this.getElementStrength=function(e){var t={score:-1},n=o(e);Qn(n,0,{BalloonSettings:{}});var r=ia.findElement(n,null,t);return r?t.score:null},this.findElement=function(e,t,n){try{var r=gl.findElement(e,t,n);return r}catch(i){ia.Logger.error(i)}};var Kc=function(e){return null!=e&&void 0!=e},Xc=new No;Xc.NumNodeRemove=1e4;var Yc=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n},Jc=function(e,t,n){var r=t;return td(e,function(e){r=n(r,e)}),r},Zc=function(e,t){return null!=ed(e,t)},ed=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},td=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},nd=function(e,t){for(var n=new Array,r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},rd=function(e){ia.redirectPopupOK(e)};this.redirectPopupOK=function(e){Ci(),Sl.libSetTimeout(function(){window.location=e},200),Uo()},this.redirectPopupCancel=function(){Uo()};var id=void 0,od=void 0;this.getMarginAutoStyles=function(){return void 0==id&&(id=[],td(document.styleSheets,ld)),id};var ad=function(){return void 0==od&&(od=[],td(document.styleSheets,sd)),od},sd=function bd(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?bd(r.styleSheet):ud(r.style)&&od.push(r.selectorText)}}catch(i){}},ud=function(e){var t=e.width;if(t){for(var n="",r=0;r<t.length;r++)isNaN(t[r])||(n+=t[r]);if(n&&parseInt(n)>700&&(-1!=t.indexOf("p")||-1!=t.indexOf("e")||-1!=t.indexOf("m")||-1!=t.indexOf("i")))return!0}return!1},ld=function Sd(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?Sd(r.styleSheet):cd(r.style)&&id.push(r.selectorText)}}catch(i){}},cd=function(e){if(e){var t=mtjQuery.trim(e.margin),n=mtjQuery.trim(e.marginLeft),r=mtjQuery.trim(e.marginRight),i=Ao(t,"0")&&Eo(t,"auto"),o="auto"==n&&"auto"==r;if(i||o)return!0}return!1},dd=function(e){var t=mtjQuery(e),n=t.data("mt_isElementFixedWidth");if(1==n)return!0;if(0==n)return!1;var r=gd(e);return t.data("mt_isElementFixedWidth",r),r},fd=function(e){var t=mtjQuery(e),n=t.data("mt_isElementMarginAuto");if(1==n)return!0;if(0==n)return!1;var r=hd(e);return t.data("mt_isElementMarginAuto",r),r},pd=function(e,t){for(var n=!1,r=0;r<t.length;r++){var i=t[r];if(n=mtjQuery(e).is(mtjQuery(i)))return n}return n},gd=function(e){if(ud(e.style))return!0;var t=pd(e,ad());return t},hd=function(e){if(cd(e.style))return!0;var t=pd(e,ia.getMarginAutoStyles());return t};this.getCenteredElement=function(e){for(var t=mtjQuery(e).parents(),n=null,r=t.length-1;r>=0;r--)try{var i=dd(t[r]);if(i){var o=mtjQuery(t[r]),a=mtjQuery(window).width(),s=o.width(),u=o.offset().left,l=a-s;if(l>0&&l/2==u){n=o;break}if(0>l&&l==u){n=o;break}if(fd(o)){n=mtjQuery(o);break}}}catch(c){wo("error-----------------------------------",5),ia.Logger.error(c)}return n},ia.injectCustomCSS=function(e,t){jo(e,t)};var md;Bo.prototype.Generate=function(e){var t=mtjQuery(e.createElement("div"));return t.css("display","block"),t.css("width","0"),t.css("height","0"),t.css("border",this.width+"px solid transparent"),t.css("border-"+Xs[this.point_direction]+"-color",this.color),t.css("line-height","0"),t.css("border-"+Xs[(this.point_direction+2)%4],"0px"),3==this.point_direction||1==this.point_direction?t.css("border-style","outset solid solid solid"):t.css("border-style","solid outset solid solid"),t},this.parseBBCode=function(e){return Ls.parse(e)},this.shouldHandlePageAsFramesets=function(){return!fc&&Bu.isFramesetsPage()},this.isFramesetsPage=function(){return ia.shouldHandlePageAsFramesets()};var vd=null;this.getBiggestFrame=function(){var e=!1;try{e=!vd||!Bu.isFrameActive(vd)||mtjQuery("frameset",vd.contentWindow.document).length>0}catch(t){e=!0}var n=vd;return e&&(n=Bu.findBiggestFrame(),hc("noBiggestFrameCache")||(vd=n)),n},this.centerElementInPage=function(e,t,n,r){var i=window;if(ia.shouldHandlePageAsFramesets()&&(i=ia.getBiggestFrame().contentWindow),Xo())return Jo(e,t);var o={top:0,left:0};n&&(o.top+=n.top,o.left+=n.left);var a=no(e.parent()[0],i);return o.top-=a.top,o.left-=a.left,Yo(e,t,mtjQuery(i).scrollLeft(),mtjQuery(i).scrollTop(),mtjQuery(i).width(),mtjQuery(i).height(),o,r)};var yd=function(e,t){for(var n,r={"&amp;":"&","&apos;":"'","&#39;":"'","&quot;":'"',"&lt;":"<","&gt;":">"},i=[],o=0,a=0,s=0;o<e.length;){if(n=!1,"&"==e.charAt(o)){var u=e.substring(o,o+6).toLowerCase(),l=r[u];s=l?6:s;var c=e.substring(o,o+5).toLowerCase(),d=r[c];s=d?5:s;var f=e.substring(o,o+4).toLowerCase(),p=r[f];s=p?4:s;var g=p||d||l,h=-1!=Ro(g,t);if(g&&h){var m=e.substring(a,o);i.push(m),i.push(g),o+=s,a=o,n=!0}}n||o++}var v=e.substring(a,o);i.push(v);var y=i.join("");return y};ua.register("DecodeHtmlFunction").asInstance(yd),ua.register("ConditionTreeEvaluator").asCtor(ea).dependencies("ConditionFunctions"),ua.register("AbTestingManager").asCtor(na).dependencies("StorageManager,SiteConfigManager,Lib,Logger,RecorderServerManager"),this.shouldShowWidgetAccordingToAbTesting=function(){return ia.isWalkMeVisible()},this.isWalkMeVisible=function(){return 0!==Su.get().ShowWalkMe&&(!ol||ol.shouldShowWidget())},this.completeGoalById=function(e){return As.completeGoalById(e)},this.getCompletedGoals=function(e,t){return Ou.getCompletedGoals(e,t)},this.setDeployablesJson=function(e,t){try{var n=o(t);wmjQuery.each(n,function(e,t){t.userGuid=nl}),ia.getDeployablesManager(e).setDeployables(n)}catch(r){ia.Logger.error(r)}},ia.getAbtestingGoalsManager=function(){return dl},ia.getElementTextArray=function(e){return ua.get("ElementTextExtractor").getElementTextArray(e)},dn.apply(null,arguments)}function ClassWalkMeAPI(){function e(e,t){for(var r=[],i=0;i<e.length;i++)for(var o=e[i].LinkedTutorials,a=0;a<o.length;a++)r.push(o[a]);for(var s=[],i=0;i<t.length;i++)n(t[i].Id,r)||s.push(t[i]);return s}function t(e,t,r){for(var i=[],o=0;o<e.length;o++)if(n(e[o].Id,t)){var a=mtjQuery.extend(!0,{},e[o]);a.labelId=r,i.push(a)}return i}function n(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function r(e){for(var t=_makeTutorial.getTutorials(),n=0;n<t.length;n++)if(t[n].TutorialId==e)return n;return-1}this.LocalSVNRevision="$Rev: 5275 $";var i=this,o=5,a=100,s=_makeTutorial.getPlayInitiatorEnum();this.getPlayInitiatorEnum=function(){return s},this.getWalkthrus=function(e){for(var t=_makeTutorial.getTutorials(),n=new Array,r=0;r<t.length;r++){var i=t[r].CustomField1;i&&(i=i.replace(/&quot;/gi,'"'),i=i.replace(/&apos;/gi,"'"),i=i.replace(/&#39;/gi,"'"),i=i.replace(/&amp;/gi,"&"));var o={Index:r,Name:t[r].Name,Id:t[r].TutorialId,Visible:t[r].IsVisible,CustomField1:i,Description:t[r].Description};e&&(o.ConditionsPassed=_makeTutorial.canShowTutorial(t[r]),o.isPackageHidden=_makeTutorial.isTutorialPackageHidden(t[r]),o.Keywords=void 0==t[r].Keywords?[]:t[r].Keywords),n.push(o)}return n},this.getWalkthrusLabels=function(n){var r=_makeTutorial.getWalkthrusLabels();if(null==r)return null;for(var i=this.getWalkthrus(n),o=e(r,i),a=_makeTutorial.getSiteConfig(),s=[],u=0;u<r.length;u++){var l={Name:r[u].Name,Id:r[u].Id,Walkthrus:t(i,r[u].LinkedTutorials,r[u].Id)};s.push(l)}return{unlabeledWalkthrus:o,labels:s,unlabeledFirst:a.Settings.labels&&1==a.Settings.labels.unlabeldOnTop}},this.startContentById=function(e){return 0>e?!1:_makeTutorial.startContentById(e)},this.startSurveyById=function(e){return 0>e?!1:_makeTutorial.startSurveyById(e)},this.startWalkthruById=function(e,t){"object"!=typeof e&&(e={id:e,fromStep:t});var n=e.id,o=e.fromStep,a=e.playInitiator;if(0>n||"number"!=typeof n)return!1;var u=r(n);return 0>u?!1:(a||(a={type:s.API}),i.startWalkthruByIndex({index:u,fromStep:o,playInitiator:a}))},this.startWalkthruByIndex=function(e,t){if(!_makeTutorial.isWalkMeVisible())return!1;"object"!=typeof e&&(e={index:e,fromStep:t});var n=e.index,r=e.fromStep,i=e.playInitiator;return 0>n||"number"!=typeof n?!1:(i||(i={type:s.API}),_makeTutorial.startNewTutorial(n,r,!1,i))},this.canStartWalkthru=function(e,t){if(!_makeTutorial.isWalkMeVisible())return!1;if(0>e||"number"!=typeof e)return!1;var n=r(e);return 0>n?!1:_makeTutorial.startNewTutorial(n,t,!0)},this.setWalkthruVisibility=function(e,t){var n=_makeTutorial.getTutorials(),i=r(e);return 0>i?!1:(n[i].IsVisible=t,!0)},this.stopWalkthru=function(){_makeTutorial.stopTutorial()},this.setAnalyticsCustomField=function(e,t){return e>o||1>e||t.length>a?!1:_makeTutorial.setAnalyticsCustomFields(e-1,t)},this.enableLogs=function(e){return void 0==e&&(e=!0),this.log.enable(e)},this.loadTasks=function(e,t){return _makeTutorial.loadTasks(e,t)},this.getTasks=function(e){return _makeTutorial.getApiTasks(e)},this.getWidgetMode=function(){return"Walkthrus"},this.setWidgetMode=function(e){return"Deprecated"},this.getWidgetInitialState=function(){return"Closed"},this.changeLanguage=function(e,t){return _makeTutorial.changeLanguage(e,t)},this.getSupportedLanguages=function(){return _makeTutorial.getSupportedLanguages()},this.getCurrentLanguage=function(){return _makeTutorial.getCurrentLanguage()},this.getTree=function(){return _makeTutorial.getUiDataProvider().uiObjectsTree()},this.triggerUIChange=function(){return _makeTutorial.getUiTracker().triggerUIChange()},this.launchTracker=function(e,t){return _makeTutorial.launchDebugger(e,t)},this.startTestMe=function(e){_makeTutorial.rememberTestMeIsOn(),window.walkMeTestMeClearStorage=!0,window.walkmeTestMeFilter=e,window._testMe?(_testMe.exit(),_testMe.start()):_makeTutorial.loadTestMe()},i.log=_makeTutorial.Logger.getAPI()}var wmjQuery=mtjQuery;if(mtjQuery)mtjQuery.expr&&mtjQuery.expr.filters&&(mtjQuery.expr.filters.mt_hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!mtjQuery.support.reliableHiddenOffsets&&"none"===(e.style.display||mtjQuery.css(e,"display"))||"hidden"===mtjQuery.css(e,"visibility")},mtjQuery.expr.filters.mt_visible=function(e){return!mtjQuery.expr.filters.mt_hidden(e)}),mtjQuery.trim=function(e){var t=/^\s+/,n=/\s+$/;return null==e?"":e.toString().replace(t,"").replace(n,"")};else try{console.log("mtjQuery undefined")}catch(e){}!function(e){function t(e){return e.replace(/^-+$/g,"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}e.extend({safeEach:function(t,n){return e.each(t,function(e,r){t.hasOwnProperty(e)&&n(e,r)})}}),e.fn.safeEach=function(t){return e.safeEach(this,t)},e.fn.important=function(t,n){var r=this;return"object"==typeof t?(e.safeEach(t,function(e,t){r.important(e,t)}),r):r.safeEach(function(r,i){e(i).css(t,"").attr("style",function(e,r){var i=new RegExp("(^|;)\\s*"+t+"\\s*:[^;]*(;|$)","gi");return(r||"").replace(i,"$1").replace(/;$/gi,"")+";"+(void 0!=n?t+": "+n+" !important;":"")})})},e.fn.cssReset=function(n,r){if(n){var i=this;if("object"==typeof n)return e.safeEach(n,function(e,t){i.cssReset(e,t)}),i;var o;return"string"==typeof r&&(o=r.indexOf("!important")>-1,r=e.trim(r.replace("!important",""))),i.safeEach(function(i,a){a.style[n]||a.style[t(n)]||(o?e(a).important(n,r):e(a).css(n,r))})}},e.fn.exist=function(){return!!this.length},e.fn.or=function(t,n){return this.length?this:e(t,n)},e.fn.allCss=function(){if(1==this.length){var t={},n=this.attr("style");if(!n)return t;for(var r=n.split(";"),i=r.length-1;i>=0;i--){var o=r[i].split(":"),a=e.trim(o[0]);a&&(t[a]=e.trim(o[1]))}return t}},e.extend(e.expr[":"],{textEquals:function(t,n,r){return e(t).text()==r[3]}})}(wmjQuery),function(e){"use strict";function t(t,n){e.extend(this,n),this.$select=t,e.extend(this,this.markup(t)),this.bindEvents()}function n(r){return"string"!=typeof r&&(r=e.extend({},n.options,r)),this.filter("select").each(function(){var n=e(this),i=n.data(r.baseName);"string"==typeof r?i[r].apply(n,[].slice.call(arguments,1)):i||n.data(r.baseName,new t(n,r))}),this}t.prototype={getValue:function(e){return"function"==typeof this[e]?this[e]():this[e]},onFocusBlur:function(e){this.$el.toggleClass(this.generateClassName("focus",!0),e&&("focus"===e.type||"focusin"===e.type)||this.$select.is(":focus"))},updateTitle:function(){var e=this.$select.find(":selected"),t=this.formatter(e.text(),this.$select.val(),e,this.$select);this.allowHtmlInTitle?this.$title.html(t):this.$title.text(t)},bindEvents:function(){this.$el.on("focusin."+this.baseName+" focusout."+this.baseName,e.proxy(this.onFocusBlur,this)),this.onFocusBlur(),this.$select.on("change."+this.baseName,e.proxy(this.updateTitle,this)),this.$select.on("keyup."+this.baseName,e.proxy(this.updateTitle,this)),this.updateTitle()},destroy:function(){this.$el.off("."+this.baseName),this.$select.off("."+this.baseName),this.$select.removeClass(this.generateClassName("select")).insertBefore(this.$el),this.$el.remove()}},n.klass=t,n.formatter=function(e,t,n,r){return e},n.markup=function(t){var n=t.addClass(this.generateClassName("select")).wrap('<span class="'+this.generateClassName()+'"/>').parent();return e('<span class="'+this.generateClassName("arrow")+'"/>').prependTo(n),{$el:n,$title:e('<span class="'+this.generateClassName("title")+'"/>').prependTo(n)}},n.generateClassName=function(e,t){return this.getValue("baseName")+(e?"-"+e:"")},n.options={baseName:"brute-select",generateClassName:n.generateClassName,markup:n.markup,formatter:n.formatter,allowHtmlInTitle:!1},e.fn.bruteSelect=n}(mtjQuery),function(e){e.fn.fixedPosition=function(e){}}(mtjQuery),function(e){e.extend({highlight:function(t,n,r,i){if(3===t.nodeType){var o=t.data.match(n);if(o){var a=document.createElement(r||"span");a.className=i||"walkme-highlight";var s=t.splitText(o.index);s.splitText(o[0].length);var u=s.cloneNode(!0);return a.appendChild(u),s.parentNode.replaceChild(a,s),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==r.toUpperCase()||t.className!==i))for(var l=0;l<t.childNodes.length;l++)l+=e.highlight(t.childNodes[l],n,r,i);return 0}}),e.fn.unhighlight=function(t){var n={className:"walkme-highlight",element:"span"};return e.extend(n,t),this.find(n.element+"."+n.className).each(function(){var t=this.parentNode;t&&(t.replaceChild(this.firstChild,this),e(t).text(e(t).text()))}).end()},e.fn.highlight=function(t,n){var r={className:"walkme-highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(e.extend(r,n),t.constructor===String&&(t=[t]),t=e.grep(t,function(e,t){return""!=e}),t=e.map(t,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==t.length)return this;var i=r.caseSensitive?"":"i",o="("+t.join("|")+")";r.wordsOnly&&(o="\\b"+o+"\\b");var a=new RegExp(o,i);return this.each(function(){e.highlight(this,a,r.element,r.className)})}}(mtjQuery),function(e,t,n){e.fn.jScrollPane=function(r){function i(r,i){function o(t){var i,u,c,f,p,g,v=!1,y=!1;if(W=t,Q===n)p=r.scrollTop(),g=r.scrollLeft(),r.important({overflow:"hidden",padding:0}),V=r.innerWidth()+be,H=r.innerHeight(),r.width(V),Q=e('<div class="walkme-jspPane" />').css("padding",we).append(r.children()),$=e('<div class="walkme-jspContainer" />').css({width:V+"px",height:H+"px"}).append(Q).appendTo(r),a(r);else{if(r.css("width",""),v=W.stickToBottom&&E(),y=W.stickToRight&&A(),f=r.innerWidth()+be!=V||r.outerHeight()!=H,f&&(V=r.innerWidth()+be,H=r.innerHeight(),$.css({width:V+"px",height:H+"px"})),!f&&Se==z&&Q.outerHeight()==q)return void r.width(V);Se=z,Q.css("width",""),r.width(V),$.find(">.walkme-jspVerticalBar,>.walkme-jspHorizontalBar").remove().end()}Q.css("overflow","auto"),z=t.contentWidth?t.contentWidth:Q[0].scrollWidth,q=Q[0].scrollHeight,Q.css("overflow",""),K=V>z?1:z/V,X=H>q?1:q/H,Y=X>1||W.alwaysScrollVertical,J=K>1||W.alwaysScrollHorizontal,J||Y?(r.addClass("walkme-jspScrollable"),i=W.maintainPosition&&(te||ie),i&&(u=_(),c=D()),s(),l(),d(),i&&(C(y?z-V:u,!1),I(v?q-H:c,!1)),j(),P(),F(),W.enableKeyboardNavigation&&L(),W.clickOnTrack&&h(),G(),W.hijackInternalLinks&&U()):(r.removeClass("walkme-jspScrollable"),Q.css({top:0,left:0,right:0,width:$.width()-be}),N(),M(),O(),m()),W.autoReinitialise&&!ye?ye=setInterval(function(){o(W)},W.autoReinitialiseDelay):!W.autoReinitialise&&ye&&clearInterval(ye),p&&r.scrollTop(0)&&I(p,!1),g&&r.scrollLeft(0)&&C(g,!1),r.trigger("walkme-jsp-initialised",[J||Y])}function a(t){var n=e(t).find('div[class*="walkme-jsp"]').add(t);n.each(function(t,n){var r="class",i=e(n),o=i.attr(r);i.attr(r,"").attr(r,o)})}function s(){Y&&($.append(e('<div class="walkme-jspVerticalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapTop" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragTop" />'),e('<div class="walkme-jspDragBottom" />'))),e('<div class="walkme-jspCap walkme-jspCapBottom" />'))),a($),oe=$.find(">.walkme-jspVerticalBar"),ae=oe.find(">.walkme-jspTrack"),Z=ae.find(">.walkme-jspDrag"),W.showArrows&&(ce=e('<a class="walkme-jspArrow walkme-jspArrowUp" />').bind("mousedown.walkme-jsp",p(0,-1)).bind("click.walkme-jsp",R),de=e('<a class="walkme-jspArrow walkme-jspArrowDown" />').bind("mousedown.walkme-jsp",p(0,1)).bind("click.walkme-jsp",R),W.arrowScrollOnHover&&(ce.bind("mouseover.walkme-jsp",p(0,-1,ce)),de.bind("mouseover.walkme-jsp",p(0,1,de))),f(ae,W.verticalArrowPositions,ce,de)),ue=H,$.find(">.walkme-jspVerticalBar>.walkme-jspCap:visible,>.walkme-jspVerticalBar>.walkme-jspArrow").each(function(){ue-=e(this).outerHeight()}),Z.hover(function(){Z.addClass("walkme-jspHover")},function(){Z.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",R),Z.addClass("walkme-jspActive");var n=t.pageY-Z.position().top;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){y(e.pageY-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),u())}function u(){ae.height(ue+"px"),te=0,se=W.verticalGutter+ae.outerWidth(),Q.width(V-se-be);try{0===oe.position().left&&Q.css("margin-left",se+"px")}catch(e){}}function l(){J&&($.append(e('<div class="walkme-jspHorizontalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapLeft" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragLeft" />'),e('<div class="walkme-jspDragRight" />'))),e('<div class="walkme-jspCap walkme-jspCapRight" />'))),a($),fe=$.find(">.walkme-jspHorizontalBar"),pe=fe.find(">.walkme-jspTrack"),ne=pe.find(">.walkme-jspDrag"),W.showArrows&&(me=e('<a class="walkme-jspArrow walkme-jspArrowLeft" />').bind("mousedown.walkme-jsp",p(-1,0)).bind("click.walkme-jsp",R),ve=e('<a class="walkme-jspArrow walkme-jspArrowRight" />').bind("mousedown.walkme-jsp",p(1,0)).bind("click.walkme-jsp",R),W.arrowScrollOnHover&&(me.bind("mouseover.walkme-jsp",p(-1,0,me)),ve.bind("mouseover.walkme-jsp",p(1,0,ve))),f(pe,W.horizontalArrowPositions,me,ve)),ne.hover(function(){ne.addClass("walkme-jspHover")},function(){ne.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",R),ne.addClass("walkme-jspActive");var n=t.pageX-ne.position().left;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){b(e.pageX-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),ge=$.innerWidth(),c())}function c(){$.find(">.walkme-jspHorizontalBar>.walkme-jspCap:visible,>.walkme-jspHorizontalBar>.walkme-jspArrow").each(function(){ge-=e(this).outerWidth()}),pe.width(ge+"px"),ie=0}function d(){if(J&&Y){var t=pe.outerHeight(),n=ae.outerWidth();ue-=t,e(fe).find(">.walkme-jspCap:visible,>.walkme-jspArrow").each(function(){ge+=e(this).outerWidth()}),ge-=n,H-=n,V-=t,pe.parent().append(e('<div class="walkme-jspCorner" />').css("width",t+"px")),a(pe.parent()),u(),c()}J&&Q.width($.outerWidth()-be+"px"),q=Q.outerHeight(),X=H>q?1:q/H,J&&(he=Math.ceil(1/K*ge),he>W.horizontalDragMaxWidth?he=W.horizontalDragMaxWidth:he<W.horizontalDragMinWidth&&(he=W.horizontalDragMinWidth),ne.width(he+"px"),re=ge-he,S(ie)),Y&&(le=Math.ceil(1/X*ue),le>W.verticalDragMaxHeight?le=W.verticalDragMaxHeight:le<W.verticalDragMinHeight&&(le=W.verticalDragMinHeight),Z.height(le+"px"),ee=ue-le+W.dragMaxYOffset,w(te))}function f(e,t,n,r){var i,o="before",a="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?a=t:t==a&&(o=t,i=n,n=r,r=i),e[o](n)[a](r)}function p(e,t,n){return function(){return g(e,t,this,n),this.blur(),!1}}function g(t,n,r,i){r=e(r).addClass("walkme-jspActive");var o,a,s=!0,u=function(){0!==t&&Te.scrollByX(t*W.arrowButtonSpeed),0!==n&&Te.scrollByY(n*W.arrowButtonSpeed),a=setTimeout(u,s?W.initialDelay:W.arrowRepeatFreq),s=!1};u(),o=i?"mouseout.walkme-jsp":"mouseup.walkme-jsp",i=i||e(W.containerDoc).find("html"),i.bind(o,function(){r.removeClass("walkme-jspActive"),a&&clearTimeout(a),a=null,i.unbind(o)})}function h(){m(),Y&&ae.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,i=e(this),o=i.offset(),a=t.pageY-o.top-te,s=!0,u=function(){var e=i.offset(),n=t.pageY-e.top-le/2,o=H*W.scrollPagePercent,c=ee*o/(q-H);if(0>a)te-c>n?Te.scrollByY(-o):y(n);else{if(!(a>0))return void l();n>te+c?Te.scrollByY(o):y(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}}),J&&pe.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,i=e(this),o=i.offset(),a=t.pageX-o.left-ie,s=!0,u=function(){var e=i.offset(),n=t.pageX-e.left-he/2,o=V*W.scrollPagePercent,c=re*o/(z-V);if(0>a)ie-c>n?Te.scrollByX(-o):b(n);else{if(!(a>0))return void l();n>ie+c?Te.scrollByX(o):b(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}})}function m(){pe&&pe.unbind("mousedown.walkme-jsp"),ae&&ae.unbind("mousedown.walkme-jsp")}function v(){e(W.containerDoc).find("html").unbind("dragstart.walkme-jsp selectstart.walkme-jsp mousemove.walkme-jsp mouseup.walkme-jsp mouseleave.walkme-jsp"),Z&&Z.removeClass("walkme-jspActive"),ne&&ne.removeClass("walkme-jspActive")}function y(e,t){Y&&(0>e?e=0:e>ee&&(e=ee),t===n&&(t=W.animateScroll),t?Te.animate(Z,"top",e,w):(Z.css("top",e),w(e)))}function w(e){e===n&&(e=Z.position().top),$.scrollTop(0),te=e;var t=0===te,i=te==ee,o=e/ee,a=-o*(q-H);(ke!=t||Ce!=i)&&(ke=t,Ce=i,r.trigger("walkme-jsp-arrow-change",[ke,Ce,Ie,xe])),T(t,i),Q.css("top",a);try{r.trigger("walkme-jsp-scroll-y",[-a,t,i]).trigger("scroll")}catch(s){}}function b(e,t){J&&(0>e?e=0:e>re&&(e=re),t===n&&(t=W.animateScroll),t?Te.animate(ne,"left",e,S):(ne.css("left",e),S(e)))}function S(e){e===n&&(e=ne.position().left),$.scrollTop(0),ie=e;var t=0===ie,i=ie==re,o=e/re,a=-o*(z-V);(Ie!=t||xe!=i)&&(Ie=t,xe=i,r.trigger("walkme-jsp-arrow-change",[ke,Ce,Ie,xe])),k(t,i),Q.css("left",a);try{r.trigger("walkme-jsp-scroll-x",[-a,t,i]).trigger("scroll")}catch(s){}}function T(e,t){W.showArrows&&(ce[e?"addClass":"removeClass"]("walkme-jspDisabled"),de[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function k(e,t){W.showArrows&&(me[e?"addClass":"removeClass"]("walkme-jspDisabled"),ve[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function I(e,t){var n=e/(q-H);y(n*ee,t)}function C(e,t){var n=e/(z-V);b(n*re,t)}function x(t,n,r){var i,o,a,s,u,l,c,d,f,p=0,g=0;try{i=e(t)}catch(h){return}for(o=i.outerHeight(),a=i.outerWidth(),$.scrollTop(0),$.scrollLeft(0);!i.is(".walkme-jspPane");)if(p+=i.position().top,g+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;s=D(),l=s+H,s>p||n?d=p-W.verticalGutter:p+o>l&&(d=p-H+o+W.verticalGutter),
isNaN(d)||I(d,r),u=_(),c=u+V,u>g||n?f=g-W.horizontalGutter:g+a>c&&(f=g-V+a+W.horizontalGutter),isNaN(f)||C(f,r)}function _(){return-Q.position().left}function D(){return-Q.position().top}function E(){var e=q-H;return e>20&&e-D()<10}function A(){var e=z-V;return e>20&&e-_()<10}function P(){$.unbind(De).bind(De,function(e,t,n,r){var i=ie,o=te;return Te.scrollBy(n*W.mouseWheelSpeed,-r*W.mouseWheelSpeed,!1),i==ie&&o==te})}function N(){$.unbind(De)}function R(){return!1}function j(){Q.find(":input,a").unbind("focus.walkme-jsp").bind("focus.walkme-jsp",function(e){x(e.target,!1)})}function M(){Q.find(":input,a").unbind("focus.walkme-jsp")}function L(){function t(){var e=ie,t=te;switch(n){case 40:Te.scrollByY(W.keyboardSpeed,!1);break;case 38:Te.scrollByY(-W.keyboardSpeed,!1);break;case 34:case 32:Te.scrollByY(H*W.scrollPagePercent,!1);break;case 33:Te.scrollByY(-H*W.scrollPagePercent,!1);break;case 39:Te.scrollByX(W.keyboardSpeed,!1);break;case 37:Te.scrollByX(-W.keyboardSpeed,!1)}return i=e!=ie||t!=te}var n,i,o=[];J&&o.push(fe[0]),Y&&o.push(oe[0]),Q.focus(function(){r.focus()}),W.setTabIndex&&r.attr("tabindex",0),r.unbind("keydown.walkme-jsp keypress.walkme-jsp").bind("keydown.walkme-jsp",function(r){if(r.target===this||o.length&&e(r.target).closest(o).length){var a=ie,s=te;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=r.keyCode,t();break;case 35:I(q-H),n=null;break;case 36:I(0),n=null}return i=r.keyCode==n&&a!=ie||s!=te,!i}}).bind("keypress.walkme-jsp",function(e){return e.keyCode==n&&t(),!i}),W.hideFocus?(r.css("outline","none"),"hideFocus"in $[0]&&r.attr("hideFocus",!0)):(r.css("outline",""),"hideFocus"in $[0]&&r.attr("hideFocus",!1))}function O(){W.setTabIndex&&r.attr("tabindex","-1").removeAttr("tabindex"),r.unbind("keydown.walkme-jsp keypress.walkme-jsp")}function G(){if(location.hash&&location.hash.length>1){var t,n,r=escape(location.hash.substr(1));try{t=e("#"+r+', a[name="'+r+'"]')}catch(i){return}t.length&&Q.find(r)&&(0===$.scrollTop()?n=setInterval(function(){$.scrollTop()>0&&(x(t,!0),e(W.containerDoc).scrollTop($.position().top),clearInterval(n))},50):(x(t,!0),e(W.containerDoc).scrollTop($.position().top)))}}function U(){e(W.containerDoc.body).data("walkme-jspHijack")||(e(W.containerDoc.body).data("walkme-jspHijack",!0),e(W.containerDoc.body).delegate("a[href*=#]","click",function(n){var r,i,o,a,s,u,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){r=escape(this.href.substr(this.href.indexOf("#")+1));try{i=e("#"+r+', a[name="'+r+'"]')}catch(d){return}i.length&&(o=i.closest(".walkme-jspScrollable"),a=o.data("walkme-jsp"),a.scrollToElement(i,!0),o[0].scrollIntoView&&(s=e(t).scrollTop(),u=i.offset().top,(s>u||u>s+e(t).height())&&o[0].scrollIntoView()),n.preventDefault())}}))}function F(){var e,t,n,r,i,o=!1;$.unbind("touchstart.walkme-jsp touchmove.walkme-jsp touchend.walkme-jsp click.walkme-jsp-touchclick").bind("touchstart.walkme-jsp",function(a){var s=a.originalEvent.touches[0];e=_(),t=D(),n=s.pageX,r=s.pageY,i=!1,o=!0}).bind("touchmove.walkme-jsp",function(a){if(o){var s=a.originalEvent.touches[0],u=ie,l=te;return Te.scrollTo(e+n-s.pageX,t+r-s.pageY),i=i||Math.abs(n-s.pageX)>5||Math.abs(r-s.pageY)>5,u==ie&&l==te}}).bind("touchend.walkme-jsp",function(e){o=!1}).bind("click.walkme-jsp-touchclick",function(e){return i?(i=!1,!1):void 0})}function B(){var e=D(),t=_();r.removeClass("walkme-jspScrollable").unbind(".walkme-jsp"),r.replaceWith(_e.append(Q.children())),_e.scrollTop(e),_e.scrollLeft(t),ye&&clearInterval(ye)}var W,Q,V,H,$,z,q,K,X,Y,J,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,fe,pe,ge,he,me,ve,ye,we,be,Se,Te=this,ke=!0,Ie=!0,Ce=!1,xe=!1,_e=r.clone(!1,!1).empty(),De=e.fn.mwheelIntent?"mwheelIntent.walkme-jsp":"mousewheel.walkme-jsp";"border-box"===r.css("box-sizing")?(we=0,be=0):(we=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft"),be=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0)),e.extend(Te,{reinitialise:function(t){t=e.extend({},W,t),o(t)},scrollToElement:function(e,t,n){x(e,t,n)},scrollTo:function(e,t,n){C(e,n),I(t,n)},scrollToX:function(e,t){C(e,t)},scrollToY:function(e,t){I(e,t)},scrollToPercentX:function(e,t){C(e*(z-V),t)},scrollToPercentY:function(e,t){I(e*(q-H),t)},scrollBy:function(e,t,n){Te.scrollByX(e,n),Te.scrollByY(t,n)},scrollByX:function(e,t){var n=_()+Math[0>e?"floor":"ceil"](e),r=n/(z-V);b(r*re,t)},scrollByY:function(e,t){var n=D()+Math[0>e?"floor":"ceil"](e),r=n/(q-H);y(r*ee,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){y(e,t)},animate:function(e,t,n,r){var i={};i[t]=n,e.animate(i,{duration:W.animateDuration,easing:W.animateEase,queue:!1,step:r})},getContentPositionX:function(){return _()},getContentPositionY:function(){return D()},getContentWidth:function(){return z},getContentHeight:function(){return q},getPercentScrolledX:function(){return _()/(z-V)},getPercentScrolledY:function(){return D()/(q-H)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(e){y(ee,e)},hijackInternalLinks:e.noop,destroy:function(){B()}}),o(i)}return r=e.extend({},e.fn.jScrollPane.defaults,r),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed}),this.each(function(){var t=e(this),n=t.data("walkme-jsp");n?n.reinitialise(r):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new i(t,r),t.data("walkme-jsp",n))})},e.fn.jScrollPane.defaults={containerDoc:document,setTabIndex:!0,alwaysScrollVertical:!1,alwaysScrollHorizontal:!1,dragMaxYOffset:0,showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(wmjQuery,this),function(e){function t(t){var i,o=t||window.event,a=[].slice.call(arguments,1),s=0,u=0,l=0,c=0,d=0;return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(s=o.wheelDelta),o.detail&&(s=-1*o.detail),o.deltaY&&(l=-1*o.deltaY,s=l),o.deltaX&&(u=o.deltaX,s=-1*u),void 0!==o.wheelDeltaY&&(l=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(u=-1*o.wheelDeltaX),c=Math.abs(s),(!n||n>c)&&(n=c),d=Math.max(Math.abs(l),Math.abs(u)),(!r||r>d)&&(r=d),i=s>0?"floor":"ceil",s=Math[i](s/n),u=Math[i](u/r),l=Math[i](l/r),a.unshift(t,s,u,l),(e.event.dispatch||e.event.handle).apply(this,a)}var n,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(wmjQuery),function(e){var t,n={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:"fast",direction:"both"},i=function(t,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var r=document.defaultView&&document.defaultView.getComputedStyle?!0:!1,i={top:parseFloat(r?n.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(r?n.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(r?n.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(r?n.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}},o=function(n){var r=e(window),o=t.test(n[0].nodeName);return{border:o?{top:0,left:0,bottom:0,right:0}:i(n[0]),scroll:{top:(o?r:n).scrollTop(),left:(o?r:n).scrollLeft()},scrollbar:{right:o?0:n.innerWidth()-n[0].clientWidth,bottom:o?0:n.innerHeight()-n[0].clientHeight},rect:function(){var e=n[0].getBoundingClientRect();return{top:o?0:e.top,left:o?0:e.left,bottom:o?n[0].clientHeight:e.bottom,right:o?n[0].clientWidth:e.right}}()}};e.fn.extend({scrollintoview:function(i){i=e.extend({},r,i),i.direction=n["string"==typeof i.direction&&i.direction.toLowerCase()]||n.both;var a="";i.direction.x===!0&&(a="horizontal"),i.direction.y===!0&&(a=a?"both":"vertical"),t="html"==i.rootElement?/^(?:html)$/i:/^(?:body)$/i;var s=this.eq(0),u=i.elementToFindScrollableFor.parent().closest(":scrollable("+a+")");if(!(u.length>0))return!1;"html"==i.rootElement&&u[0].tagName&&u[0].tagName.toUpperCase&&"BODY"==u[0].tagName.toUpperCase()&&(u=u.parent()),u=u.eq(0);var l={e:o(s),s:o(u)};if(i.heightLimit&&u.height()<200)return!1;var c={top:l.e.rect.top-(l.s.rect.top+l.s.border.top),bottom:l.s.rect.bottom-l.s.border.bottom-l.s.scrollbar.bottom-l.e.rect.bottom,left:l.e.rect.left-(l.s.rect.left+l.s.border.left),right:l.s.rect.right-l.s.border.right-l.s.scrollbar.right-l.e.rect.right},d=0,f={top:c.top,bottom:c.bottom};if(i.endScroll){var p=i.endScroll.scrollOptions;d="px"==p.unit?p.distance:(l.s.rect.bottom-i.endScroll.balloonHeight)*parseFloat(p.distance)/100,c.top>0&&c.bottom<0&&(d+=i.endScroll.totalDrawnHeight-l.s.rect.bottom),p.force&&(f.top-=d)}else c.top-=50,c.bottom-=50;var g={};return i.direction.y===!0&&(f.top<0?g.scrollTop=l.s.scroll.top+c.top-d:f.top>0&&f.bottom<0&&(g.scrollTop=l.s.scroll.top+Math.min(c.top,-c.bottom)-d)),i.direction.x===!0&&(c.left<0?g.scrollLeft=l.s.scroll.left+c.left:c.left>0&&c.right<0&&(g.scrollLeft=l.s.scroll.left+Math.min(c.left,-c.right))),g.scrollTop||g.scrollLeft?(t.test(u[0].nodeName)&&(u=e("html,body")),u.animate(g,i.duration).eq(0).queue(function(t){e.isFunction(i.complete)&&i.complete.call(u[0]),t()}),!0):!1}});var a={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(e,r,i,o){var s=n["string"==typeof i[3]&&i[3].toLowerCase()]||n.both,u=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,l={x:a[u.overflowX.toLowerCase()]||!1,y:a[u.overflowY.toLowerCase()]||!1,isRoot:t.test(e.nodeName)};if(!l.x&&!l.y&&!l.isRoot||"hidden"==u.overflowY.toLowerCase())return!1;var c={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(l.x||l.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(l.y||l.isRoot)&&this.height.scroll>this.height.client}};return s.y&&c.scrollableY()||s.x&&c.scrollableX()}})}(mtjQuery);var _makeTutorialEv={Ev:function(src){return eval(src)}};if(void 0==window._makeTutorial&&(_walkMe=_makeTutorial=new ClassMakeTutorial,_makeTutorial.initFailed&&(_walkMe=_makeTutorial=void 0)),window._makeTutorial&&void 0==window.WalkMeAPI)var WalkMeAPI=new ClassWalkMeAPI;